{"version":3,"sources":["webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersAnimation.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersBackgroundStyling.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersButtons.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersFeedback.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersLinks.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersMargin.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersPositioning.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersReset.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersSpinner.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersVisibility.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpers.ts","webpack://vanilla-admin/./library/src/scripts/theming/getThemeVariables.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleUtils.ts","webpack://vanilla-admin/./library/src/scripts/utility/appUtils.tsx","webpack://vanilla-admin/./library/src/scripts/styles/globalStyleVars.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersColors.ts","webpack://vanilla-admin/./library/src/scripts/forms/buttonStyles.ts","webpack://vanilla-admin/./library/src/scripts/icons/iconClasses.ts","webpack://vanilla-admin/./library/src/scripts/@types/api/core.ts","webpack://vanilla-admin/./library/src/scripts/layout/panelListStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/panelWidgetStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/panelAreaStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/panelLayoutStyles.ts","webpack://vanilla-admin/./library/src/scripts/forms/formElementStyles.ts","webpack://vanilla-admin/./library/src/scripts/redux/ReduxActions.ts","webpack://vanilla-admin/./library/src/scripts/styles/shadowHelpers.ts","webpack://vanilla-admin/./library/src/scripts/styles/textUtils.ts","webpack://vanilla-admin/./library/src/scripts/layout/DeviceContext.tsx","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersTypography.ts","webpack://vanilla-admin/./library/src/scripts/theming/themeReducer.ts","webpack://vanilla-admin/./library/src/scripts/features/users/suggestion/SuggestionTrie.ts","webpack://vanilla-admin/./library/src/scripts/features/users/suggestion/UserSuggestionActions.ts","webpack://vanilla-admin/./library/src/scripts/features/users/suggestion/UserSuggestionModel.ts","webpack://vanilla-admin/./library/src/scripts/features/users/UserActions.ts","webpack://vanilla-admin/./library/src/scripts/features/notifications/NotificationsActions.ts","webpack://vanilla-admin/./library/src/scripts/features/users/userModel.ts","webpack://vanilla-admin/./library/src/scripts/locales/localeReducer.ts","webpack://vanilla-admin/./library/src/scripts/redux/reducerRegistry.ts","webpack://vanilla-admin/./library/src/scripts/redux/getStore.ts","webpack://vanilla-admin/./library/src/scripts/forms/borderStylesCalculator.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersBorders.ts","webpack://vanilla-admin/./library/src/scripts/forms/styleHelperButtonGenerator.ts","webpack://vanilla-admin/./library/src/scripts/apiv2.ts","webpack://vanilla-admin/./library/src/scripts/gdn.ts","webpack://vanilla-admin/./library/src/scripts/forms/inputStyles.tsx","webpack://vanilla-admin/./library/src/scripts/content/userContentStyles.ts","webpack://vanilla-admin/./library/src/scripts/routing/links/backLinkStyles.ts","webpack://vanilla-admin/./library/src/scripts/headers/titleBarStyles.ts","webpack://vanilla-admin/./library/src/scripts/theming/ThemeActions.ts","webpack://vanilla-admin/./library/src/scripts/locales/localeActions.ts","webpack://vanilla-admin/./library/src/scripts/styles/styleHelpersfPadding.ts","webpack://vanilla-admin/./library/src/scripts/utility/componentRegistry.tsx","webpack://vanilla-admin/./library/src/scripts/utility/fileUtils.tsx","webpack://vanilla-admin/./library/src/scripts/layout/ScrollOffsetContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/ConditionalWrap.tsx","webpack://vanilla-admin/./library/src/scripts/layout/ScreenReaderContent.tsx","webpack://vanilla-admin/./library/src/scripts/layout/pageHeadingContext.tsx","webpack://vanilla-admin/./library/src/scripts/layout/bodyStyles.ts","webpack://vanilla-admin/./library/src/scripts/layout/Backgrounds.tsx","webpack://vanilla-admin/./library/src/scripts/loaders/loaderStyles.ts","webpack://vanilla-admin/./library/src/scripts/loaders/Loader.tsx","webpack://vanilla-admin/./library/src/scripts/theming/loadThemeFonts.ts","webpack://vanilla-admin/./library/src/scripts/theming/ThemeProvider.tsx","webpack://vanilla-admin/./library/src/scripts/AppContext.tsx"],"names":["defaultTransition","properties","vars","globalVariables","length","transition","map","prop","index","animation","defaultTiming","defaultEasing","background","props","image","fallbackImage","workingImage","charAt","themeAsset","substr","startsWith","assetUrl","getBackgroundImage","backgroundColor","color","colorOut","undefined","backgroundAttachment","attachment","backgroundPosition","position","backgroundRepeat","repeat","backgroundSize","size","backgroundImage","url","objectFitWithFallback","top","right","bottom","left","margin","height","width","percent","$nest","objectFit","objectPosition","allLinkStates","styles","output","allButtonStates","visited","allStates","nested","debugMode","noState","hover","focus","focusNotKeyboard","accessibleFocus","active","logDebug","buttonStates","nest","userSelect","value","isImportant","val","important","pointerEvents","linkStyleFallbacks","specificOverwrite","defaultOverwrite","globalDefault","setAllLinkColors","overwriteValues","linkColors","links","colors","overwrites","mergedColors","default","cursor","margins","marginVals","all","marginTop","unit","marginRight","marginBottom","marginLeft","vertical","horizontal","absolutePosition","topRight","px","topLeft","bottomRight","bottomLeft","middleOfParent","display","maxHeight","maxWidth","middleLeftOfParent","middleRightOfParent","fullSizeOfParent","sticky","flexHelper","middle","wrap","alignItems","justifyContent","flexWrap","middleLeft","inheritHeightClass","styleFactory","style","flexDirection","flexGrow","appearance","spinnerLoaderAnimation","keyframes","transform","deg","spinnerLoader","debug","debugHelper","globalVars","spinnerVars","mainColors","primary","thickness","speed","name","content","quote","borderRadius","borderTop","toString","borderRight","fade","borderBottom","borderLeft","animationName","animationDuration","animationIterationCount","animationTimingFunction","srOnly","padding","overflow","clip","border","visibility","useThemeCache","visuallyHidden","onEmpty","displayNone","componentName","subElementName","$debugName","unitFunction","isNaN","importantUnit","withUnit","negative","trim","substring","getThemeVariables","state","getStore","getState","assets","theme","data","variables","DEBUG_STYLES","Symbol","for","objects","debugName","shouldLogDebug","styleObjs","shift","subcomponentName","restObjects","logWarning","callback","memoize","storeState","themeKey","getMeta","status","cacheKey","args","JSON","stringify","variableFactory","themeVars","componentVars","declaredVars","subcomponentVars","merge","normalizeVariables","newObj","Object","entries","key","componentThemeVariables","subComponentStyles","defaultValue","gdn","meta","parts","split","haystack","part","hasOwnProperty","formatUrl","path","withDomain","indexOf","window","location","origin","siteUrl","_readyHandlers","onReady","push","_executeReady","Promise","resolve","handlerPromises","handler","exec","then","document","readyState","addEventListener","onContent","makeProfileUrl","username","encodeURIComponent","IIconSizes","colorPrimary","makeThemeVars","utility","elementaryColors","black","white","transparent","initialMainColors","fg","bg","secondary","emphasizeLightness","mixBgAndFg","weight","mix","mixPrimaryAndBg","messageColors","warning","error","confirm","deleted","linkColorDefault","linkColorState","body","radius","gutter","half","gutterSize","quarter","lineHeights","base","condensed","code","excerpt","panel","paddedWidth","middleColumn","fonts","large","medium","small","largeTitle","title","subTitle","mobile","weights","normal","semiBold","bold","families","alignment","headings","capitalLetterRatio","verticalOffset","verticalOffsetForAdjacentElements","icon","sizes","xSmall","spacer","embed","text","sizing","smallPadding","select","borderWidth","overlay","fontSize","spacing","verticalMargin","states","opacity","selected","overlayBg","modifyColorBasedOnLightness","dropShadow","fullPageHeadingSpacer","userContent","font","h1","h2","h3","h4","h5","h6","list","listDecoration","minWidth","buttonIcon","offset","separator","userContentHyphenation","minimumCharactersToHyphenate","minimumCharactersBeforeBreak","minimumCharactersAfterBreak","maximumConsecutiveBrokenLines","avoidLastWordToBeBroken","hyphenationZone","mixPrimaryAndFg","findColorMatch","hexCode","logError","colorValue","makeImportant","isLightColor","lightness","flip","Error","isLight","darken","lighten","flipIfMax","colorLightness","weightOffset","Math","abs","weightCurved","colorDarker","colorLighter","ButtonTypes","buttonGlobalVariables","formElVars","formElementsVariables","side","minHeight","compactHeight","buttonVariables","standard","STANDARD","spinnerColor","borders","focusAccessible","PRIMARY","TRANSPARENT","translucid","TRANSLUCID","buttonSizing","paddingHorizontal","formElementVars","lineHeight","buttonResetMixin","buttonClasses","generateButtonClass","buttonUtilityClasses","iconCompact","buttonIconCompact","buttonAsText","textPrimary","buttonAsTextPrimary","custom","pushLeft","pushRight","iconMixin","dimension","outline","asTextStyles","textAlign","fontWeight","buttonIconRightMargin","buttonIconLeftMargin","reset","iconVariables","fileType","newFolder","attachmentError","vanillaLogo","compact","settings","search","notifications","messages","user","userWarning","close","closeCompact","closeTiny","chevronLeftCompact","selectedCategory","signIn","chevronUp","plusCircle","deleteIcon","editIcon","categoryIcon","iconClasses","paddingRight","discussionIcon","alertIcon","alertIconCompact","LoadStatus","PublishStatus","panelListVariables","globalVals","link","panelListClasses","layoutVariables","mediaQueries","root","item","textDecoration","items","panelWidgetClasses","paddings","oneColumnDown","panelAreaClasses","classesPanelWidget","lineHeightAdjustment","foundationalWidths","fullGutter","panelWidth","middleColumnWidth","minimalMiddleColumnWidth","narrowContentWidth","breakPoints","twoColumns","xs","full","halfSize","quarterSize","globalContentWidth","contentSizes","narrow","panelLayoutBreakPoints","noBleed","twoColumn","oneColumn","media","noBleedDown","twoColumnsDown","panelLayoutSpacing","extraPadding","noBreadcrumbs","largePadding","classesPanelArea","classesPanelList","titleBarVars","titleBarVariables","main","viewHeight","paddingTop","container","fullWidth","leftColumn","flexBasis","rightColumn","middleColumnMaxWidth","calc","breadcrumbs","isSticky","cssRule","varsLayouts","halfHeight","horizontalPadding","verticalPadding","giantInput","largeInput","errorSpacing","placeholder","disabled","buttonMarginAlignment","DEFAULT","iconSize","SMALL","LARGE","paragraph","varsGlobal","paddingLeft","paddingBottom","actions","actionButton","activeButton","ReduxActions","dispatch","api","actionCreator","apply","this","type","payload","requestType","responseType","errorType","dummyResponseType","dummyMetaType","request","createApiRequestAction","response","createApiResponseAction","createApiErrorAction","endpoint","actionCreators","params","requestPromise","get","c","bindThunkAction","asyncWorker","extra","a","started","result","done","failed","shadowHelper","shadowBaseColor","baseColor","boxShadow","embedHover","dropDown","modal","contrast","hasBorder","shadowColor","makeShadow","shadowOrBorderBasedOnLightness","referenceColor","borderStyles","shadowStyles","ColorHelper","nestedStyles","letterToLineHeightRatio","Position","vOffset","letterRatio","calculateOffset","isBefore","BEFORE","emptySpace","em","before","after","AFTER","Devices","DeviceContext","React","createContext","DESKTOP","useDevice","useContext","DeviceProvider","calculateDevice","useCallback","breakpoints","clientWidth","XS","MOBILE","TABLET","NO_BLEED","useState","device","setDevice","useEffect","throttledUpdate","throttle","removeEventListener","Provider","children","fontFallbacks","textInputSizingFromFixedHeight","fullBorderWidth","align","textShadow","shadow","fontFamily","family","concat","includes","join","textTransform","placeholderStyles","$unique","singleLineEllipsis","whiteSpace","textOverflow","overflowX","INITIAL_STATE","PENDING","themeReducer","produce","reducerWithInitialState","case","ThemeActions","getAssets","LOADING","SUCCESS","ERROR","SuggestionTrie","word","current","i","letter","contents","node","char","getNode","x","min","MAX_PARTIAL_LOOKUP_ITERATIONS","potentialValue","getValue","UserSuggestionActions","bindDispatch","setActiveAC","trie","UserSuggestionModel","selectSuggestionsTrie","exactLookup","loadUsersACs","partialLookup","getValueFromPartialsOfWord","USER_LIMIT","filterSuggestions","order","limit","apiv2","domID","userID","catch","debounce","interalLoadUsers","suggestionID","suggestionIndex","createAction","SET_ACTIVE_SUGGESTION","users","searchName","searchCollator","Intl","Collator","usage","sensitivity","ignorePunctuation","numeric","filter","userSuggestion","suggestionIDPartial","compare","generateApiActionCreators","LOAD_USERS_REQUEST","LOAD_USERS_RESPONSE","LOAD_USERS_ERROR","lastSuccessfulUsername","currentUsername","activeSuggestionID","activeSuggestionIndex","initialState","action","insert","shouldKeepPreviousResults","previousSuccessfulName","newNameSubstring","sortSuggestions","firstUserID","stateSlice","rest","suggestions","defaultSuggestions","currentNode","isLoading","currentMoment","moment","looseCollator","ACTIVE_THRESHOLD","recentlyActive","lessActive","daysAgo90","subtract","dateLastActive","lastActiveMoment","isSameOrAfter","sortByName","userA","userB","casedSearchName","toLocaleLowerCase","aCasedName","bCasedName","exactToTheTop","sort","allUsers","actionCreatorFactory","COUNT_CACHE_PERIOD","UserActions","apiThunk","getMeACs","currentTime","Date","getTime","lastRequested","countInformation","getCountsACs","async","NotificationsActions","id","dispatchApi","getNotificationACs","getNotificationsACs","markReadACs","read","markAllReadACs","GET_NOTIFICATION_REQUEST","GET_NOTIFICATION_RESPONSE","GET_NOTIFICATION_ERROR","GET_NOTIFICATIONS_REQUEST","GET_NOTIFICATIONS_RESPONSE","GET_NOTIFICATIONS_ERROR","MARK_READ_REQUEST","MARK_READ_RESPONSE","MARK_READ_ERROR","MARK_ALL_READ_REQUEST","MARK_ALL_READ_RESPONSE","MARK_ALL_READ_ERROR","suggestionReducer","reducer","counts","usersReducer","countUnreadNotifications","DEFAULT_LOCALE_STATE","locales","localeReducer","getAllLocalesACs","nextState","dynamicReducers","getReducers","store","initialActions","__ACTIONS__","middleware","thunk","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","quill","compose","applyMiddleware","combineReducers","createStore","forEach","getValueIfItExists","needle","fallback","checkIfKeyExistsAndIsDefined","typeIsStringOrNumber","variable","standardizeBorderRadius","radii","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopLeftRadius","isShorthand","topStyles","bottomStyles","setAllBorders","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","singleBorderStyle","keys","detailedStyles","fallbackBorderVariables","defaultsAll","rightStyles","leftStyles","detailedRadius","singleBorder","generateButtonStyleProperties","buttonTypeVars","setZIndexOnState","buttonGlobals","zIndex","buttonDimensions","defaultBorder","hoverBorder","cloneDeep","activeBorder","focusBorder","focusAccessibleBorder","verticalAlign","touchAction","axios","create","baseURL","headers","common","transformResponse","defaults","responseData","errors","indexArrayByKey","paramsSerializer","qs","permissions","translations","inputVariables","inputClasses","textStyles","borderColor","inputText","applyInputCSSRules","userContentVariables","blocks","embeds","codeInline","paddingVertical","codeBlock","nestedList","ceil","userContentClasses","headingStyle","tag","lists","listStylePosition","listStyle","paragraphSpacing","linkStyle","linkStyles","codeStyles","wordWrap","flexShrink","spoilersAndQuotes","wordBreak","TitleBarBorderType","backLinkVariables","backLinkClasses","label","getLineHeight","inHeading","guest","NONE","buttonSize","button","linkButton","TITLEBAR_LINK","count","dropDownContents","endElements","compactSearch","buttonContents","resister","mobileDropDown","meBox","bottomRow","desaturate","titleBarClasses","headerColors","flex","BORDER","SHADOW","getBorderVars","bar","logoContainer","alignSelf","logoFlexBasis","nav","extraMeBoxIcons","topElement","localeToggle","languages","buttonOffset","centeredButtonClass","searchCancel","tabButtonActive","tabButton","scroll","scrollWithNoScrollBar","rightFlexBasis","leftFlexBasis","register","compactSearchResults","clearButtonClass","guestButton","desktopNavWrap","addGradientsToHintOverflow","logoFrame","logoHeight","logo","gradient","direction","fetchLocalesFromApi","force","localeLoadable","paddingVals","useTheme","disableComponentTheming","_components","addComponent","component","toLowerCase","_mountComponents","parent","querySelectorAll","HTMLElement","getAttribute","parse","Component","getComponent","mountReact","variablesOnly","noTheme","overwrite","FileSizeUnit","humanFileSize","floor","log","unitAbbr","values","fullValue","pow","amount","Number","parseFloat","toFixed","B","t","KB","MB","GB","TB","getUnabbreviatedFileSizeUnit","HumanFileSize","humanSize","numBytes","ScrollOffsetContext","setScrollOffset","resetScrollOffset","scrollOffset","getCalcedHashOffset","temporarilyDisabledWatching","hashOffsetRef","offsetClass","ScrollOffsetProvider","isScrolledOff","hashOffset","isWatchingEnabled","createRef","duration","setState","setTimeout","shouldWatchScroll","requestAnimationFrame","newScrolledValue","scrollY","isScrollingDown","previousScrollValue","isScrollingUp","offsetElement","getBoundingClientRect","scrollWatchingEnabled","willChange","scrollHandler","useScrollOffset","ConditionalWrap","condition","className","Tag","ScreenReaderContent","PureComponent","FontSizeCalculatorContext","setFontSize","FontSizeCalculatorProvider","bodyCSS","overscrollBehavior","bodyClasses","Backgrounds","classes","loaderVariables","fullPage","loaderClasses","fullPageLoader","mediumLoader","smallLoader","loaderContainer","Loader","showLoader","minimumTime","styleClass","loaderStyleClass","Fragment","aria-hidden","timeout","clearTimeout","defaultFontConfig","google","BaseThemeProvider","errorComponent","requestData","themeHeader","getElementById","themeFooter","prepareShadowRoot","webFontConfig","urls","WebFont","load","loadThemeFonts","ThemeProvider","connect","ownProps","themeActions","AppContext","useMemo","rootStyle","classNames"],"mappings":"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","file":"shared.min.js?5430896e4081d7aba769","sourcesContent":["/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\n\nexport const defaultTransition = (...properties) => {\n    const vars = globalVariables();\n    properties = properties.length === 0 ? [\"all\"] : properties;\n    return {\n        transition: `${properties.map((prop, index) => {\n            return `${prop} ${vars.animation.defaultTiming} ${vars.animation.defaultEasing}${\n                index === properties.length ? \", \" : \"\"\n            }`;\n        })}`,\n    };\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport {\n    BackgroundAttachmentProperty,\n    BackgroundImageProperty,\n    BackgroundPositionProperty,\n    BackgroundRepeatProperty,\n    BackgroundSizeProperty,\n    ObjectFitProperty,\n    PositionProperty,\n} from \"csstype\";\nimport { percent, px, quote, url, viewHeight, viewWidth } from \"csx\";\nimport { NestedCSSProperties, TLength } from \"typestyle/lib/types\";\nimport { assetUrl, themeAsset } from \"@library/utility/appUtils\";\nimport { colorOut, ColorValues } from \"@library/styles/styleHelpersColors\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\n\nexport interface IBackground {\n    color: ColorValues;\n    attachment?: BackgroundAttachmentProperty;\n    position?: BackgroundPositionProperty<TLength>;\n    repeat?: BackgroundRepeatProperty;\n    size?: BackgroundSizeProperty<TLength>;\n    image?: BackgroundImageProperty;\n    fallbackImage?: BackgroundImageProperty;\n}\n\nexport const getBackgroundImage = (image?: BackgroundImageProperty, fallbackImage?: BackgroundImageProperty) => {\n    // Get either image or fallback\n    const workingImage = image ? image : fallbackImage;\n    if (!workingImage) {\n        return;\n    }\n\n    if (workingImage.charAt(0) === \"~\") {\n        // Relative path to theme folder\n        return themeAsset(workingImage.substr(1, workingImage.length - 1));\n    }\n\n    if (workingImage.startsWith('\"data:image/')) {\n        return workingImage;\n    }\n\n    // Fallback to a general asset URL.\n    const assetImage = assetUrl(workingImage);\n    return assetImage;\n};\n\nexport const background = (props: IBackground) => {\n    const image = getBackgroundImage(props.image, props.fallbackImage);\n    return {\n        backgroundColor: props.color ? colorOut(props.color) : undefined,\n        backgroundAttachment: props.attachment || undefined,\n        backgroundPosition: props.position || `50% 50%`,\n        backgroundRepeat: props.repeat || \"no-repeat\",\n        backgroundSize: props.size || \"cover\",\n        backgroundImage: image ? url(image) : undefined,\n    };\n};\n\nexport const objectFitWithFallback = () => {\n    return {\n        position: \"absolute\" as PositionProperty,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"auto\",\n        height: \"auto\",\n        width: percent(100),\n        $nest: {\n            \"@supports (object-fit: cover)\": {\n                objectFit: \"cover\" as ObjectFitProperty,\n                objectPosition: \"center\",\n                height: percent(100),\n            },\n        },\n    } as NestedCSSProperties;\n};\nexport function fakeBackgroundFixed() {\n    return {\n        content: quote(\"\"),\n        display: \"block\",\n        position: \"fixed\",\n        top: px(0),\n        left: px(0),\n        width: viewWidth(100),\n        height: viewHeight(100),\n    };\n}\n\nexport function centeredBackgroundProps() {\n    return {\n        backgroundPosition: `50% 50%`,\n        backgroundRepeat: \"no-repeat\",\n    };\n}\n\nexport function centeredBackground() {\n    const style = styleFactory(\"centeredBackground\");\n    return style(centeredBackgroundProps());\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILinkStates } from \"@library/styles/styleHelpersLinks\";\nimport { logDebug } from \"@vanilla/utils/src/debugUtils\";\n\n// Similar to ILinkStates, but can be button or link, so we don't have link specific states here and not specific to colors\nexport interface IActionStates {\n    noState?: object;\n    allStates?: object; // Applies to all\n    hover?: object;\n    focus?: object;\n    focusNotKeyboard?: object; // Focused, not through keyboard?: object;\n    accessibleFocus?: object; // Optionally different state for keyboard accessed element. Will default to \"focus\" state if not set.\n    active?: object;\n}\n\nexport interface IButtonStates {\n    allStates?: object; // Applies to all\n    noState?: object; // Applies to stateless link\n    hover?: object;\n    focus?: object;\n    focusNotKeyboard?: object; // Focused, not through keyboard\n    accessibleFocus?: object; // Optionally different state for keyboard accessed element. Will default to \"focus\" state if not set.\n    active?: object;\n}\n\nexport const allLinkStates = (styles: ILinkStates) => {\n    const output = allButtonStates(styles);\n    const visited = styles.visited !== undefined ? styles.visited : {};\n    output.$nest[\"&:visited\"] = { ...styles.allStates, ...visited };\n    return output;\n};\n\nexport const allButtonStates = (styles: IButtonStates, nested?: object, debugMode?: boolean) => {\n    const allStates = styles.allStates !== undefined ? styles.allStates : {};\n    const noState = styles.noState !== undefined ? styles.noState : {};\n\n    const output = {\n        ...allStates,\n        ...noState,\n        $nest: {\n            \"&:hover\": { ...allStates, ...styles.hover },\n            \"&:focus\": { ...allStates, ...styles.focus },\n            \"&:focus:not(.focus-visible)\": { ...allStates, ...styles.focusNotKeyboard },\n            \"&&.focus-visible\": { ...allStates, ...styles.accessibleFocus },\n            \"&:active\": { ...allStates, ...styles.active },\n            ...nested,\n        },\n    };\n\n    if (debugMode) {\n        logDebug(\"allButtonStates: \");\n        logDebug(\"style: \", styles);\n        logDebug(\"nested: \", nested);\n        logDebug(\"output: \", output);\n    }\n\n    return output;\n};\n\n/*\n * Helper to write CSS state styles. Note this one is for buttons or links\n * *** You must use this inside of a \"$nest\" ***\n */\nexport const buttonStates = (styles: IActionStates, nest?: object) => {\n    const allStates = styles.allStates !== undefined ? styles.allStates : {};\n    const hover = styles.hover !== undefined ? styles.hover : {};\n    const focus = styles.focus !== undefined ? styles.focus : {};\n    const focusNotKeyboard = styles.focusNotKeyboard !== undefined ? styles.focusNotKeyboard : {};\n    const accessibleFocus = styles.accessibleFocus !== undefined ? styles.accessibleFocus : {};\n    const active = styles.active !== undefined ? styles.active : {};\n    const noState = styles.noState !== undefined ? styles.noState : {};\n\n    return {\n        \"&\": { ...allStates, ...noState },\n        \"&:hover\": { ...allStates, ...hover },\n        \"&:focus\": { ...allStates, ...focus },\n        \"&:focus:not(.focus-visible)\": { ...allStates, ...focusNotKeyboard },\n        \"&.focus-visible\": { ...allStates, ...accessibleFocus },\n        \"&&:active\": { ...allStates, ...active },\n        ...nest,\n    };\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { AppearanceProperty, PointerEventsProperty, UserSelectProperty } from \"csstype\";\nimport { important } from \"csx\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\n\nexport const userSelect = (value: UserSelectProperty = \"none\", isImportant: boolean = false) => {\n    const val = (isImportant ? important(value) : value) as any;\n    return {\n        \"-webkit-user-select\": val,\n        \"-moz-user-select\": val,\n        \"-ms-user-select\": val,\n        userSelect: val,\n    };\n};\n\nexport const pointerEvents = (value: PointerEventsProperty = \"none\") => {\n    return {\n        pointerEvents: important(value),\n    };\n};\n\nexport const pointerEventsClass = (value: PointerEventsProperty = \"none\") => {\n    const style = styleFactory(\"pointerEvents\");\n    return style(pointerEvents(value));\n};\n\nexport const disabledInput = () => {\n    const formElementVars = formElementsVariables();\n    return {\n        pointerEvents: important(\"none\"),\n        ...userSelect(\"none\", true),\n        cursor: important(\"default\"),\n        opacity: important((formElementVars.disabled.opacity as any).toString()),\n    };\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorHelper } from \"csx\";\nimport { colorOut, ColorValues } from \"@library/styles/styleHelpersColors\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { IButtonStates } from \"@library/styles/styleHelpersButtons\";\n\nexport interface ILinkStates {\n    allStates?: object; // Applies to all\n    default?: object;\n    hover?: object;\n    focus?: object;\n    accessibleFocus?: object;\n    active?: object;\n    visited?: object;\n}\n\nexport interface ILinkStates extends IButtonStates {\n    visited?: object;\n}\n\nexport const linkStyleFallbacks = (\n    specificOverwrite: undefined | ColorHelper | string,\n    defaultOverwrite: undefined | ColorHelper | string,\n    globalDefault: undefined | ColorHelper | string,\n) => {\n    if (specificOverwrite) {\n        return specificOverwrite as ColorValues;\n    } else if (defaultOverwrite) {\n        return defaultOverwrite as ColorValues;\n    } else {\n        return globalDefault as ColorValues;\n    }\n};\n\nexport interface ILinkColorOverwrites {\n    default?: ColorValues;\n    hover?: ColorValues;\n    focus?: ColorValues;\n    accessibleFocus?: ColorValues;\n    active?: ColorValues;\n    visited?: ColorValues;\n    allStates?: ColorValues;\n}\n\nexport const setAllLinkColors = (overwriteValues?: ILinkColorOverwrites) => {\n    const vars = globalVariables();\n    // We want to default to the standard styles and only overwrite what we want/need\n    const linkColors = vars.links.colors;\n    const overwrites = overwriteValues ? overwriteValues : {};\n    const mergedColors = {\n        default: linkStyleFallbacks(overwrites.default, overwrites.allStates, linkColors.default),\n        hover: linkStyleFallbacks(overwrites.hover, overwrites.allStates, linkColors.hover),\n        focus: linkStyleFallbacks(overwrites.focus, overwrites.allStates, linkColors.focus),\n        accessibleFocus: linkStyleFallbacks(\n            overwrites.accessibleFocus,\n            overwrites.allStates,\n            linkColors.accessibleFocus,\n        ),\n        active: linkStyleFallbacks(overwrites.active, overwrites.allStates, linkColors.active),\n        visited: linkStyleFallbacks(overwrites.visited, overwrites.allStates, linkColors.visited),\n    };\n\n    const styles = {\n        default: {\n            color: colorOut(mergedColors.default),\n        },\n        hover: {\n            color: colorOut(mergedColors.hover),\n            cursor: \"pointer\",\n        },\n        focus: {\n            color: colorOut(mergedColors.focus),\n        },\n        accessibleFocus: {\n            color: colorOut(mergedColors.accessibleFocus),\n        },\n        active: {\n            color: colorOut(mergedColors.active),\n            cursor: \"pointer\",\n        },\n        visited: {\n            color: colorOut(mergedColors.visited),\n        },\n    };\n\n    const final = {\n        color: styles.default.color,\n        nested: {\n            \"&&:hover\": styles.hover,\n            \"&&:focus\": styles.focus,\n            \"&&.focus-visible\": styles.accessibleFocus,\n            \"&&:active\": styles.active,\n            \"&:visited\": styles.visited,\n        },\n    };\n\n    return final;\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\nimport { unit } from \"@library/styles/styleHelpers\";\n\nexport interface IMargins {\n    top?: string | number | undefined;\n    right?: string | number | undefined;\n    bottom?: string | number | undefined;\n    left?: string | number | undefined;\n    horizontal?: string | number | undefined;\n    vertical?: string | number | undefined;\n    all?: string | number | undefined;\n}\n\nexport const margins = (styles: IMargins): NestedCSSProperties => {\n    const marginVals = {} as NestedCSSProperties;\n\n    if (styles.all !== undefined) {\n        marginVals.marginTop = unit(styles.all);\n        marginVals.marginRight = unit(styles.all);\n        marginVals.marginBottom = unit(styles.all);\n        marginVals.marginLeft = unit(styles.all);\n    }\n\n    if (styles.vertical !== undefined) {\n        marginVals.marginTop = unit(styles.vertical);\n        marginVals.marginBottom = unit(styles.vertical);\n    }\n\n    if (styles.horizontal !== undefined) {\n        marginVals.marginLeft = unit(styles.horizontal);\n        marginVals.marginRight = unit(styles.horizontal);\n    }\n\n    if (styles.top !== undefined) {\n        marginVals.marginTop = unit(styles.top);\n    }\n\n    if (styles.right !== undefined) {\n        marginVals.marginRight = unit(styles.right);\n    }\n\n    if (styles.bottom !== undefined) {\n        marginVals.marginBottom = unit(styles.bottom);\n    }\n\n    if (styles.left !== undefined) {\n        marginVals.marginLeft = unit(styles.left);\n    }\n\n    return marginVals as NestedCSSProperties;\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport {\n    AlignItemsProperty,\n    BottomProperty,\n    DisplayProperty,\n    FlexWrapProperty,\n    JustifyContentProperty,\n    LeftProperty,\n    PositionProperty,\n    RightProperty,\n} from \"csstype\";\nimport { NestedCSSProperties, TLength } from \"typestyle/lib/types\";\nimport { percent, px } from \"csx\";\nimport { unit } from \"@library/styles/styleHelpers\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\n\nexport const absolutePosition = {\n    topRight: (top: string | number = \"0\", right: RightProperty<TLength> = px(0)) => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            top: unit(top),\n            right: unit(right),\n        };\n    },\n    topLeft: (top: string | number = \"0\", left: LeftProperty<TLength> = px(0)) => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            top: unit(top),\n            left: unit(left),\n        };\n    },\n    bottomRight: (bottom: BottomProperty<TLength> = px(0), right: RightProperty<TLength> = px(0)) => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            bottom: unit(bottom),\n            right: unit(right),\n        };\n    },\n    bottomLeft: (bottom: BottomProperty<TLength> = px(0), left: LeftProperty<TLength> = px(0)) => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            bottom: unit(bottom),\n            left: unit(left),\n        };\n    },\n    middleOfParent: () => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            display: \"block\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            maxHeight: percent(100),\n            maxWidth: percent(100),\n            margin: \"auto\",\n        };\n    },\n    middleLeftOfParent: (left: LeftProperty<TLength> = px(0)) => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            display: \"block\",\n            top: 0,\n            left,\n            bottom: 0,\n            maxHeight: percent(100),\n            maxWidth: percent(100),\n            margin: \"auto 0\",\n        };\n    },\n    middleRightOfParent: (right: RightProperty<TLength> = px(0)) => {\n        return {\n            position: \"absolute\" as PositionProperty,\n            display: \"block\",\n            top: 0,\n            right,\n            bottom: 0,\n            maxHeight: percent(100),\n            maxWidth: percent(100),\n            margin: \"auto 0\",\n        };\n    },\n    fullSizeOfParent: () => {\n        return {\n            display: \"block\",\n            position: \"absolute\" as PositionProperty,\n            top: px(0),\n            left: px(0),\n            width: percent(100),\n            height: percent(100),\n        };\n    },\n};\n\nexport function sticky(): NestedCSSProperties {\n    return {\n        position: [\"-webkit-sticky\", \"sticky\"],\n    };\n}\n\nexport function flexHelper() {\n    const middle = (wrap = false) => {\n        return {\n            display: \"flex\" as DisplayProperty,\n            alignItems: \"center\" as AlignItemsProperty,\n            justifyContent: \"center\" as JustifyContentProperty,\n            flexWrap: (wrap ? \"wrap\" : \"nowrap\") as FlexWrapProperty,\n        };\n    };\n\n    const middleLeft = (wrap = false) => {\n        return {\n            display: \"flex\" as DisplayProperty,\n            alignItems: \"center\" as AlignItemsProperty,\n            justifyContent: \"flex-start\" as JustifyContentProperty,\n            flexWrap: wrap ? \"wrap\" : (\"nowrap\" as FlexWrapProperty),\n        };\n    };\n\n    return { middle, middleLeft };\n}\n\nexport function fullSizeOfParent(): NestedCSSProperties {\n    return {\n        position: \"absolute\",\n        display: \"block\",\n        top: px(0),\n        left: px(0),\n        width: percent(100),\n        height: percent(100),\n    };\n}\n\nexport const inheritHeightClass = () => {\n    const style = styleFactory(\"inheritHeight\");\n    return style({\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexGrow: 1,\n    });\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { AppearanceProperty } from \"csstype\";\nimport { important } from \"csx\";\n\nexport const appearance = (value: AppearanceProperty = \"none\", isImportant: boolean = false) => {\n    const val = (isImportant ? important(value) : value) as any;\n    return {\n        \"-webkit-appearance\": val,\n        \"-moz-appearance\": val,\n        appearance: val,\n    };\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { keyframes } from \"typestyle\";\nimport { ColorHelper, deg, percent, quote } from \"csx\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { ContentProperty, DisplayProperty, PositionProperty } from \"csstype\";\nimport { debugHelper, defaultTransition, unit } from \"@library/styles/styleHelpers\";\n\nconst spinnerOffset = 73;\nconst spinnerLoaderAnimation = keyframes({\n    \"0%\": { transform: `rotate(${deg(spinnerOffset)})` },\n    \"100%\": { transform: `rotate(${deg(360 + spinnerOffset)})` },\n});\n\nexport interface ISpinnerProps {\n    color?: ColorHelper;\n    dimensions?: string | number;\n    thickness?: string | number;\n    size?: string | number;\n    speed?: string;\n}\n\nexport const spinnerLoader = (props: ISpinnerProps) => {\n    const debug = debugHelper(\"spinnerLoader\");\n    const globalVars = globalVariables();\n    const spinnerVars = {\n        color: props.color || globalVars.mainColors.primary,\n        size: props.size || 18,\n        thickness: props.thickness || 3,\n        speed: \"0.7s\",\n        ...props,\n    };\n    return {\n        ...debug.name(\"spinner\"),\n        position: \"relative\" as PositionProperty,\n        content: quote(\"\") as ContentProperty,\n        ...defaultTransition(\"opacity\"),\n        display: \"block\" as DisplayProperty,\n        width: unit(spinnerVars.size),\n        height: unit(spinnerVars.size),\n        borderRadius: percent(50),\n        borderTop: `${unit(spinnerVars.thickness)} solid ${spinnerVars.color.toString()}`,\n        borderRight: `${unit(spinnerVars.thickness)} solid ${spinnerVars.color.fade(0.3).toString()}`,\n        borderBottom: `${unit(spinnerVars.thickness)} solid ${spinnerVars.color.fade(0.3).toString()}`,\n        borderLeft: `${unit(spinnerVars.thickness)} solid ${spinnerVars.color.fade(0.3).toString()}`,\n        transform: \"translateZ(0)\",\n        animation: `spillerLoader ${spinnerVars.speed} infinite ease-in-out`,\n        animationName: spinnerLoaderAnimation,\n        animationDuration: spinnerVars.speed,\n        animationIterationCount: \"infinite\",\n        animationTimingFunction: \"ease-in-out\",\n    };\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { important, px } from \"csx\";\nimport { styleFactory, useThemeCache } from \"@library/styles/styleUtils\";\n\nexport function srOnly() {\n    return {\n        position: important(\"absolute\"),\n        display: important(\"block\"),\n        width: important(px(1).toString()),\n        height: important(px(1).toString()),\n        padding: important(px(0).toString()),\n        margin: important(px(-1).toString()),\n        overflow: important(\"hidden\"),\n        clip: important(`rect(0, 0, 0, 0)`),\n        border: important(px(0).toString()),\n    };\n}\n\nexport const visibility = useThemeCache(() => {\n    const style = styleFactory(\"visibility\");\n    const onEmpty = (nest?: object) => {\n        return style(\"onEmpty\", {\n            $nest: {\n                \"&:empty\": {\n                    display: \"none\",\n                },\n                ...nest,\n            },\n        });\n    };\n\n    const visuallyHidden = style(\"srOnly\", srOnly());\n\n    const displayNone = style(\"displayNone\", {\n        display: important(\"none\"),\n    });\n\n    return {\n        onEmpty,\n        displayNone,\n        visuallyHidden,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { important, px } from \"csx\";\nexport * from \"@library/styles/styleHelpersAnimation\";\nexport * from \"@library/styles/styleHelpersBackgroundStyling\";\nexport * from \"@library/styles/styleHelpersTypography\";\nexport * from \"@library/styles/styleHelpersBorders\";\nexport * from \"@library/styles/styleHelpersButtons\";\nexport * from \"@library/styles/styleHelpersColors\";\nexport * from \"@library/styles/styleHelpersDropShadow\";\nexport * from \"@library/styles/styleHelpersFeedback\";\nexport * from \"@library/styles/styleHelpersfPadding\";\nexport * from \"@library/styles/styleHelpersLinks\";\nexport * from \"@library/styles/styleHelpersMargin\";\nexport * from \"@library/styles/styleHelpersPositioning\";\nexport * from \"@library/styles/styleHelpersReset\";\nexport * from \"@library/styles/styleHelpersSpinner\";\nexport * from \"@library/styles/styleHelpersTypography\";\nexport * from \"@library/styles/styleHelpersVisibility\";\n\n/*\n * Helper to generate human readable classes generated from TypeStyle\n * @param componentName - The component's name.\n */\nexport const debugHelper = (componentName: string) => {\n    return {\n        name: (subElementName?: string) => {\n            if (subElementName) {\n                return { $debugName: `${componentName}-${subElementName}` };\n            } else {\n                return { $debugName: componentName };\n            }\n        },\n    };\n};\n\nexport const ifExistsWithFallback = checkProp => {\n    if (checkProp && checkProp.length > 0) {\n        const next = checkProp.pop();\n        return next ? next : ifExistsWithFallback(checkProp);\n    } else {\n        return undefined;\n    }\n};\n\nexport const unit = (val: string | number | undefined, unitFunction = px) => {\n    if (typeof val === \"string\") {\n        return val;\n    } else if (val !== undefined && val !== null && !isNaN(val)) {\n        return unitFunction(val as number);\n    } else {\n        return val;\n    }\n};\n\nexport const importantUnit = (val: string | number | undefined, unitFunction = px) => {\n    const withUnit = unit(val);\n    return withUnit ? important(withUnit.toString()) : withUnit;\n};\n\nexport const negative = val => {\n    if (typeof val === \"string\") {\n        val = val.trim();\n        if (val.startsWith(\"-\")) {\n            return val.substring(1, val.length).trim();\n        } else {\n            return `-${val}`;\n        }\n    } else if (!!val && !isNaN(val)) {\n        return val * -1;\n    } else {\n        return val;\n    }\n};\n\n// export interface IStates {\n//     hover?: object;\n//     focus?: object;\n//     active?: object;\n//     accessibleFocus?: object;\n// }\n//\n// export interface IStatesAll {\n//     allStates?: object;\n// }\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport getStore from \"@library/redux/getStore\";\n\nexport function getThemeVariables() {\n    const state = getStore().getState();\n    if (state !== null) {\n        const assets = state.theme.assets.data || {};\n        const variables = assets.variables ? assets.variables.data : {};\n        return variables;\n    } else {\n        return {};\n    }\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\nimport { style } from \"typestyle\";\nimport getStore from \"@library/redux/getStore\";\nimport { getMeta } from \"@library/utility/appUtils\";\nimport memoize from \"lodash/memoize\";\nimport merge from \"lodash/merge\";\nimport { color } from \"csx\";\nimport { logDebug, logWarning } from \"@vanilla/utils\";\nimport { getThemeVariables } from \"@library/theming/getThemeVariables\";\n\nexport const DEBUG_STYLES = Symbol.for(\"Debug\");\n\n/**\n * A better helper to generate human readable classes generated from TypeStyle.\n *\n * This works like debugHelper but automatically. The generated function behaves just like `style()`\n * but can automatically adds a debug name & allows the first argument to be a string subcomponent name.\n *\n * Additionally passing the first parameter as true will log out out debug information about the styles.\n *\n * @example\n * const style = styleFactory(\"myComponent\");\n * const myClass = style({ color: \"red\" }); // .myComponent-sad421s\n * const mySubClass = style(\"subcomponent\", { color: \"red\" }) // .myComponent-subcomponent-23sdaf43\n * const withDebugMode = style(true, \"subcomponent\", {color: \"red\"}).\n */\nexport function styleFactory(componentName: string) {\n    function styleCreator(subcomponentName: string, ...objects: NestedCSSProperties[]): string;\n    function styleCreator(debug: symbol, subcomponentName: string, ...objects: NestedCSSProperties[]): string;\n    function styleCreator(...objects: NestedCSSProperties[]): string;\n    function styleCreator(...objects: Array<NestedCSSProperties | string | symbol>): string {\n        if (objects.length === 0) {\n            return style();\n        }\n\n        let debugName = componentName;\n        let shouldLogDebug = false;\n        let styleObjs: Array<NestedCSSProperties | undefined> = objects as any;\n        if (objects[0] === DEBUG_STYLES) {\n            styleObjs.shift();\n            shouldLogDebug = true;\n        }\n        if (typeof objects[0] === \"string\") {\n            const [subcomponentName, ...restObjects] = styleObjs;\n            debugName += `-${subcomponentName}`;\n            styleObjs = restObjects;\n        }\n\n        if (shouldLogDebug) {\n            logWarning(`Debugging component ${debugName}`);\n            logDebug(styleObjs);\n        }\n\n        return style({ $debugName: debugName }, ...styleObjs);\n    }\n\n    return styleCreator;\n}\n\n/**\n * Wrap a callback so that it will only run once with a particular set of global theme variables.\n *\n * @param callback The function to wrap.\n */\nexport function useThemeCache<Cb>(callback: Cb): Cb {\n    const makeCacheKey = (...args) => {\n        const storeState = getStore().getState();\n        const themeKey = getMeta(\"ui.themeKey\", \"default\");\n        const status = storeState.theme.assets.status;\n        const cacheKey = themeKey + status;\n        return cacheKey + JSON.stringify(args);\n    };\n    return memoize(callback as any, makeCacheKey);\n}\n\n/**\n * A helper class for declaring variables while mixing server defined variables from context.\n *\n * The function returned from the factory\n * - will search the API based theme for an item of the same key.\n * - Normalize the items {@see normalizeVariables}\n * - Merge in all subtrees. (theme variables override your defaults).\n *\n * @param componentName The base name of the component being styled.\n *\n * @example\n *\n * // The stuff returned through the API response\n * const serverVars = {\n *      \"globalVars\": {\n *          \"links\": {\n *              \"colors\": {\n *                  \"default\": \"red\",\n *                  \"hover\": \"#444444\",\n *              }\n *          }\n *      }\n * };\n *\n * // Your declaration\n * const makeThemeVars = variableFactory(\"globalVars\");\n * const subVars = makeThemeVars(\"links\", { colors: {\n *      default: mainColors.primary, // These are `ColorHelpers`\n *      hover: mainColors.primary.darken(0.2), // They mixed variables will be automatically converted\n * }});\n */\nexport function variableFactory(componentName: string) {\n    const themeVars = getThemeVariables();\n    const componentVars = (themeVars && themeVars[componentName]) || {};\n\n    return function makeThemeVars<T extends object>(subElementName: string, declaredVars: T): T {\n        const subcomponentVars = (componentVars && componentVars[subElementName]) || {};\n        return merge(declaredVars, normalizeVariables(subcomponentVars));\n    };\n}\n\n/**\n * Take some Object/Value from the variable factory and wrap it in it's proper wrapper.\n *\n * Iterates through all children and does the following:\n *\n * - Strings starting with `#` get wrapped in `color()`;\n */\nfunction normalizeVariables(variables: any) {\n    if (typeof variables === \"object\") {\n        const newObj: any = {};\n        for (const [key, value] of Object.entries(variables)) {\n            newObj[key] = normalizeVariables(value);\n        }\n        return newObj;\n    }\n\n    if (typeof variables === \"string\") {\n        if (variables.startsWith(\"#\")) {\n            // It's a colour.\n            return color(variables);\n        }\n    }\n\n    return variables;\n}\n\n/**\n * Helper to overwrite styles\n * @param theme - The theme overwrites.\n * @param componentName - The name of the component to overwrite\n *\n * @deprecated\n */\nexport const componentThemeVariables = (componentName: string) => {\n    const themeVars = getThemeVariables();\n    const componentVars = (themeVars && themeVars[componentName]) || {};\n\n    const subComponentStyles = (subElementName: string): object => {\n        return (componentVars && componentVars[subElementName]) || {};\n    };\n\n    return {\n        subComponentStyles,\n    };\n};\n","/**\n * Application functions for interop between Components in different packages.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport gdn from \"@library/gdn\";\nimport { PromiseOrNormalCallback } from \"@vanilla/utils\";\nimport isUrl from \"validator/lib/isURL\";\n\n// Re-exported for backwards compatibility\nexport { t, translate } from \"@vanilla/i18n\";\n\n/**\n * Get a piece of metadata passed from the server.\n *\n * @param key - The key to lookup.\n * @param defaultValue - A fallback value in case the key cannot be found.\n *\n * @returns Returns a meta value or the default value.\n */\nexport function getMeta(key: string, defaultValue?: any) {\n    if (!gdn.meta) {\n        return defaultValue;\n    }\n\n    const parts = key.split(\".\");\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (!haystack.hasOwnProperty(part)) {\n            return defaultValue;\n        }\n        haystack = haystack[part];\n    }\n    return haystack;\n}\n\n/**\n * Set a piece of metadata. This will override what was passed from the server.\n *\n * @param key - The key to store under.\n * @param value - The value to set.\n */\nexport function setMeta(key: string, value: any) {\n    const parts = key.split(\".\");\n    const last = parts.pop();\n\n    if (!last) {\n        throw new Error(`Unable to set meta value ${key}. ${last} is not a valid object key.`);\n    }\n\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (haystack[part] === null || typeof haystack[part] !== \"object\") {\n            haystack[part] = {};\n        }\n        haystack = haystack[part];\n    }\n    haystack[last] = value;\n}\n\n/**\n * Determine if a string is an allowed URL.\n *\n * In the future this may be extended to check if we want to whitelist/blacklist various URLs.\n *\n * @param input - The string to check.\n */\nexport function isAllowedUrl(input: string): boolean {\n    // Options https://github.com/chriso/validator.js#validators\n    const options = {\n        protocols: [\"http\", \"https\"],\n        require_tld: true,\n        require_protocol: true,\n        require_host: true,\n        require_valid_protocol: true,\n        allow_trailing_dot: false,\n        allow_protocol_relative_urls: false,\n    };\n    return isUrl(input, options);\n}\n\n/**\n * Format a URL in the format passed from the controller.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used in the APP.\n */\nexport function formatUrl(path: string, withDomain: boolean = false): string {\n    if (path.indexOf(\"//\") >= 0) {\n        return path;\n    } // this is an absolute path.\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const urlBase = withDomain\n        ? window.location.origin + getMeta(\"context.basePath\", \"\")\n        : getMeta(\"context.basePath\", \"\");\n    return urlBase + path;\n}\n\n/**\n * Generate a URL from the site's web root.\n *\n * No site section will be included.\n */\nexport function siteUrl(path: string): string {\n    if (path.indexOf(\"//\") >= 0) {\n        return path;\n    } // this is an absolute path.\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const urlBase = window.location.origin + getMeta(\"context.host\", \"\");\n    return urlBase + path;\n}\n\n/**\n * Extract relative URL part from absolute full URL.\n *\n * @param fullUrl - The absolute url to transform.\n *\n * @returns Returns a URL that can be used in the APP.\n */\nexport function getRelativeUrl(fullUrl: string): string {\n    const urlBase = window.location.origin + getMeta(\"context.basePath\", \"\");\n    return fullUrl.replace(urlBase, \"\");\n}\n\n/**\n * Create the URL of an asset of the site.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used for a static asset.\n */\nexport function assetUrl(path: string): string {\n    if (path.indexOf(\"//\") >= 0) {\n        return path;\n    } // this is an absolute path.\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const urlFormat = getMeta(\"context.assetPath\", \"\");\n    return urlFormat + path;\n}\n\n/**\n * Create the URL to the theme's asset folder\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used for a static asset.\n */\nexport function themeAsset(path: string): string {\n    const themeKey = getMeta(\"ui.themeKey\");\n    return assetUrl(`/themes/${themeKey}/${path}`);\n}\n\n/**\n * @type {Array}\n * @private\n */\nconst _readyHandlers: PromiseOrNormalCallback[] = [];\n\n/**\n * Register a callback that executes when the document and the core libraries are ready to use.\n *\n * @param callback - The function to call. This can return a Promise but doesn't have to.\n */\nexport function onReady(callback: PromiseOrNormalCallback) {\n    _readyHandlers.push(callback);\n}\n\n/**\n * Execute all of the registered events in order.\n *\n * @returns A Promise when the events have all fired.\n */\nexport function _executeReady(): Promise<any[]> {\n    return new Promise(resolve => {\n        const handlerPromises = _readyHandlers.map(handler => handler());\n        const exec = () => {\n            return Promise.all(handlerPromises).then(resolve);\n        };\n\n        if (document.readyState !== \"loading\") {\n            return exec();\n        } else {\n            document.addEventListener(\"DOMContentLoaded\", exec);\n        }\n    });\n}\n\n/**\n * Execute a callback when a piece of DOM content is ready to be operated on.\n *\n * This is similar to onReady() but also includes content that is added dynamically (ex. AJAX).\n * Note that this function is meant to bridge the non-react parts of the application with react.\n *\n * @param callback - The callback to execute.\n */\nexport function onContent(callback: (event: CustomEvent) => void) {\n    document.addEventListener(\"X-DOMContentReady\", callback);\n}\n\n/**\n * Remove a listener registered with `onContent`.\n */\nexport function removeOnContent(callback: (event: CustomEvent) => void) {\n    document.removeEventListener(\"X-DOMContentReady\", callback);\n}\n\n/**\n * Make a URL to a user's profile.\n */\nexport function makeProfileUrl(username: string) {\n    const userPath = `/profile/${encodeURIComponent(username)}`;\n    return formatUrl(userPath, true);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport {\n    colorOut,\n    ColorValues,\n    emphasizeLightness,\n    IBackground,\n    IBorderRadiusOutput,\n    modifyColorBasedOnLightness,\n    radiusValue,\n} from \"@library/styles/styleHelpers\";\nimport { useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { BorderStyleProperty, BorderWidthProperty } from \"csstype\";\nimport { color, ColorHelper, percent } from \"csx\";\nimport { TLength } from \"typestyle/lib/types\";\nimport { logDebug, logError, logWarning } from \"@vanilla/utils\";\n\nexport const globalVariables = useThemeCache(() => {\n    let colorPrimary = color(\"#0291db\");\n    const makeThemeVars = variableFactory(\"global\");\n\n    const utility = {\n        \"percentage.third\": percent(100 / 3),\n        \"percentage.nineSixteenths\": percent((9 / 16) * 100),\n        \"svg.encoding\": \"data:image/svg+xml,\",\n    };\n\n    const elementaryColors = {\n        black: color(\"#000\"),\n        white: color(\"#fff\"),\n        transparent: \"transparent\" as ColorValues,\n    };\n\n    const initialMainColors = makeThemeVars(\"mainColors\", {\n        fg: color(\"#555a62\"),\n        bg: color(\"#fff\"),\n        primary: colorPrimary,\n        secondary: colorPrimary,\n    });\n\n    colorPrimary = initialMainColors.primary;\n\n    const generatedMainColors = makeThemeVars(\"mainColors\", {\n        secondary: emphasizeLightness(colorPrimary, 0.065),\n    });\n\n    const mainColors = {\n        ...initialMainColors,\n        ...generatedMainColors,\n    };\n\n    const mixBgAndFg = (weight: number) => {\n        return mainColors.fg.mix(mainColors.bg, weight) as ColorHelper;\n    };\n\n    const mixPrimaryAndFg = (weight: number) => {\n        return mainColors.primary.mix(mainColors.fg, weight) as ColorHelper;\n    };\n\n    const mixPrimaryAndBg = (weight: number) => {\n        return mainColors.primary.mix(mainColors.bg, weight) as ColorHelper;\n    };\n\n    const messageColors = makeThemeVars(\"messageColors\", {\n        warning: {\n            fg: color(\"#4b5057\"),\n            bg: color(\"#fff1ce\"),\n            state: color(\"#e55a1c\"),\n        },\n        error: {\n            fg: color(\"#d0021b\"),\n            bg: color(\"#FFF3D4\"),\n        },\n        confirm: color(\"#60bd68\"),\n        deleted: {\n            fg: color(\"#D0021B\"),\n            bg: color(\"#D0021B\"),\n        },\n    });\n\n    const linkColorDefault = mainColors.secondary;\n    const linkColorState = emphasizeLightness(colorPrimary, 0.09);\n    const links = makeThemeVars(\"links\", {\n        colors: {\n            default: linkColorDefault,\n            hover: linkColorState,\n            focus: linkColorState,\n            accessibleFocus: linkColorState,\n            active: linkColorState,\n            visited: undefined,\n        },\n    });\n\n    interface IBody {\n        backgroundImage: IBackground;\n    }\n\n    const body: IBody = makeThemeVars(\"body\", {\n        backgroundImage: {\n            color: mainColors.bg,\n        },\n    });\n\n    const border = makeThemeVars(\"border\", {\n        color: mixBgAndFg(0.15),\n        width: 1,\n        style: \"solid\",\n        radius: 6,\n    });\n\n    const gutterSize = 16;\n    const gutter = makeThemeVars(\"gutter\", {\n        size: gutterSize,\n        half: gutterSize / 2,\n        quarter: gutterSize / 4,\n    });\n\n    const lineHeights = makeThemeVars(\"lineHeight\", {\n        base: 1.5,\n        condensed: 1.25,\n        code: 1.45,\n        excerpt: 1.4,\n        meta: 1.5,\n    });\n\n    const panelWidth = 216;\n    const panel = makeThemeVars(\"panelWidth\", {\n        width: panelWidth,\n        paddedWidth: panelWidth + gutter.size * 2,\n    });\n\n    const middleColumnWidth = 672;\n    const middleColumn = makeThemeVars(\"middleColumn\", {\n        width: middleColumnWidth,\n        paddedWidth: middleColumnWidth + gutter.size * 2,\n    });\n\n    const content = makeThemeVars(\"content\", {\n        width: middleColumn.paddedWidth + panel.paddedWidth * 2 + gutter.size * 4,\n    });\n\n    const fonts = makeThemeVars(\"fonts\", {\n        size: {\n            large: 16,\n            medium: 14,\n            small: 12,\n            largeTitle: 32,\n            title: 22,\n            subTitle: 18,\n        },\n\n        mobile: {\n            size: {\n                title: 26,\n            },\n        },\n        weights: {\n            normal: 400,\n            semiBold: 600,\n            bold: 700,\n        },\n\n        families: {\n            body: [\"Open Sans\"],\n        },\n        alignment: {\n            headings: {\n                capitalLetterRatio: 0.715, // Calibrated for Open Sans\n                verticalOffset: 1, // Calibrated for Open Sans\n                horizontal: -0.03, // Calibrated for Open Sans\n                verticalOffsetForAdjacentElements: \"-.13em\", // Calibrated for Open Sans\n            },\n        },\n    });\n\n    const icon = makeThemeVars(\"icon\", {\n        sizes: {\n            large: 32,\n            default: 24,\n            small: 16,\n            xSmall: 9.5,\n        },\n        color: mixBgAndFg(0.18),\n    });\n\n    const spacer = makeThemeVars(\"spacer\", {\n        size: fonts.size.medium * lineHeights.base,\n    });\n\n    const animation = makeThemeVars(\"animation\", {\n        defaultTiming: \".15s\",\n        defaultEasing: \"ease-out\",\n    });\n\n    const embed = makeThemeVars(\"embed\", {\n        error: {\n            bg: messageColors.error,\n        },\n        focus: {\n            color: mainColors.primary,\n        },\n        text: {\n            padding: fonts.size.medium,\n        },\n        sizing: {\n            smallPadding: 4,\n            width: 640,\n        },\n        select: {\n            borderWidth: 2,\n        },\n        overlay: {\n            hover: {\n                color: mainColors.bg.fade(0.5),\n            },\n        },\n    });\n\n    const meta = makeThemeVars(\"meta\", {\n        text: {\n            fontSize: fonts.size.small,\n            color: mixBgAndFg(0.85),\n            margin: 4,\n        },\n        spacing: {\n            verticalMargin: 12,\n            default: gutter.quarter,\n        },\n        lineHeights: {\n            default: lineHeights.base,\n        },\n        colors: {\n            fg: mixBgAndFg(0.85),\n        },\n    });\n\n    const states = makeThemeVars(\"states\", {\n        icon: {\n            opacity: 0.6,\n        },\n        text: {\n            opacity: 0.75,\n        },\n        hover: {\n            color: mixPrimaryAndBg(0.08),\n            opacity: 1,\n        },\n        selected: {\n            color: mixPrimaryAndBg(0.5),\n            opacity: 1,\n        },\n        active: {\n            color: mixPrimaryAndBg(0.2),\n            opacity: 1,\n        },\n        focus: {\n            color: mixPrimaryAndBg(0.15),\n            opacity: 1,\n        },\n    });\n\n    const overlayBg = modifyColorBasedOnLightness(mainColors.fg, 0.5);\n    const overlay = makeThemeVars(\"overlay\", {\n        dropShadow: `2px -2px 5px ${colorOut(overlayBg.fade(0.3))}`,\n        bg: overlayBg,\n        border: {\n            color: border.color,\n            radius: border.radius,\n        },\n        fullPageHeadingSpacer: 32,\n        spacer: 32,\n    });\n\n    const userContent = makeThemeVars(\"userContent\", {\n        font: {\n            sizes: {\n                default: fonts.size.medium,\n                h1: \"2em\",\n                h2: \"1.5em\",\n                h3: \"1.25em\",\n                h4: \"1em\",\n                h5: \".875em\",\n                h6: \".85em\",\n            },\n        },\n        list: {\n            margin: \"2em\",\n            listDecoration: {\n                minWidth: \"2em\",\n            },\n        },\n    });\n\n    const buttonIconSize = 36;\n    const buttonIcon = makeThemeVars(\"buttonIcon\", {\n        size: buttonIconSize,\n        offset: (buttonIconSize - icon.sizes.default) / 2,\n    });\n\n    const separator = makeThemeVars(\"separator\", {\n        color: border.color,\n        size: 1,\n    });\n\n    // https://medium.com/@clagnut/all-you-need-to-know-about-hyphenation-in-css-2baee2d89179\n    // Requires language set on <html> tag\n    const userContentHyphenation = makeThemeVars(\"userContentHyphenation\", {\n        minimumCharactersToHyphenate: 6,\n        minimumCharactersBeforeBreak: 3,\n        minimumCharactersAfterBreak: 3,\n        maximumConsecutiveBrokenLines: 2,\n        avoidLastWordToBeBroken: true,\n        hyphenationZone: \"6em\",\n    });\n\n    // This function should not be used in production, but is helpful for development.\n    // Helps to find the right \"mix\" of bg and fg for a target hex color\n\n    const findColorMatch = (hexCode: string) => {\n        if (process.env.NODE_ENV === \"development\") {\n            logWarning(\"Don't use 'findColorMatch' in production\");\n            const globalVars = globalVariables();\n            const colorToMatch = color(hexCode.replace(\"#\", \"\"));\n            const max = 100;\n            const lightnessPrecision = 3;\n            const targetLightness = colorToMatch.lightness().toFixed(lightnessPrecision);\n            for (let i = 0; i <= max; i++) {\n                const mix = i / max;\n                const currentColor = globalVars.mixBgAndFg(mix);\n                if (currentColor.toHexString() === colorToMatch.toHexString()) {\n                    logDebug(\"---exact match\");\n                    logDebug(\"real grey: \" + colorToMatch.toHexString());\n                    logDebug(\"target grey: \" + currentColor.toHexString());\n                    logDebug(\"mix: \" + mix);\n                    logDebug(\"---\");\n                    i = max;\n                    return;\n                }\n                if (currentColor.lightness().toFixed(lightnessPrecision) === targetLightness) {\n                    logDebug(\"---lightness match: \" + mix);\n                    i = max;\n                    return;\n                }\n            }\n        } else if (process.env.NODE_ENV === \"test\") {\n            throw new Error(\"Don't use 'findColorMatch' in production\");\n        }\n        logError(\"The function 'findColorMatch' is not meant for production\");\n    };\n\n    return {\n        utility,\n        elementaryColors,\n        mainColors,\n        messageColors,\n        body,\n        border,\n        meta,\n        gutter,\n        panel,\n        content,\n        fonts,\n        spacer,\n        lineHeights,\n        icon,\n        buttonIcon,\n        animation,\n        links,\n        embed,\n        states,\n        overlay,\n        userContent,\n        mixBgAndFg,\n        mixPrimaryAndFg,\n        mixPrimaryAndBg,\n        separator,\n        userContentHyphenation,\n        findColorMatch,\n    };\n});\n\nexport interface IGlobalBorderStyles extends IBorderRadiusOutput {\n    color: ColorValues;\n    width: BorderWidthProperty<TLength> | number;\n    style: BorderStyleProperty;\n    radius?: radiusValue;\n}\n\nexport enum IIconSizes {\n    SMALL = \"small\",\n    DEFAULT = \"default\",\n    LARGE = \"large\",\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ColorHelper, important } from \"csx\";\n\nexport type ColorValues = ColorHelper | \"transparent\" | undefined;\n\nexport const colorOut = (colorValue: ColorValues | string, makeImportant = false) => {\n    if (!colorValue) {\n        return undefined;\n    } else {\n        const output = typeof colorValue === \"string\" ? colorValue : colorValue.toString();\n        return makeImportant ? important(output) : output;\n    }\n};\n\n/*\n * Check if it's a light color or dark color based on lightness\n * @param color - The color we're checking\n */\nexport const isLightColor = (color: ColorHelper) => {\n    return color.lightness() >= 0.5;\n};\n\n/*\n * Color modification based on colors lightness.\n * @param color - The color we're checking and modifying\n * @param weight - The amount you want to mix the two colors (value from 0 to 1)\n * @param flip - By default we darken light colours and lighten dark colors, but if you want to get the opposite result, use this param\n * Note, however, that we do not check if you've reached a maximum. Example: If you want to darken pure black, you get back pure black.\n */\nexport const modifyColorBasedOnLightness = (color: ColorHelper, weight: number, flip: boolean = false) => {\n    let output;\n    if (weight > 1 || weight < 0) {\n        throw new Error(\"mixAmount must be a value between 0 and 1 inclusively.\");\n    }\n    const isLight = isLightColor(color);\n    if ((isLight && !flip) || (!isLight && flip)) {\n        output = color.darken(weight) as ColorHelper;\n    } else {\n        output = color.lighten(weight) as ColorHelper;\n    }\n    return output;\n};\n\n/*\n * Color modification based on colors lightness. This function will make darks darker and lights lighter. Note, however, that if we pass\n * pure white or pure black, the modification goes in the opposite direction, to maintain contrast if \"flipIfMax\" is true.\n * This function is meant for smart defaults and works best with smaller weights. Not really meant for theming. There is a curve\n * to the weight compensate for the fact that subtle weights works well for light colors, but not for dark ones (roughly 10 times\n * less for pure black). This curve starts with colors .4 lightness or less and is accentuated more as we get closer to pure black.\n * @param color - The color we're checking and modifying\n * @param weight - The amount you want to mix the two colors (value from 0 to 1)\n * @param flipIfMax - Modify in the opposite direction if we're darker than black or whiter than white.\n */\nexport const emphasizeLightness = (color: ColorHelper, weight: number, flipIfMax: boolean = true) => {\n    const colorLightness = color.lightness();\n    let weightOffset = 1;\n    if (colorLightness < 0.4) {\n        weightOffset = Math.abs(colorLightness - 0.5) * 20;\n    }\n\n    const weightCurved = weight * weightOffset;\n    const colorDarker = color.darken(weightCurved) as ColorHelper;\n    const colorLighter = color.lighten(weightCurved) as ColorHelper;\n\n    if (isLightColor(color)) {\n        if (colorLightness + weightCurved > 1 && flipIfMax) {\n            return colorDarker;\n        } else {\n            return colorLighter;\n        }\n    } else {\n        if (colorLightness - weightCurved > 0 && flipIfMax) {\n            return colorDarker;\n        } else {\n            return colorLighter;\n        }\n    }\n};\n\n/*\n * Color modification based on saturation.\n * @param referenceColor - The reference colour to determine if we're in a dark or light context.\n * @param colorToModify - The color you wish to modify\n * @param percentage - The amount you want to mix the two colors\n * @param flip - By default we darken light colours and lighten darks, but if you want to get the opposite result, use this param\n */\nexport const modifyColorSaturationBasedOnLightness = (color: ColorHelper, weight: number, flip: boolean = false) => {\n    if (weight > 1 || weight < 0) {\n        throw new Error(\"mixAmount must be a value between 0 and 1 inclusively.\");\n    }\n\n    const isSaturated = color.lightness() >= 0.5;\n\n    if ((isSaturated && !flip) || (!isSaturated && flip)) {\n        // Desaturate\n        return color.desaturate(weight) as ColorHelper;\n    } else {\n        // Saturate\n        return color.saturate(weight) as ColorHelper;\n    }\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport {\n    allButtonStates,\n    colorOut,\n    ColorValues,\n    flexHelper,\n    IFont,\n    modifyColorBasedOnLightness,\n    spinnerLoader,\n    unit,\n    userSelect,\n} from \"@library/styles/styleHelpers\";\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\nimport { DEBUG_STYLES, styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { important, percent, px } from \"csx\";\nimport merge from \"lodash/merge\";\nimport generateButtonClass from \"./styleHelperButtonGenerator\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\n\nexport const buttonGlobalVariables = useThemeCache(() => {\n    // Fetch external global variables\n    const globalVars = globalVariables();\n    const formElVars = formElementsVariables();\n    const makeThemeVars = variableFactory(\"button\");\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.fg,\n        bg: globalVars.mainColors.bg,\n    });\n\n    const font = makeThemeVars(\"font\", {\n        color: globalVars.mainColors.fg,\n        size: globalVars.fonts.size.medium,\n    });\n\n    const padding = makeThemeVars(\"padding\", {\n        top: 2,\n        bottom: 3,\n        side: 12,\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        minHeight: formElVars.sizing.height,\n        minWidth: 104,\n        compactHeight: 24,\n    });\n\n    const border = makeThemeVars(\"border\", globalVars.border);\n\n    return {\n        padding,\n        sizing,\n        border,\n        font,\n        colors,\n    };\n});\n\nexport const buttonVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"button\");\n\n    const standard: IButtonType = makeThemeVars(\"basic\", {\n        name: ButtonTypes.STANDARD,\n        spinnerColor: globalVars.mainColors.fg,\n        colors: {\n            bg: globalVars.mainColors.bg,\n        },\n        borders: {\n            color: globalVars.mixBgAndFg(0.24),\n            radius: globalVars.border.radius,\n        },\n        fonts: {\n            color: globalVars.mainColors.fg,\n        },\n        hover: {\n            colors: {\n                bg: globalVars.mainColors.primary,\n            },\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n        },\n        active: {\n            colors: {\n                bg: globalVars.mainColors.primary,\n            },\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n        },\n        focus: {\n            colors: {\n                bg: globalVars.mainColors.primary,\n            },\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: globalVars.mainColors.primary,\n            },\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n        },\n    });\n\n    const primary: IButtonType = makeThemeVars(\"primary\", {\n        name: ButtonTypes.PRIMARY,\n        colors: {\n            bg: globalVars.mainColors.primary,\n        },\n        fonts: {\n            color: globalVars.mainColors.bg,\n        },\n        spinnerColor: globalVars.mainColors.bg,\n        borders: {\n            color: globalVars.mainColors.primary,\n            radius: globalVars.border.radius,\n        },\n        hover: {\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n            colors: {\n                bg: globalVars.mainColors.secondary,\n            },\n        },\n        active: {\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n            colors: {\n                bg: globalVars.mainColors.secondary,\n            },\n        },\n        focus: {\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n            colors: {\n                bg: globalVars.mainColors.secondary,\n            },\n        },\n        focusAccessible: {\n            fonts: {\n                color: globalVars.mainColors.bg,\n            },\n            colors: {\n                bg: globalVars.mainColors.secondary,\n            },\n        },\n    });\n\n    const transparent: IButtonType = makeThemeVars(\"transparent\", {\n        name: ButtonTypes.TRANSPARENT,\n        colors: {\n            fg: globalVars.mainColors.bg,\n            bg: globalVars.mainColors.fg.fade(0.1),\n        },\n        fonts: {\n            color: globalVars.mainColors.bg,\n        },\n        borders: {\n            color: globalVars.mainColors.bg,\n            radius: globalVars.border.radius,\n        },\n        hover: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n        active: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n        focus: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: globalVars.mainColors.fg.fade(0.2),\n            },\n        },\n    });\n\n    const translucid: IButtonType = makeThemeVars(\"translucid\", {\n        name: ButtonTypes.TRANSLUCID,\n        colors: {\n            bg: globalVars.mainColors.bg,\n        },\n        fonts: {\n            color: globalVars.mainColors.primary,\n        },\n        spinnerColor: globalVars.mainColors.bg,\n        borders: {\n            color: globalVars.mainColors.bg,\n            radius: globalVars.border.radius,\n        },\n        hover: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n        active: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n        focus: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: globalVars.mainColors.bg.fade(0.8),\n            },\n        },\n    });\n\n    return {\n        standard,\n        primary,\n        transparent,\n        translucid,\n    };\n});\n\nexport const buttonSizing = (height, minWidth, fontSize, paddingHorizontal, formElementVars) => {\n    const borderWidth = formElementVars.borders ? formElementVars.borders : buttonGlobalVariables().border.width;\n    return {\n        minHeight: unit(formElementVars.sizing.minHeight),\n        fontSize: unit(fontSize),\n        padding: `${unit(0)} ${px(paddingHorizontal)}`,\n        lineHeight: unit(formElementVars.sizing.height - borderWidth * 2),\n    };\n};\n\nexport const buttonResetMixin = (): NestedCSSProperties => ({\n    ...userSelect(),\n    \"-webkit-appearance\": \"none\",\n    appearance: \"none\",\n    border: 0,\n    background: \"none\",\n    cursor: \"pointer\",\n    color: \"inherit\",\n});\n\nexport const overwriteButtonClass = (\n    buttonTypeVars: IButtonType,\n    overwriteVars: IButtonType,\n    setZIndexOnState = false,\n) => {\n    const buttonVars = merge(buttonTypeVars, overwriteVars);\n    // append names for debugging purposes\n    buttonVars.name = `${buttonTypeVars.name}-${overwriteVars.name}`;\n    return generateButtonClass(buttonVars, setZIndexOnState);\n};\n\nexport enum ButtonTypes {\n    STANDARD = \"standard\",\n    PRIMARY = \"primary\",\n    TRANSPARENT = \"transparent\",\n    TRANSLUCID = \"translucid\",\n    CUSTOM = \"custom\",\n    RESET = \"reset\",\n    TEXT = \"text\",\n    TEXT_PRIMARY = \"textPrimary\",\n    ICON = \"icon\",\n    ICON_COMPACT = \"iconCompact\",\n    TITLEBAR_LINK = \"titleBarLink\",\n    DASHBOARD_STANDARD = \"dashboardStandard\",\n    DASHBOARD_PRIMARY = \"dashboardPrimary\",\n    DASHBOARD_SECONDARY = \"dashboardSecondary\",\n    DASHBOARD_LINK = \"dashboardLink\",\n}\n\nexport const buttonClasses = useThemeCache(() => {\n    const vars = buttonVariables();\n    return {\n        primary: generateButtonClass(vars.primary),\n        standard: generateButtonClass(vars.standard),\n        transparent: generateButtonClass(vars.transparent),\n        translucid: generateButtonClass(vars.translucid),\n        icon: buttonUtilityClasses().buttonIcon,\n        iconCompact: buttonUtilityClasses().buttonIconCompact,\n        text: buttonUtilityClasses().buttonAsText,\n        textPrimary: buttonUtilityClasses().buttonAsTextPrimary,\n        custom: \"\",\n    };\n});\n\nexport const buttonUtilityClasses = useThemeCache(() => {\n    const vars = buttonGlobalVariables();\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const style = styleFactory(\"buttonUtils\");\n\n    const pushLeft = style(\"pushLeft\", {\n        marginRight: important(\"auto\"),\n    });\n\n    const pushRight = style(\"pushRight\", {\n        marginLeft: important(\"auto\"),\n    });\n\n    const iconMixin = (dimension: number): NestedCSSProperties => ({\n        ...buttonResetMixin(),\n        alignItems: \"center\",\n        display: \"flex\",\n        height: unit(dimension),\n        minWidth: unit(dimension),\n        width: unit(dimension),\n        justifyContent: \"center\",\n        border: \"none\",\n        padding: 0,\n        ...allButtonStates({\n            hover: {\n                color: colorOut(globalVars.mainColors.primary),\n            },\n            focusNotKeyboard: {\n                outline: 0,\n                color: colorOut(globalVars.mainColors.secondary),\n            },\n            focus: {\n                color: colorOut(globalVars.mainColors.secondary),\n            },\n            accessibleFocus: {\n                color: colorOut(globalVars.mainColors.secondary),\n            },\n            active: {\n                color: colorOut(globalVars.mainColors.secondary),\n            },\n        }),\n    });\n\n    const buttonIcon = style(\"icon\", iconMixin(formElementVars.sizing.height));\n\n    const buttonIconCompact = style(\"iconCompact\", iconMixin(vars.sizing.compactHeight));\n\n    const asTextStyles: NestedCSSProperties = {\n        ...buttonResetMixin(),\n        minWidth: important(0),\n        padding: 0,\n        overflow: \"hidden\",\n        textAlign: \"left\",\n        lineHeight: globalVars.lineHeights.base,\n        fontWeight: globalVars.fonts.weights.semiBold,\n    };\n\n    const buttonAsText = style(\"asText\", asTextStyles, {\n        color: \"inherit\",\n        $nest: {\n            \"&:not(.focus-visible)\": {\n                outline: 0,\n            },\n            \"&:focus, &:active, &:hover\": {\n                color: colorOut(globalVars.mainColors.secondary),\n            },\n        },\n    });\n\n    const buttonAsTextPrimary = style(\"asTextPrimary\", asTextStyles, {\n        color: colorOut(globalVars.mainColors.primary),\n        $nest: {\n            \"&:not(.focus-visible)\": {\n                outline: 0,\n            },\n            \"&:hover, &:focus, &:active\": {\n                color: colorOut(globalVars.mainColors.secondary),\n            },\n        },\n    });\n\n    const buttonIconRightMargin = style(\"buttonIconRightMargin\", {\n        marginRight: unit(6),\n    });\n\n    const buttonIconLeftMargin = style(\"buttonIconLeftMargin\", {\n        marginLeft: unit(6),\n    });\n\n    const reset = style(\"reset\", buttonResetMixin());\n\n    return {\n        pushLeft,\n        buttonAsText,\n        buttonAsTextPrimary,\n        pushRight,\n        buttonIconCompact,\n        buttonIcon,\n        buttonIconRightMargin,\n        buttonIconLeftMargin,\n        reset,\n    };\n});\n\nexport const buttonLoaderClasses = (buttonType?: ButtonTypes) => {\n    const globalVars = globalVariables();\n    const flexUtils = flexHelper();\n    const style = styleFactory(\"buttonLoader\");\n    const buttonVars = buttonVariables();\n    let spinnerColor;\n\n    switch (buttonType) {\n        case ButtonTypes.PRIMARY:\n            spinnerColor = buttonVars.primary.spinnerColor;\n            break;\n        default:\n            spinnerColor = globalVars.mainColors.primary;\n            break;\n    }\n\n    const root = (alignment: \"left\" | \"center\" = \"center\") =>\n        style({\n            ...(alignment === \"center\" ? flexUtils.middle() : flexUtils.middleLeft),\n            padding: unit(4),\n            height: percent(100),\n            width: percent(100),\n            $nest: {\n                \"&:after\": spinnerLoader({\n                    color: spinnerColor,\n                    dimensions: 20,\n                }),\n            },\n        });\n    return { root };\n};\n","/*\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { em } from \"csx\";\nimport { margins, unit, colorOut } from \"@library/styles/styleHelpers\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\n\nexport const iconVariables = useThemeCache(() => {\n    const themeVars = variableFactory(\"defaultIconSizes\");\n\n    const standard = themeVars(\"defaultIcon\", {\n        width: 24,\n        height: 24,\n    });\n\n    const fileType = themeVars(\"defaultIcon\", {\n        width: 16,\n        height: 16,\n    });\n\n    const newFolder = themeVars(\"newFolderIcon\", {\n        width: 17,\n        height: 14.67,\n    });\n\n    const attachmentError = themeVars(\"attachmentError\", {\n        width: 20,\n        height: 18,\n    });\n\n    const vanillaLogo = themeVars(\"vanillaLogo\", {\n        width: 296.866,\n        height: 119.993,\n    });\n\n    const compact = themeVars(\"compact\", {\n        width: 12,\n        height: 12,\n    });\n\n    const warning = themeVars(\"warning\", {\n        width: 16,\n        height: 16,\n        color: \"#f5af15\",\n    });\n\n    const settings = themeVars(\"settings\", {\n        width: 20,\n        height: 18,\n    });\n\n    const search = themeVars(\"settings\", {\n        width: 18,\n        height: 20,\n    });\n\n    const notifications = themeVars(\"settings\", {\n        width: 18,\n        height: 20,\n    });\n\n    const messages = themeVars(\"messages\", {\n        width: 20.051,\n        height: 14.016,\n    });\n\n    const user = themeVars(\"user\", {\n        width: 20,\n        height: 20,\n    });\n\n    const userWarning = themeVars(\"userWarning\", {\n        width: 40,\n        height: 40,\n    });\n\n    const close = themeVars(\"close\", {\n        width: 20,\n        height: 20,\n    });\n\n    const closeCompact = themeVars(\"closeCompact\", {\n        width: 16,\n        height: 16,\n    });\n\n    const closeTiny = themeVars(\"closeTiny\", {\n        width: 10,\n        height: 10,\n    });\n\n    const chevronLeftCompact = themeVars(\"chevronLeftCompact\", {\n        width: 12,\n        height: 21,\n    });\n\n    const selectedCategory = themeVars(\"selectedCategory\", {\n        width: 16.8,\n        height: 13,\n    });\n\n    const signIn = themeVars(\"signIn\", {\n        width: 24,\n        height: 18,\n    });\n\n    const chevronUp = themeVars(\"selectedCategory\", {\n        width: 51,\n        height: 17,\n    });\n\n    const plusCircle = themeVars(\"plusCircle\", {\n        width: 14,\n        height: 14,\n    });\n\n    const deleteIcon = themeVars(\"deleteIcon\", {\n        width: 24,\n        height: 24,\n    });\n\n    const editIcon = themeVars(\"editIcon\", {\n        width: 24,\n        height: 24,\n    });\n\n    const categoryIcon = themeVars(\"categoryIcon\", {\n        width: 18,\n        height: 18,\n        opacity: 0.8,\n    });\n\n    return {\n        standard,\n        newFolder,\n        fileType,\n        attachmentError,\n        vanillaLogo,\n        compact,\n        settings,\n        warning,\n        search,\n        notifications,\n        messages,\n        user,\n        userWarning,\n        close,\n        closeCompact,\n        closeTiny,\n        chevronLeftCompact,\n        selectedCategory,\n        signIn,\n        chevronUp,\n        plusCircle,\n        categoryIcon,\n        deleteIcon,\n        editIcon,\n    };\n});\n\nexport const iconClasses = useThemeCache(() => {\n    const vars = iconVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"iconSizes\");\n\n    const standard = style(\"defaultIcon\", {\n        width: unit(vars.standard.width),\n        height: unit(vars.standard.height),\n    });\n\n    const fileType = style(\"fileType\", {\n        width: unit(vars.fileType.width),\n        height: unit(vars.fileType.height),\n    });\n\n    const newFolder = style(\"newFolder\", {\n        width: unit(vars.newFolder.width),\n        height: unit(vars.newFolder.height),\n        paddingRight: unit(1),\n    });\n\n    const attachmentError = style(\"attachmentError\", {\n        width: unit(vars.attachmentError.width),\n        height: unit(vars.attachmentError.height),\n    });\n\n    const vanillaLogo = style(\"vanillaLogo\", {\n        width: unit(vars.vanillaLogo.width),\n        height: unit(vars.vanillaLogo.height),\n    });\n\n    const compact = style(\"compact\", {\n        width: unit(vars.compact.width),\n        height: unit(vars.compact.height),\n    });\n\n    const settings = style(\"settings\", {\n        width: unit(vars.settings.width),\n        height: unit(vars.settings.height),\n    });\n\n    const warning = style(\"warning\", {\n        width: unit(vars.warning.width),\n        height: unit(vars.warning.height),\n        color: colorOut(vars.warning.color),\n    });\n\n    const search = style(\"search\", {\n        width: unit(vars.search.width),\n        height: unit(vars.search.height),\n    });\n\n    const notifications = style(\"notifications\", {\n        width: unit(vars.notifications.width),\n        height: unit(vars.notifications.height),\n    });\n\n    const messages = style(\"messages\", {\n        width: unit(vars.messages.width),\n        height: unit(vars.messages.height),\n    });\n\n    const user = style(\"user\", {\n        width: unit(vars.user.width),\n        height: unit(vars.user.height),\n    });\n\n    const userWarning = style(\"userWarning\", {\n        width: unit(vars.userWarning.width),\n        height: unit(vars.userWarning.height),\n    });\n\n    const close = style(\"close\", {\n        width: unit(vars.close.width),\n        height: unit(vars.close.height),\n    });\n\n    // Same as close, but without extra padding\n    const closeCompact = style(\"closeCompact\", {\n        width: unit(vars.closeCompact.width),\n        height: unit(vars.closeCompact.height),\n    });\n\n    // For really small close buttons, like on tokens\n    const closeTiny = style(\"closeTiny\", {\n        display: \"block\",\n        width: unit(vars.closeTiny.width),\n        height: unit(vars.closeTiny.height),\n        margin: \"auto\",\n    });\n\n    const chevronLeftCompact = style(\"chevronLeftCompact\", {\n        width: unit(vars.chevronLeftCompact.width),\n        height: unit(vars.chevronLeftCompact.height),\n    });\n\n    const selectedCategory = style(\"selectedCategory\", {\n        width: unit(vars.selectedCategory.width),\n        height: unit(vars.selectedCategory.height),\n    });\n\n    const signIn = style(\"signIn\", {\n        width: unit(vars.signIn.width),\n        height: unit(vars.signIn.height),\n    });\n\n    const chevronUp = style(\"chevronUp\", {\n        width: unit(vars.chevronUp.width),\n        height: unit(vars.chevronUp.height),\n    });\n\n    const plusCircle = style(\"plusCircle\", {\n        width: unit(vars.plusCircle.width),\n        height: unit(vars.plusCircle.height),\n    });\n\n    const categoryIcon = style(\"categoryIcon\", {\n        width: unit(vars.categoryIcon.width),\n        height: unit(vars.categoryIcon.height),\n        opacity: vars.categoryIcon.opacity,\n        marginRight: unit(3),\n    });\n\n    const deleteIcon = style(\"deleteIcon\", {\n        width: unit(vars.deleteIcon.width),\n        height: unit(vars.deleteIcon.height),\n    });\n\n    const editIcon = style(\"editIcon\", {\n        width: unit(vars.editIcon.width),\n        height: unit(vars.editIcon.height),\n    });\n\n    const discussionIcon = style(\"discussionIcon\", {\n        width: unit(vars.standard.width),\n        height: unit(vars.standard.height),\n    });\n\n    const alertIcon = style(\"alertIcon\", {\n        width: unit(vars.standard.width),\n        height: unit(vars.standard.height),\n    });\n\n    const alertIconCompact = style(\"alertIconCompact\", {\n        width: unit(vars.standard.width),\n        height: unit(vars.standard.height),\n        margin: unit(-globalVars.buttonIcon.offset),\n    });\n\n    return {\n        standard,\n        newFolder,\n        warning,\n        fileType,\n        attachmentError,\n        vanillaLogo,\n        compact,\n        settings,\n        search,\n        notifications,\n        messages,\n        user,\n        userWarning,\n        close,\n        closeCompact,\n        closeTiny,\n        chevronLeftCompact,\n        selectedCategory,\n        signIn,\n        chevronUp,\n        plusCircle,\n        categoryIcon,\n        deleteIcon,\n        editIcon,\n        discussionIcon,\n        alertIcon,\n        alertIconCompact,\n    };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Omit } from \"@library/@types/utils\";\nimport { AxiosError, AxiosResponse } from \"axios\";\nimport { IUserFragment } from \"@library/@types/api/users\";\n\nexport enum LoadStatus {\n    PENDING = \"PENDING\",\n    LOADING = \"LOADING\",\n    SUCCESS = \"SUCCESS\",\n    ERROR = \"ERROR\",\n}\n\nexport interface ILoadable<T, E = IApiError> {\n    status: LoadStatus;\n    error?: E;\n    data?: T;\n}\n\nexport interface IApiResponse<DataType = any> {\n    data: DataType;\n    status: number;\n    headers?: any;\n}\n\nexport interface IFieldError {\n    message: string; // translated message\n    code: string; // translation code\n    field: string;\n    status?: number; // HTTP status\n}\n\nexport interface IServerError {\n    message: string;\n    status: number;\n    errors?: {\n        [key: string]: IFieldError[];\n    };\n}\n\nexport interface IApiError extends AxiosError {\n    response: AxiosResponse<IServerError | null>;\n}\n\ninterface IMultiType<T> {\n    recordType: T;\n    recordID: number;\n}\n\nexport type MultiTypeRecord<T, Subtract extends keyof T, TypeName extends string> = Omit<T, Subtract> &\n    IMultiType<TypeName>;\n\nexport interface INavigationItem {\n    name: string;\n    url: string;\n    parentID: number;\n    recordID: number;\n    sort: number | null;\n    recordType: string;\n}\n\nexport interface IApiDateInfo {\n    insertUserID: number;\n    insertDate: string;\n    updateUserID: number;\n    updateDate: string;\n}\n\nexport interface IApiDateInfoExpanded extends IApiDateInfo {\n    insertUser: IUserFragment;\n    updateUser: IUserFragment;\n}\n\nexport interface INavigationTreeItem extends INavigationItem {\n    children: INavigationTreeItem[];\n}\n\nexport interface ILinkGroup {\n    category: INavigationItem;\n    items: INavigationItem[];\n}\n\nexport interface ILinkListData {\n    groups: ILinkGroup[];\n    ungroupedItems: INavigationItem[];\n}\n\nexport enum PublishStatus {\n    DELETED = \"deleted\",\n    UNDELETED = \"undeleted\",\n    PUBLISHED = \"published\",\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { percent } from \"csx\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { allLinkStates, margins, paddings, unit } from \"@library/styles/styleHelpers\";\n\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { TextDecorationProperty } from \"csstype\";\n\nexport const panelListVariables = useThemeCache(() => {\n    const globalVals = globalVariables();\n    const makeThemeVars = variableFactory(\"panelList\");\n\n    const title = makeThemeVars(\"title\", {\n        fontSize: globalVals.fonts.size.large,\n    });\n    const offset = makeThemeVars(\"offset\", {\n        default: 12,\n    });\n    const link = makeThemeVars(\"link\", {\n        fontSize: globalVals.fonts.size.medium,\n        hover: {\n            color: globalVals.links.colors.default,\n        },\n        focus: {\n            color: globalVals.links.colors.focus,\n        },\n    });\n    return {\n        title,\n        offset,\n        link,\n    };\n});\n\nexport const panelListClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = panelListVariables();\n    const mediaQueries = layoutVariables().mediaQueries();\n    const style = styleFactory(\"panelList\");\n\n    const root = style({\n        position: \"relative\",\n        display: \"block\",\n    });\n\n    const title = style(\"title\", {\n        fontSize: unit(vars.title.fontSize),\n        marginBottom: unit(vars.offset.default),\n    });\n\n    const item = style(\"item\", {\n        $nest: {\n            \"& + &\": {\n                marginTop: unit(vars.offset.default),\n            },\n        },\n    });\n\n    const link = style(\"link\", {\n        display: \"block\",\n        position: \"relative\",\n        width: percent(100),\n        fontSize: unit(vars.link.fontSize),\n        color: \"inherit\",\n        ...allLinkStates({\n            allStates: {\n                textDecoration: \"none\",\n            },\n            hover: {\n                color: globalVars.links.colors.hover,\n            },\n            focus: {\n                color: globalVars.links.colors.focus,\n            },\n        }),\n    });\n\n    const items = style(\"items\", {});\n\n    return {\n        root,\n        title,\n        item,\n        link,\n        items,\n    };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { color, percent } from \"csx\";\nimport { styleFactory, useThemeCache } from \"@library/styles/styleUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { paddings } from \"@library/styles/styleHelpers\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\n\nexport const panelWidgetClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = layoutVariables();\n    const mediaQueries = vars.mediaQueries();\n    const style = styleFactory(\"panelWidget\");\n\n    const root = style(\n        {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"relative\",\n            width: percent(100),\n            ...paddings({\n                all: globalVars.gutter.half,\n            }),\n            $nest: {\n                \"&.hasNoVerticalPadding\": {\n                    ...paddings({ vertical: 0 }),\n                },\n                \"&.hasNoHorizontalPadding\": {\n                    ...paddings({ horizontal: 0 }),\n                },\n                \"&.isSelfPadded\": {\n                    ...paddings({ all: 0 }),\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            ...paddings({\n                all: 8,\n            }),\n        }),\n    );\n\n    return { root };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { color, percent } from \"csx\";\nimport { styleFactory, useThemeCache } from \"@library/styles/styleUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\nimport { panelWidgetClasses } from \"@library/layout/panelWidgetStyles\";\nimport { paddings } from \"@library/styles/styleHelpers\";\nimport { NestedCSSSelectors } from \"typestyle/lib/types\";\n\nexport const panelAreaClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = layoutVariables();\n    const mediaQueries = vars.mediaQueries();\n    const style = styleFactory(\"panelArea\");\n    const classesPanelWidget = panelWidgetClasses();\n\n    const root = style(\n        {\n            width: percent(100),\n            ...paddings({\n                all: globalVars.gutter.half,\n            }),\n            $nest: {\n                \"& .heading\": {\n                    $nest: lineHeightAdjustment(),\n                },\n                [`&.inheritHeight > .${classesPanelWidget.root}`]: {\n                    flexGrow: 1,\n                },\n                \"&.hasNoVerticalPadding\": {\n                    ...paddings({ vertical: 0 }),\n                },\n                \"&.hasNoHorizontalPadding\": {\n                    ...paddings({ horizontal: 0 }),\n                },\n                \"&.isSelfPadded\": {\n                    ...paddings({ all: 0 }),\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            ...paddings({\n                horizontal: 0,\n            }),\n        }),\n    );\n\n    return { root };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { calc, color, percent, px, viewHeight } from \"csx\";\nimport { cssRule, media } from \"typestyle\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { margins, paddings, sticky, unit } from \"@library/styles/styleHelpers\";\nimport { important } from \"csx/lib/strings\";\nimport { panelListClasses } from \"@library/layout/panelListStyles\";\nimport { titleBarVariables } from \"@library/headers/titleBarStyles\";\nimport { panelAreaClasses } from \"@library/layout/panelAreaStyles\";\n\nexport const layoutVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"globalVariables\");\n\n    // Important variables that will be used to calculate other variables\n    const foundationalWidths = makeThemeVars(\"foundationalWidths\", {\n        fullGutter: 48,\n        panelWidth: 216,\n        middleColumnWidth: 672,\n        minimalMiddleColumnWidth: 500, // Will break if middle column width is smaller than this value.\n        narrowContentWidth: 900, // For home page widgets, narrower than full width\n        breakPoints: {\n            // Other break points are calculated\n            twoColumns: 1200,\n            xs: 500,\n        },\n    });\n\n    const gutter = makeThemeVars(\"gutter\", {\n        full: foundationalWidths.fullGutter, // 48\n        size: foundationalWidths.fullGutter / 2, // 24\n        halfSize: foundationalWidths.fullGutter / 4, // 12\n        quarterSize: foundationalWidths.fullGutter / 8, // 6\n    });\n\n    const panel = makeThemeVars(\"panel\", {\n        width: foundationalWidths.panelWidth,\n        paddedWidth: foundationalWidths.panelWidth + gutter.full,\n    });\n\n    const middleColumn = makeThemeVars(\"middleColumn\", {\n        width: foundationalWidths.middleColumnWidth,\n        paddedWidth: foundationalWidths.middleColumnWidth + gutter.full,\n    });\n\n    const globalContentWidth = middleColumn.paddedWidth + panel.paddedWidth * 2 + gutter.size;\n\n    const contentSizes = makeThemeVars(\"content\", {\n        full: globalContentWidth,\n        narrow:\n            foundationalWidths.narrowContentWidth < globalContentWidth\n                ? foundationalWidths.narrowContentWidth\n                : globalContentWidth,\n    });\n\n    const panelLayoutBreakPoints = makeThemeVars(\"panelLayoutBreakPoints\", {\n        noBleed: globalContentWidth,\n        twoColumn: foundationalWidths.breakPoints.twoColumns,\n        oneColumn: foundationalWidths.minimalMiddleColumnWidth + panel.paddedWidth,\n        xs: foundationalWidths.breakPoints.xs,\n    });\n\n    const panelLayoutSpacing = makeThemeVars(\"panelLayoutSpacing\", {\n        margin: {\n            top: 0,\n            bottom: 50,\n        },\n        padding: {\n            top: gutter.halfSize * 1.5,\n        },\n        extraPadding: {\n            top: 32,\n            noBreadcrumbs: {},\n            mobile: {\n                noBreadcrumbs: {\n                    top: 16,\n                },\n            },\n        },\n        largePadding: {\n            top: 64,\n        },\n    });\n\n    const mediaQueries = () => {\n        const noBleed = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.noBleed),\n                    minWidth: px(panelLayoutBreakPoints.twoColumn + 1),\n                },\n                styles,\n            );\n        };\n\n        const noBleedDown = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.noBleed),\n                },\n                styles,\n            );\n        };\n\n        const twoColumnsDown = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.twoColumn),\n                },\n                styles,\n            );\n        };\n\n        const twoColumns = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.twoColumn),\n                    minWidth: px(panelLayoutBreakPoints.oneColumn + 1),\n                },\n                styles,\n            );\n        };\n\n        const oneColumn = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.oneColumn),\n                    minWidth: px(panelLayoutBreakPoints.xs + 1),\n                },\n                styles,\n            );\n        };\n\n        const oneColumnDown = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.oneColumn),\n                },\n                styles,\n            );\n        };\n\n        const xs = styles => {\n            return media(\n                {\n                    maxWidth: px(panelLayoutBreakPoints.xs),\n                },\n                styles,\n            );\n        };\n\n        return {\n            noBleed,\n            noBleedDown,\n            twoColumns,\n            twoColumnsDown,\n            oneColumn,\n            oneColumnDown,\n            xs,\n        };\n    };\n\n    return {\n        foundationalWidths,\n        gutter,\n        panel,\n        middleColumn,\n        contentSizes,\n        mediaQueries,\n        panelLayoutSpacing,\n        panelLayoutBreakPoints,\n    };\n});\n\nexport const panelLayoutClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = layoutVariables();\n    const mediaQueries = vars.mediaQueries();\n    const style = styleFactory(\"panelLayout\");\n    const classesPanelArea = panelAreaClasses();\n    const classesPanelList = panelListClasses();\n    const titleBarVars = titleBarVariables();\n\n    const main = style(\"main\", {\n        minHeight: viewHeight(20),\n        width: percent(100),\n    });\n\n    const root = style(\n        {\n            ...margins(vars.panelLayoutSpacing.margin),\n            width: percent(100),\n            $nest: {\n                [`&.noBreadcrumbs > .${main}`]: {\n                    paddingTop: unit(globalVars.gutter.size),\n                    ...mediaQueries.oneColumnDown({\n                        paddingTop: 0,\n                    }),\n                },\n                \"&.isOneCol\": {\n                    width: unit(vars.middleColumn.paddedWidth),\n                    maxWidth: percent(100),\n                    margin: \"auto\",\n                    ...mediaQueries.oneColumnDown({\n                        width: percent(100),\n                    }),\n                },\n                \"&.hasTopPadding\": {\n                    paddingTop: unit(vars.panelLayoutSpacing.extraPadding.top),\n                },\n                \"&.hasTopPadding.noBreadcrumbs\": {\n                    paddingTop: unit(vars.panelLayoutSpacing.extraPadding.mobile.noBreadcrumbs.top),\n                },\n                \"&.hasLargePadding\": {\n                    ...paddings(vars.panelLayoutSpacing.largePadding),\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            $nest: {\n                \"&.hasTopPadding.noBreadcrumbs\": {\n                    paddingTop: unit(vars.panelLayoutSpacing.extraPadding.mobile.noBreadcrumbs.top),\n                },\n            },\n        }),\n    );\n\n    const content = style(\"content\", {\n        display: \"flex\",\n        flexGrow: 1,\n        width: percent(100),\n        justifyContent: \"space-between\",\n    });\n\n    const panel = style(\"panel\", {\n        width: percent(100),\n        $nest: {\n            [`& > .${classesPanelArea.root}:first-child .${classesPanelList.root}`]: {\n                marginTop: unit(\n                    (globalVars.fonts.size.title * globalVars.lineHeights.condensed) / 2 -\n                        globalVariables().fonts.size.medium / 2,\n                ),\n            },\n        },\n    });\n\n    const top = style(\"top\", {\n        width: percent(100),\n        marginBottom: unit(globalVars.gutter.half),\n    });\n\n    const container = style(\"container\", {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n    });\n\n    const fullWidth = style(\"fullWidth\", {\n        position: \"relative\",\n        padding: 0,\n    });\n\n    const leftColumn = style(\"leftColumn\", {\n        position: \"relative\",\n        width: unit(vars.panel.paddedWidth),\n        flexBasis: unit(vars.panel.paddedWidth),\n        minWidth: unit(vars.panel.paddedWidth),\n    });\n\n    const rightColumn = style(\"rightColumn\", {\n        position: \"relative\",\n        width: unit(vars.panel.paddedWidth),\n        flexBasis: unit(vars.panel.paddedWidth),\n        minWidth: unit(vars.panel.paddedWidth),\n        overflow: \"initial\",\n    });\n\n    const middleColumn = style(\"middleColumn\", {\n        justifyContent: \"space-between\",\n        flexGrow: 1,\n        width: percent(100),\n        maxWidth: percent(100),\n        ...mediaQueries.oneColumnDown(paddings({ left: important(0), right: important(0) })),\n    });\n\n    const middleColumnMaxWidth = style(\"middleColumnMaxWidth\", {\n        $nest: {\n            \"&.hasAdjacentPanel\": {\n                flexBasis: calc(`100% - ${unit(vars.panel.paddedWidth)}`),\n                maxWidth: calc(`100% - ${unit(vars.panel.paddedWidth)}`),\n                ...mediaQueries.oneColumnDown({\n                    flexBasis: percent(100),\n                    maxWidth: percent(100),\n                }),\n            },\n            \"&.hasTwoAdjacentPanels\": {\n                flexBasis: calc(`100% - ${unit(vars.panel.paddedWidth * 2)}`),\n                maxWidth: calc(`100% - ${unit(vars.panel.paddedWidth * 2)}`),\n                ...mediaQueries.oneColumnDown({\n                    flexBasis: percent(100),\n                    maxWidth: percent(100),\n                }),\n            },\n        },\n    });\n\n    const breadcrumbs = style(\"breadcrumbs\", {});\n\n    const isSticky = style(\n        \"isSticky\",\n        {\n            ...sticky(),\n            top: titleBarVars.sizing.height * 2,\n            height: percent(100),\n        },\n        mediaQueries.oneColumnDown({\n            position: \"relative\",\n            top: \"auto\",\n            left: \"auto\",\n            bottom: \"auto\",\n        }),\n    );\n\n    // To remove when we have overlay styles converted\n    cssRule(`.overlay .${root}.noBreadcrumbs .${main}`, {\n        paddingTop: 0,\n    });\n\n    return {\n        root,\n        content,\n        top,\n        main,\n        container,\n        fullWidth,\n        leftColumn,\n        rightColumn,\n        middleColumn,\n        middleColumnMaxWidth,\n        panel,\n        isSticky,\n        breadcrumbs,\n    };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables, IIconSizes } from \"@library/styles/globalStyleVars\";\nimport { absolutePosition, colorOut, unit } from \"@library/styles/styleHelpers\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { color } from \"csx\";\n\nexport const formElementsVariables = useThemeCache(() => {\n    const vars = globalVariables();\n    const varsLayouts = layoutVariables();\n    const mixBgAndFg = vars.mixBgAndFg;\n    const makeThemeVars = variableFactory(\"formElements\");\n\n    const sizing = makeThemeVars(\"sizing\", {\n        height: 36,\n        halfHeight: 18,\n        maxWidth: 528,\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        margin: 12,\n        horizontalPadding: 12,\n        verticalPadding: 6,\n    });\n\n    const border = makeThemeVars(\"border\", {\n        width: 1,\n        fullWidth: 2,\n        color: vars.border.color,\n        style: \"solid\",\n        radius: vars.border.radius,\n    });\n\n    const giantInput = makeThemeVars(\"giantInput\", {\n        height: 82,\n        fontSize: 24,\n    });\n\n    const largeInput = makeThemeVars(\"largeInput\", {\n        height: 48,\n        fontSize: 16,\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: vars.mainColors.fg,\n        bg: vars.mainColors.bg,\n    });\n\n    const errorSpacing = makeThemeVars(\"errorSpacing\", {\n        horizontalPadding: varsLayouts.gutter.size,\n        verticalPadding: varsLayouts.gutter.size,\n        verticalMargin: varsLayouts.gutter.halfSize,\n    });\n\n    const placeholder = makeThemeVars(\"placeholder\", {\n        color: mixBgAndFg(0.83),\n    });\n\n    const disabled = makeThemeVars(\"disabled\", {\n        opacity: 0.5,\n    });\n\n    const buttonMarginAlignment = (size: IIconSizes = IIconSizes.DEFAULT) => {\n        const globalVars = globalVariables();\n        let iconSize = globalVars.icon.sizes.default;\n\n        switch (size) {\n            case IIconSizes.SMALL:\n                iconSize = globalVars.icon.sizes.small;\n                break;\n            case IIconSizes.LARGE:\n                iconSize = globalVars.icon.sizes.small;\n                break;\n        }\n\n        return (sizing.height - iconSize) / 2;\n    };\n\n    return {\n        sizing,\n        errorSpacing,\n        spacing,\n        border,\n        giantInput,\n        largeInput,\n        colors,\n        placeholder,\n        disabled,\n        buttonMarginAlignment,\n    };\n});\n\nexport const accessibleErrorClasses = useThemeCache(() => {\n    const style = styleFactory(\"accessibleError\");\n    const globalVars = globalVariables();\n    const root = style({\n        display: \"flex\",\n        alignItems: \"center\",\n    });\n    const paragraph = style(\"paragraph\", {\n        color: colorOut(globalVars.messageColors.error.fg),\n        fontSize: unit(globalVars.fonts.size.small),\n    });\n\n    return {\n        root,\n        paragraph,\n    };\n});\n\nexport const formErrorClasses = useThemeCache(() => {\n    const style = styleFactory(\"formError\");\n    const varsGlobal = globalVariables();\n    const vars = formElementsVariables();\n\n    const root = style({\n        backgroundColor: colorOut(varsGlobal.messageColors.error.fg),\n        color: colorOut(varsGlobal.messageColors.error.fg),\n        marginBottom: unit(16),\n        paddingLeft: vars.errorSpacing.horizontalPadding,\n        paddingRight: vars.errorSpacing.horizontalPadding,\n        paddingTop: vars.errorSpacing.verticalPadding,\n        paddingBottom: vars.errorSpacing.verticalPadding,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n    });\n    const actions = style(\"actions\", {\n        display: \"flex\",\n        alignItems: \"center\",\n    });\n\n    const actionButton = style(\"button\", {\n        marginLeft: unit(12),\n    });\n    const activeButton = style(\"activeButton\", {\n        fontWeight: \"bold\",\n    });\n\n    return {\n        actionButton,\n        root,\n        activeButton,\n        actions,\n    };\n});\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IApiError, IApiResponse } from \"@library/@types/api/core\";\nimport { AxiosResponse, AxiosInstance } from \"axios\";\nimport { logError } from \"@vanilla/utils\";\nimport { ThunkDispatch, ThunkAction } from \"redux-thunk\";\nimport { AnyAction } from \"redux\";\nimport { AsyncActionCreators } from \"typescript-fsa\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\n\n/**\n * Base class for creating redux actions.\n */\nexport default class ReduxActions<S extends ICoreStoreState = ICoreStoreState> {\n    /**\n     * Utility to create an action with our a without a payload of a given type.\n     * The action generated can have its type narrowed in a reducer switch statement if the type T matches.\n     *\n     * @see ActionsUnion\n     *\n     * @param type The action type.\n     * @param payload The payload data.\n     */\n    public static createAction<ActionType extends string>(type: ActionType): IAction<ActionType>;\n    public static createAction<ActionType extends string, Payload>(\n        type: ActionType,\n        payload: Payload,\n    ): IActionWithPayload<ActionType, Payload>;\n    public static createAction<ActionType extends string, Payload>(type: ActionType, payload?: Payload) {\n        return payload === undefined ? { type } : { type, payload };\n    }\n\n    /**\n     * Create request, response, and error action creators.\n     *\n     * The dummy types are needed because typescript currently requires all generic types to be specified or all to be inferred. They cannot currently be mixed.\n     *\n     * @see https://github.com/Microsoft/TypeScript/issues/10571#issuecomment-345402872\n     *\n     * @param requestType The string for the request type. This should be a unique constant.\n     * @param responseType The string for the response type. This should be a unique constant.\n     * @param errorType The string for the error type. This should be a unique constant.\n     * @param dummyResponseType A placeholder to infer the type of the response. This isn't used for anything other than inferring a type.\n     * @param dummyMetaType A placeholder to infer the type of the meta. This isn't used for anything other than inferringa  type.\n     *\n     * @example\n     *\n     * ```\n     * const GET_THING_REQUEST = \"GET_THING_REQUEST\";\n     * const GET_THING_RESPONSE = \"GET_THING_RESPONSE\";\n     * const GET_THING_ERROR = \"GET_THING_ERROR\";\n     * interface IThing { thing: string }\n     * interface IThingOptions { page?: number }\n     *\n     * generateApiActionCreators(GET_THING_REQUEST, GET_THING_RESPONSE, GET_THING_ERROR, {} as IThing, {} as IThingOptions);\n     * ```\n     */\n    public static generateApiActionCreators<\n        RequestActionType extends string,\n        ResponseActionType extends string,\n        ErrorActionType extends string,\n        ResponseDataType,\n        Meta = any\n    >(\n        requestType: RequestActionType,\n        responseType: ResponseActionType,\n        errorType: ErrorActionType,\n        dummyResponseType?: ResponseDataType,\n        dummyMetaType?: Meta,\n    ): {\n        request: (meta?: Meta) => IApiAction<RequestActionType, Meta>;\n        response: (\n            payload: IApiResponse<ResponseDataType>,\n            meta?: Meta,\n        ) => IApiResponseAction<ResponseActionType, Meta, ResponseDataType>;\n        error: (error: IApiError, meta?: Meta) => IApiErrorAction<ErrorActionType, Meta>;\n    } {\n        return {\n            request: (meta: Meta) => ReduxActions.createApiRequestAction(requestType, meta),\n            response: (response: IApiResponse<ResponseDataType>, meta: Meta) =>\n                ReduxActions.createApiResponseAction(responseType, meta, response),\n            error: (error: IApiError, meta: Meta) => ReduxActions.createApiErrorAction(errorType, meta, error),\n        };\n    }\n\n    /**\n     * Create an API request action. For use in createApiActions().\n     *\n     * @param type The action's type.\n     * @param meta The type of the meta for the action.\n     */\n    private static createApiRequestAction<ActionType extends string, Meta>(\n        type: ActionType,\n        meta: Meta,\n    ): IApiAction<ActionType, Meta> {\n        return {\n            type,\n            meta,\n        };\n    }\n\n    /**\n     * Create an API error action. For use in createApiActions().\n     *\n     * @param type The action's type.\n     * @param meta The type of the meta for the action.\n     * @param error An API error.\n     */\n    private static createApiErrorAction<ActionType extends string, Meta>(\n        type: ActionType,\n        meta: Meta,\n        error: IApiError,\n    ): IApiErrorAction<ActionType, Meta> {\n        logError(error);\n        return {\n            type,\n            meta,\n            payload: error,\n        };\n    }\n\n    /**\n     * Create an API response action. For use in createApiActions().\n     *\n     * @param type The action's type.\n     * @param meta The type of the meta for the action.\n     * @param payload The shape of the IApiResponse data.\n     */\n    private static createApiResponseAction<ActionType extends string, Meta, ResponseDataType>(\n        type: ActionType,\n        meta: Meta,\n        payload: IApiResponse<ResponseDataType>,\n    ): IApiResponseAction<ActionType, Meta, ResponseDataType> {\n        return {\n            type,\n            meta,\n            payload,\n        };\n    }\n\n    /**\n     * Constructor for the redux actions.\n     *\n     * @param dispatch A redux dispatch function.\n     * @param api An API instance.\n     * @param getState Optionally override the getState method. (generally for testin purposes.)\n     */\n    constructor(protected dispatch: any, protected api: AxiosInstance, getState?: () => any) {\n        if (getState) {\n            this.getState = getState;\n        }\n    }\n\n    /**\n     * Bind dispatch to an action creator.\n     */\n    protected bindDispatch = <T extends (...args) => void>(actionCreator: T): T => {\n        return ((...args) => {\n            return this.dispatch(actionCreator.apply(this, args));\n        }) as any;\n    };\n\n    /**\n     * Generate a simple redux thunk for an API request using action creators.\n     *\n     * @param requestType The request method. Eg. post, patch, get, put.\n     * @param endpoint The endpoint requested.\n     * @param actionCreators Action creators generated from {@link ReduxActions.generateApiActionCreators()}\n     * @param params A parameter object for the request. This will be serialized as a JSON body or query string.\n     * @param meta\n     */\n    protected async dispatchApi<T>(\n        requestType: RequestType,\n        endpoint: string,\n        actionCreators: ReturnType<typeof ReduxActions.generateApiActionCreators>,\n        params: any,\n        meta: any = {},\n    ): Promise<AxiosResponse<T> | undefined> {\n        meta = {\n            ...params,\n            ...meta,\n        };\n        this.dispatch(actionCreators.request(meta));\n        try {\n            const requestPromise =\n                requestType === \"get\"\n                    ? this.api.get(endpoint, { params })\n                    : this.api[requestType as any](endpoint, params);\n            const response: AxiosResponse<T> = await requestPromise;\n            this.dispatch(actionCreators.response(response, meta));\n            return response;\n        } catch (apiError) {\n            this.dispatch(actionCreators.error(apiError, meta));\n        }\n    }\n\n    protected getState(): S {\n        return this.dispatch((c, getState) => {\n            return getState();\n        });\n    }\n}\n\n// Redux FSA\n\n/**\n * It's either a promise, or it isn't\n */\ntype MaybePromise<Type> = Type | Promise<Type>;\n\n/**\n * A redux-thunk with the params as the first argument.  You don't have to\n * return a promise; but, the result of the dispatch will be one.\n */\ntype AsyncWorker<Params, Succ, State, Extra = any> = (\n    params: Params,\n    dispatch: ThunkDispatch<State, Extra, AnyAction>,\n    getState: () => State,\n    extra: Extra,\n) => MaybePromise<Succ>;\n\n/** A function that takes parameters and returns a redux-thunk */\ntype ThunkActionCreator<Params, Result, State, Extra> = (\n    params?: Params,\n) => ThunkAction<Result, State, Extra, AnyAction>;\n\n/**\n * Bind a redux-thunk to typescript-fsa async action creators\n * @param actionCreators The typescript-fsa async action creators\n * @param asyncWorker A redux-thunk with extra `params` as the first argument\n * @returns a ThunkActionCreator, the result of which you can pass to dispatch()\n */\nexport const bindThunkAction = <Params, Succ, Err, State, Extra = any>(\n    actionCreators: AsyncActionCreators<Params, Succ, Err>,\n    asyncWorker: AsyncWorker<Params, Succ, State, Extra>,\n): ThunkActionCreator<Params, Promise<Succ>, State, Extra> => (params: Params) => async (dispatch, getState, extra) => {\n    try {\n        dispatch(actionCreators.started(params!));\n        const result = await asyncWorker(params!, dispatch, getState, extra);\n        dispatch(actionCreators.done({ params: params!, result }));\n        return result;\n    } catch (error) {\n        dispatch(actionCreators.failed({ params: params!, error }));\n        throw error;\n    }\n};\n\n// Action interfaces\nexport interface IAction<T extends string> {\n    type: T;\n}\n\nexport interface IActionWithPayload<T extends string, P> extends IAction<T> {\n    payload: P;\n    meta?: any;\n}\n\nexport interface IActionCreator<T extends string> {\n    (): IAction<T>;\n}\n\ntype FunctionType = (...args: any[]) => any;\ninterface IActionCreatorsMapObject {\n    [actionCreator: string]: FunctionType;\n}\n\n// API Action interfaces\ninterface IApiAction<ActionType, Meta> {\n    type: ActionType;\n    meta: Meta;\n}\n\ninterface IApiErrorAction<ActionType, Meta> extends IApiAction<ActionType, Meta> {\n    payload: IApiError;\n}\n\ninterface IApiResponseAction<ActionType, Meta, ResponseDataType> extends IApiAction<ActionType, Meta> {\n    payload: IApiResponse<ResponseDataType>;\n}\n\ntype RequestType = \"get\" | \"post\" | \"put\" | \"delete\" | \"patch\";\n\n// Utility to pull a group of action types out of an actions object\nexport type ActionsUnion<A extends IActionCreatorsMapObject> = ReturnType<A[keyof A]>;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { useThemeCache } from \"@library/styles/styleUtils\";\nimport { BorderRadiusProperty } from \"csstype\";\nimport { ColorHelper } from \"csx\";\nimport { TLength } from \"typestyle/lib/types\";\nimport { ColorValues } from \"@library/styles/styleHelpersColors\";\n\nexport const shadowHelper = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const shadowBaseColor = globalVars.mainColors.fg;\n    const makeShadow = (opacity: number = 0.3) => `0 1px 3px 0 ${shadowBaseColor.fade(opacity)}`;\n    const embed = (baseColor: ColorHelper = shadowBaseColor) => {\n        return {\n            boxShadow: `0 1px 3px 0 ${baseColor.fade(0.3)}`,\n        };\n    };\n\n    const embedHover = (baseColor: ColorHelper = shadowBaseColor) => {\n        return {\n            boxShadow: `0 1px 3px 0 ${baseColor.fade(0.3)}, 0 2px 4px 0 ${baseColor.darken(0.5).fade(0.22)}`,\n        };\n    };\n\n    const dropDown = (baseColor: ColorHelper = shadowBaseColor) => {\n        return {\n            boxShadow: `0 5px 10px 0 ${baseColor.fade(0.3)}`,\n        };\n    };\n\n    const modal = (baseColor: ColorHelper = shadowBaseColor) => {\n        return {\n            boxShadow: `0 5px 20px ${baseColor.fade(0.5)}`,\n        };\n    };\n\n    const contrast = (\n        baseColor: ColorHelper = globalVars.mainColors.fg,\n        hasBorder: boolean = false,\n        borderRadius: BorderRadiusProperty<TLength> = 0,\n    ) => {\n        const shadowColor = baseColor.fade(0.2);\n        let border = {};\n\n        if (hasBorder) {\n            border = {\n                outline: `solid 1px ${shadowColor.toString()}`,\n                radius: borderRadius,\n            };\n        }\n\n        return {\n            boxShadow: `0 0 3px 0 ${baseColor.fade(0.3)}`,\n            ...border,\n        };\n    };\n\n    return { embed, embedHover, dropDown, modal, contrast, makeShadow };\n});\n\nexport const shadowOrBorderBasedOnLightness = (\n    referenceColor: ColorValues,\n    borderStyles: object,\n    shadowStyles: object,\n    flip?: boolean,\n) => {\n    if (referenceColor instanceof ColorHelper && referenceColor.lightness() >= 0.5 && !flip) {\n        // Shadow for light colors\n        return shadowStyles;\n    } else {\n        // Border for dark colors\n        return borderStyles;\n    }\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { em, quote } from \"csx\";\nimport { NestedCSSSelectors, TLength, NestedCSSProperties } from \"typestyle/lib/types\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { margins, negative, unit } from \"@library/styles/styleHelpers\";\n\n/**\n * Many fonts don't set the capital letter to take the whole line height. This mixin is used to line up the top of the Text with the top of the container.\n *\n * @see https://medium.com/codyhouse/line-height-crop-a-simple-css-formula-to-remove-top-space-from-your-text-9c3de06d7c6f\n *\n * @param nestedStyles - Any aditionnal styles to add in the \"$nest\" key\n * @param letterToLineHeightRatio - The ratio is a value from 0 to 1 to set how much of\n *      the line height the capital takes compared to the line height\n *      Example, if it takes 3/4 of the line height, set .75\n * @param verticalOffset - Sometimes the base line isn't centered,\n *      0 remove from top, .5 use font default, 1 remove from bottom\n */\nexport function lineHeightAdjustment(\n    nestedStyles?: NestedCSSProperties,\n    letterToLineHeightRatio?: number,\n    verticalOffset?: number,\n) {\n    const globalVars = globalVariables();\n    const vOffset = verticalOffset ? verticalOffset : globalVars.fonts.alignment.headings.verticalOffset; // for now we only support one font, but if we add more than one, we'll need to distinguish between them\n    const letterRatio = letterToLineHeightRatio\n        ? letterToLineHeightRatio\n        : globalVars.fonts.alignment.headings.capitalLetterRatio; // for now we only support one font, but if we add more than one, we'll need to distinguish between them\n    enum Position {\n        BEFORE = \"before\",\n        AFTER = \"after\",\n    }\n\n    /**\n     * Calculate the actual margin values.\n     */\n    const calculateOffset = (type: Position) => {\n        const isBefore = type === Position.BEFORE;\n        const offset = isBefore ? vOffset : 1 - vOffset!; // If the text is not centered in the line, we need to cheat it vertically\n        const emptySpace = 1 - letterRatio; // This is the pixel value of the dead space in the line from top and/or bottom of line\n        const margin = emptySpace * offset!; // Splits the empty space between top and bottom. .5 gives you even amount on both sides.\n        const verticalMargin = em(emptySpace < 1 ? negative(margin) : margin);\n\n        if (verticalMargin === 0) {\n            return null;\n        } else {\n            return {\n                content: quote(\"\"),\n                display: \"block\",\n                position: \"relative\",\n                height: 0,\n                width: 0,\n                ...margins({\n                    top: isBefore ? verticalMargin : undefined,\n                    bottom: !isBefore ? verticalMargin : undefined,\n                }),\n            };\n        }\n    };\n    const result = nestedStyles ? nestedStyles : {};\n\n    const before = calculateOffset(Position.BEFORE);\n    if (before) {\n        result[\"&::before\"] = before;\n    }\n\n    const after = calculateOffset(Position.AFTER);\n    if (after) {\n        result[\"&::after\"] = after;\n    }\n\n    return result as NestedCSSSelectors;\n}\n\nexport function defaultHyphenation() {\n    const vars = globalVariables().userContentHyphenation;\n    return {\n        \"-ms-hyphens\": \"auto\",\n        \"-webkit-hyphens\": \"auto\",\n        hyphens: \"auto\",\n        /* legacy properties */\n        \"-webkit-hyphenate-limit-before\": vars.minimumCharactersBeforeBreak,\n        \"-webkit-hyphenate-limit-after\": vars.minimumCharactersAfterBreak,\n        /* current proposal */\n        \"-moz-hyphenate-limit-chars\": `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${\n            vars.minimumCharactersAfterBreak\n        }` /* not yet supported */,\n        \"-webkit-hyphenate-limit-chars\": `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${\n            vars.minimumCharactersAfterBreak\n        }` /* not yet supported */,\n        \"-ms-hyphenate-limit-chars\": `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${\n            vars.minimumCharactersAfterBreak\n        }`,\n        \"hyphenate-limit-chars\": `${vars.minimumCharactersToHyphenate} ${vars.minimumCharactersBeforeBreak} ${\n            vars.minimumCharactersAfterBreak\n        }`,\n        // Maximum consecutive lines to have hyphenation\n        \"-ms-hyphenate-limit-lines\": vars.maximumConsecutiveBrokenLines,\n        \"-webkit-hyphenate-limit-lines\": vars.maximumConsecutiveBrokenLines,\n        \"hyphenate-limit-lines\": vars.maximumConsecutiveBrokenLines,\n        // Limit \"zone\" to hyphenate\n        \"hyphenate-limit-zone\": unit(vars.hyphenationZone),\n    };\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { Optionalize } from \"@library/@types/utils\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport throttle from \"lodash/throttle\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\n\nexport enum Devices {\n    XS = \"xs\",\n    MOBILE = \"mobile\",\n    TABLET = \"tablet\",\n    NO_BLEED = \"no_bleed\", // Not enough space for back link which goes outside the margin.\n    DESKTOP = \"desktop\",\n}\n\nexport interface IDeviceProps {\n    device: Devices;\n}\n\nconst DeviceContext = React.createContext<Devices>(Devices.DESKTOP);\nexport default DeviceContext;\n\nexport function useDevice() {\n    const device = useContext(DeviceContext);\n    return device;\n}\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\nexport function DeviceProvider(props: IProps) {\n    const calculateDevice = useCallback(() => {\n        const breakpoints = layoutVariables().panelLayoutBreakPoints;\n        const width = document.body.clientWidth;\n        if (width <= breakpoints.xs) {\n            return Devices.XS;\n        } else if (width <= breakpoints.oneColumn) {\n            return Devices.MOBILE;\n        } else if (width <= breakpoints.twoColumn) {\n            return Devices.TABLET;\n        } else if (width <= breakpoints.noBleed) {\n            return Devices.NO_BLEED;\n        } else {\n            return Devices.DESKTOP;\n        }\n    }, []);\n    const [device, setDevice] = useState<Devices>(calculateDevice());\n\n    useEffect(() => {\n        const throttledUpdate = throttle(() => {\n            setDevice(calculateDevice);\n        }, 100);\n        window.addEventListener(\"resize\", throttledUpdate);\n        return () => {\n            window.removeEventListener(\"resize\", throttledUpdate);\n        };\n    }, [calculateDevice, setDevice]);\n\n    return <DeviceContext.Provider value={device}>{props.children}</DeviceContext.Provider>;\n}\n\n/**\n * HOC to inject DeviceContext as props.\n *\n * @param WrappedComponent - The component to wrap\n */\nexport function withDevice<T extends IDeviceProps = IDeviceProps>(WrappedComponent: React.ComponentType<T>) {\n    const displayName = WrappedComponent.displayName || WrappedComponent.name || \"Component\";\n    const ComponentWithDevice = (props: Optionalize<T, IDeviceProps>) => {\n        return (\n            <DeviceContext.Consumer>\n                {context => {\n                    // https://github.com/Microsoft/TypeScript/issues/28938\n                    return <WrappedComponent device={context} {...props as T} />;\n                }}\n            </DeviceContext.Consumer>\n        );\n    };\n    ComponentWithDevice.displayName = `withDevice(${displayName})`;\n    return ComponentWithDevice;\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { percent } from \"csx\";\nimport { ColorValues, paddings, unit } from \"@library/styles/styleHelpers\";\nimport {\n    FontFamilyProperty,\n    FontSizeProperty,\n    FontWeightProperty,\n    LineHeightProperty,\n    MaxWidthProperty,\n    OverflowXProperty,\n    TextOverflowProperty,\n    TextShadowProperty,\n    TextTransformProperty,\n    WhiteSpaceProperty,\n    TextAlignProperty,\n} from \"csstype\";\nimport { NestedCSSProperties, TLength } from \"typestyle/lib/types\";\nimport { colorOut } from \"@library/styles/styleHelpersColors\";\n\nconst fontFallbacks = [\n    \"-apple-system\",\n    \"BlinkMacSystemFont\",\n    \"HelveticaNeue-Light\",\n    \"Segoe UI\",\n    \"Helvetica Neue\",\n    \"Helvetica\",\n    \"Raleway\",\n    \"Arial\",\n    \"sans-serif\",\n    \"Apple Color Emoji\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n];\n\nexport function fontFamilyWithDefaults(fontFamilies: string[]): string {\n    return fontFamilies\n        .concat(fontFallbacks)\n        .map(font => (font.includes(\" \") && !font.includes('\"') ? `\"${font}\"` : font))\n        .join(\", \");\n}\n\nexport function inputLineHeight(height: number, paddingTop: number, fullBorderWidth: number) {\n    return unit(height - (2 * paddingTop + fullBorderWidth));\n}\n\nexport const textInputSizingFromSpacing = (fontSize: number, paddingTop: number, fullBorderWidth: number) => {\n    return {\n        fontSize: unit(fontSize),\n        width: percent(100),\n        lineHeight: 1.5,\n        ...paddings({\n            top: unit(paddingTop),\n            bottom: unit(paddingTop),\n            left: unit(paddingTop * 2),\n            right: unit(paddingTop * 2),\n        }),\n    };\n};\n\nexport const textInputSizingFromFixedHeight = (height: number, fontSize: number, fullBorderWidth: number) => {\n    const paddingTop = (height - fullBorderWidth - fontSize * 1.5) / 2;\n    return {\n        fontSize: unit(fontSize),\n        width: percent(100),\n        lineHeight: 1.5,\n        ...paddings({\n            top: unit(paddingTop),\n            bottom: unit(paddingTop),\n            left: unit(paddingTop * 2),\n            right: unit(paddingTop * 2),\n        }),\n    };\n};\n\nexport interface IFont {\n    color?: ColorValues;\n    size?: FontSizeProperty<TLength>;\n    weight?: FontWeightProperty | number;\n    lineHeight?: LineHeightProperty<TLength>;\n    shadow?: TextShadowProperty;\n    align?: TextAlignProperty;\n    family?: FontFamilyProperty[];\n    transform?: TextTransformProperty;\n}\n\nexport const fonts = (props: IFont): NestedCSSProperties => {\n    if (props) {\n        const fontSize = props.size !== undefined ? unit(props.size) : undefined;\n        const fontWeight = props.weight !== undefined ? props.weight : undefined;\n        const color = props.color !== undefined ? colorOut(props.color) : undefined;\n        const lineHeight = props.lineHeight !== undefined ? props.lineHeight : undefined;\n        const textAlign = props.align !== undefined ? props.align : undefined;\n        const textShadow = props.shadow !== undefined ? props.shadow : undefined;\n        const fontFamily = props.family !== undefined ? fontFamilyWithDefaults(props.family) : undefined;\n        const textTransform = props.transform !== undefined ? props.transform : undefined;\n        return {\n            color,\n            fontSize,\n            fontWeight,\n            lineHeight,\n            textAlign,\n            textShadow,\n            fontFamily,\n            textTransform,\n        };\n    } else {\n        return {};\n    }\n};\n\n// must be nested\nexport const placeholderStyles = (styles: NestedCSSProperties) => {\n    return {\n        \"&::-webkit-input-placeholder\": {\n            $unique: true,\n            ...styles,\n        },\n        \"&::-moz-placeholder\": {\n            $unique: true,\n            ...styles,\n        },\n        \"&::-ms-input-placeholder\": {\n            $unique: true,\n            ...styles,\n        },\n    };\n};\n\nexport const singleLineEllipsis = () => {\n    return {\n        whiteSpace: \"nowrap\" as WhiteSpaceProperty,\n        textOverflow: \"ellipsis\" as TextOverflowProperty,\n        overflowX: \"hidden\" as OverflowXProperty,\n        maxWidth: percent(100) as MaxWidthProperty<TLength>,\n    };\n};\nexport const longWordEllipsis = () => {\n    return {\n        textOverflow: \"ellipsis\" as TextOverflowProperty,\n        overflowX: \"hidden\" as OverflowXProperty,\n        maxWidth: percent(100) as MaxWidthProperty<TLength>,\n    };\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport ThemeActions from \"@library/theming/ThemeActions\";\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport produce from \"immer\";\n\nexport interface ITheme {\n    assets: IThemeAssets;\n}\n\nexport interface IThemeAssets {\n    fonts?: IThemeFont[];\n    logo?: IThemeExternalAsset;\n    mobileLogo?: IThemeExternalAsset;\n    variables?: IThemeVariables;\n}\n\nexport interface IThemeFont {\n    name: string;\n    url: string;\n    fallbacks: string[];\n}\n\nexport interface IThemeExternalAsset {\n    type: string;\n    url: string;\n}\n\nexport interface IThemeVariables {\n    [key: string]: string;\n}\n\nexport interface IThemeState {\n    assets: ILoadable<IThemeAssets>;\n}\n\nexport const INITIAL_STATE: IThemeState = {\n    assets: {\n        status: LoadStatus.PENDING,\n    },\n};\n\nexport const themeReducer = produce(\n    reducerWithInitialState(INITIAL_STATE)\n        .case(ThemeActions.getAssets.started, state => {\n            state.assets.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(ThemeActions.getAssets.done, (state, payload) => {\n            state.assets.status = LoadStatus.SUCCESS;\n            state.assets.data = payload.result.assets;\n            return state;\n        })\n        .case(ThemeActions.getAssets.failed, (state, payload) => {\n            if (payload.error.response && payload.error.response.status === 404) {\n                // This theme just doesn't have variables. Use the defaults.\n                state.assets.data = {};\n                state.assets.status = LoadStatus.SUCCESS;\n                return state;\n            } else {\n                state.assets.status = LoadStatus.ERROR;\n                state.assets.error = payload.error;\n                return state;\n            }\n        }),\n);\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IUserSuggestion } from \"@library/features/users/suggestion/IUserSuggestion\";\nimport { ILoadable } from \"@library/@types/api/core\";\n\nexport type ISuggestionValue = ILoadable<IUserSuggestion[]>;\n\nexport interface ISuggestionNode {\n    children?: {\n        [key: string]: ISuggestionNode;\n    };\n    value?: ISuggestionValue;\n}\n\n/**\n * A trie for storage of mention data.\n */\nexport default class SuggestionTrie {\n    public MAX_PARTIAL_LOOKUP_ITERATIONS = 10;\n    private root: ISuggestionNode = {};\n\n    /**\n     * Insert a value into a node for the word. This will overwrite whatever value the node already has\n     *\n     * @param word - The location in the trie.\n     * @param value - The value for the node.\n     */\n    public insert(word: string, value: ISuggestionValue): void {\n        let current = this.root;\n\n        for (let i = 0; i < word.length; i++) {\n            const letter = word[i];\n            if (!current.children) {\n                current.children = {};\n            }\n\n            if (!(letter in current.children)) {\n                const contents: ISuggestionNode = i !== word.length - 1 ? {} : { children: {} };\n                current.children[letter] = contents;\n            }\n\n            current = current.children[letter];\n        }\n\n        current.value = value;\n    }\n\n    /**\n     * Get a node for a given word.\n     *\n     * If no word is passed the root node will be returned.\n     *\n     * @param word - The word to lookup.\n     */\n    public getNode(word?: string): ISuggestionNode | null {\n        let node = this.root;\n        if (word === undefined) {\n            return node;\n        }\n\n        for (let i = 0; i < word.length; i++) {\n            const char = word.charAt(i);\n            if (node.children && node.children[char]) {\n                node = node.children[char];\n            } else {\n                return null;\n            }\n        }\n        return node;\n    }\n\n    /**\n     * Get the value out of a particular node.\n     *\n     * @param word - The word to lookup.\n     */\n    public getValue(word: string): ISuggestionValue | null {\n        const node = this.getNode(word);\n        return (node && node.value) || null;\n    }\n\n    /**\n     * Lookup the value for a word using increasingly small substrings of the current string.\n     *\n     * Number of iterations is capped at MAX_PARTIAL_LOOKUP_ITERATIONS.\n     *\n     * ex. this.getValueFormPartials(\"test\") will lookup for\n     * - \"test\",\n     * - \"tes\",\n     * - \"te\",\n     * - \"t\"\n     *\n     * And return immediately if it finds a result.\n     */\n    public getValueFromPartialsOfWord(word: string): ISuggestionValue | null {\n        const startingLength = Math.min(this.MAX_PARTIAL_LOOKUP_ITERATIONS, word.length);\n        for (let x = startingLength; x > 0; x--) {\n            const substring = word.substring(0, x);\n            const potentialValue = this.getValue(substring);\n            if (potentialValue != null) {\n                return potentialValue;\n            }\n        }\n\n        return null;\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { logError } from \"@vanilla/utils\";\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport { IUsersStoreState } from \"@library/features/users/userModel\";\nimport ReduxActions, { ActionsUnion } from \"@library/redux/ReduxActions\";\nimport { IUserSuggestion } from \"@library/features/users/suggestion/IUserSuggestion\";\nimport UserSuggestionModel from \"@library/features/users/suggestion/UserSuggestionModel\";\nimport { Dispatch } from \"redux\";\nimport apiv2 from \"@library/apiv2\";\nimport debounce from \"lodash/debounce\";\n\ninterface ILookupUserOptions {\n    username: string;\n}\n\nexport default class UserSuggestionActions extends ReduxActions {\n    public static readonly SET_ACTIVE_SUGGESTION = \"@@mentions/SET_ACTIVE_SUGGESTION\";\n    public static readonly LOAD_USERS_REQUEST = \"@@mentions/GET_USERS_REQUEST\";\n    public static readonly LOAD_USERS_RESPONSE = \"@@mentions/LOAD_USERS_RESPONSE\";\n    public static readonly LOAD_USERS_ERROR = \"@@mentions/LOAD_USERS_ERROR\";\n\n    public static readonly ACTION_TYPES:\n        | ActionsUnion<typeof UserSuggestionActions.loadUsersACs>\n        | ReturnType<typeof UserSuggestionActions.setActiveAC>;\n\n    // The number of characters that we will lookup to try and invalidate a lookup early.\n    private static USER_LIMIT = 50;\n\n    // Action creators\n    public static loadUsersACs = ReduxActions.generateApiActionCreators(\n        UserSuggestionActions.LOAD_USERS_REQUEST,\n        UserSuggestionActions.LOAD_USERS_RESPONSE,\n        UserSuggestionActions.LOAD_USERS_ERROR,\n        {} as IUserSuggestion[],\n        {} as ILookupUserOptions,\n    );\n\n    public static setActiveAC(suggestionID: string, suggestionIndex: number) {\n        return ReduxActions.createAction(UserSuggestionActions.SET_ACTIVE_SUGGESTION, {\n            suggestionID,\n            suggestionIndex,\n        });\n    }\n\n    /**\n     * Filter users down to a list that loosely matches the current searchName\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Collator\n     */\n    public static filterSuggestions(users: IUserSuggestion[], searchName: string) {\n        const searchCollator = Intl.Collator(\"en\", {\n            usage: \"search\",\n            sensitivity: \"base\",\n            ignorePunctuation: true,\n            numeric: true,\n        });\n\n        return users.filter((userSuggestion: IUserSuggestion) => {\n            if (userSuggestion.name.length < searchName.length) {\n                return false;\n            }\n\n            const suggestionIDPartial = userSuggestion.name.substring(0, searchName.length);\n            return searchCollator.compare(suggestionIDPartial, searchName) === 0;\n        });\n    }\n\n    public setActive = this.bindDispatch(UserSuggestionActions.setActiveAC);\n\n    /**\n     * Make an API request for mention suggestions. These results are cached by the lookup username.\n     */\n    private interalLoadUsers = (username: string) => {\n        return this.dispatch((dispatch: Dispatch<any>, getState: () => IUsersStoreState) => {\n            const trie = UserSuggestionModel.selectSuggestionsTrie(getState());\n            // Attempt an exact lookup first.\n            const exactLookup = trie.getValue(username);\n            if (exactLookup != null) {\n                switch (exactLookup.status) {\n                    case LoadStatus.SUCCESS:\n                        if (exactLookup.data) {\n                            return dispatch(\n                                UserSuggestionActions.loadUsersACs.response(\n                                    { data: exactLookup.data, status: 200 },\n                                    { username },\n                                ),\n                            );\n                        }\n                        break;\n                    case LoadStatus.LOADING:\n                        // Already handled\n                        return;\n                    case LoadStatus.ERROR:\n                        // Previously failed.\n                        if (exactLookup.error) {\n                            return dispatch(UserSuggestionActions.loadUsersACs.error(exactLookup.error, { username }));\n                        }\n                }\n            }\n\n            // Attempt a partial lookup to try and see if we can get results without an API request\n            const partialLookup = trie.getValueFromPartialsOfWord(username);\n            if (partialLookup != null) {\n                switch (partialLookup.status) {\n                    case LoadStatus.SUCCESS: {\n                        if (partialLookup.data && partialLookup.data.length < UserSuggestionActions.USER_LIMIT) {\n                            // The previous match already found the maximum amount of users that the server had\n                            // Return the previous results.\n                            return dispatch(\n                                UserSuggestionActions.loadUsersACs.response(\n                                    {\n                                        data: UserSuggestionActions.filterSuggestions(partialLookup.data, username),\n                                        status: 200,\n                                    },\n                                    { username },\n                                ),\n                            );\n                        }\n                        break;\n                    }\n                    case LoadStatus.ERROR:\n                        break;\n                    // Previously failed. We still want to proceed to a real lookup so do nothing.\n                    case LoadStatus.PENDING:\n                        break;\n                    // We still want to proceed to a real lookup so do nothing.\n                }\n            }\n\n            // Start the lookup.\n            dispatch(UserSuggestionActions.loadUsersACs.request({ username }));\n\n            const params = {\n                name: username + \"*\",\n                order: \"mention\",\n                limit: UserSuggestionActions.USER_LIMIT,\n            };\n            return apiv2\n                .get(\"/users/by-names/\", { params /*, cancelToken: this.apiCancelSource.token*/ })\n                .then(response => {\n                    if (response.status >= 500) {\n                        throw new Error(response.data);\n                    }\n\n                    // Add unique domIDs to each user.\n                    response.data = response.data.map(data => {\n                        data.domID = \"mentionSuggestion\" + data.userID;\n                        return data;\n                    });\n\n                    // Result is good. Lets GO!\n                    dispatch(UserSuggestionActions.loadUsersACs.response(response, { username }));\n                })\n                .catch(error => {\n                    logError(error);\n                    dispatch(UserSuggestionActions.loadUsersACs.error(error, { username }));\n                });\n        });\n    };\n\n    public loadUsers = debounce(this.interalLoadUsers, 50);\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { IUsersStoreState } from \"@library/features/users/userModel\";\nimport SuggestionTrie from \"@library/features/users/suggestion/SuggestionTrie\";\nimport { IUserSuggestion } from \"@library/features/users/suggestion/IUserSuggestion\";\nimport UserSuggestionActions from \"@library/features/users/suggestion/UserSuggestionActions\";\nimport ReduxReducer from \"@library/redux/ReduxReducer\";\nimport moment from \"moment\";\nimport { IUserFragment } from \"@library/@types/api/users\";\n\nexport interface IUserSuggestionState {\n    lastSuccessfulUsername: string | null;\n    currentUsername: string | null;\n    trie: SuggestionTrie;\n    activeSuggestionID: string;\n    activeSuggestionIndex: number;\n}\n\nexport interface IInjectableSuggestionsProps {\n    lastSuccessfulUsername: string | null;\n    currentUsername: string | null;\n    activeSuggestionID: string;\n    activeSuggestionIndex: number;\n    suggestions: ILoadable<IUserSuggestion[]>;\n    isLoading: boolean;\n}\n\nexport default class UserSuggestionModel implements ReduxReducer<IUserSuggestionState> {\n    private static readonly defaultSuggestions: ILoadable<IUserSuggestion[]> = {\n        status: LoadStatus.PENDING,\n    };\n\n    public static mapStateToProps(state: IUsersStoreState): IInjectableSuggestionsProps {\n        const stateSlice = { ...UserSuggestionModel.stateSlice(state) };\n        const { trie, ...rest } = stateSlice;\n        const suggestions = stateSlice.lastSuccessfulUsername\n            ? trie.getValue(stateSlice.lastSuccessfulUsername) || UserSuggestionModel.defaultSuggestions\n            : UserSuggestionModel.defaultSuggestions;\n\n        const currentNode = stateSlice.currentUsername && trie.getValue(stateSlice.currentUsername);\n        const isLoading = !!currentNode && currentNode.status === LoadStatus.LOADING;\n\n        return {\n            ...rest,\n            suggestions,\n            isLoading,\n        };\n    }\n\n    public static selectSuggestionsTrie(state: IUsersStoreState): SuggestionTrie {\n        return UserSuggestionModel.stateSlice(state).trie;\n    }\n\n    private static stateSlice(state: IUsersStoreState): IUserSuggestionState {\n        if (!state.users || !state.users.suggestions) {\n            throw new Error(\n                `Could not find users.suggestions in state ${state}. Be sure to initialize the usersReducer()`,\n            );\n        }\n\n        return state.users.suggestions;\n    }\n\n    /**\n     * Sort a list of user suggestions.\n     *\n     * Priorities\n     * [Exact Match]\n     * [Users active in the last 90 days, sorted loosely with transliteration]\n     * [Users not active in the last 90 days, sorted loosely with transliteration]\n     *\n     * @param users The users to sort.\n     * @param searchName The current search text.\n     * @param currentMoment The current time.\n     */\n    public static sortSuggestions(users: IUserSuggestion[], searchName: string, currentMoment = moment()) {\n        const looseCollator = Intl.Collator(\"en\", {\n            usage: \"sort\",\n            sensitivity: \"variant\",\n            ignorePunctuation: true,\n            numeric: true,\n        });\n\n        // Days of recent activity to look at.\n        const ACTIVE_THRESHOLD = 90;\n\n        // Fan out into most recently active users & less active users.\n        let recentlyActive: IUserSuggestion[] = [];\n        let lessActive: IUserSuggestion[] = [];\n\n        const daysAgo90 = currentMoment.subtract(ACTIVE_THRESHOLD, \"days\");\n\n        for (const user of users) {\n            if (!user.dateLastActive) {\n                lessActive.push(user);\n                continue;\n            }\n\n            const lastActiveMoment = moment(user.dateLastActive);\n            if (lastActiveMoment.isSameOrAfter(daysAgo90)) {\n                recentlyActive.push(user);\n            } else {\n                lessActive.push(user);\n            }\n        }\n\n        const sortByName = (userA: IUserSuggestion, userB: IUserSuggestion) => {\n            const casedSearchName = searchName.toLocaleLowerCase();\n            const aCasedName = userA.name.toLocaleLowerCase();\n            const bCasedName = userB.name.toLocaleLowerCase();\n\n            // Return partial matches first.\n            if (aCasedName.startsWith(casedSearchName) && !bCasedName.startsWith(casedSearchName)) {\n                return -1;\n            }\n            if (bCasedName.startsWith(casedSearchName) && !aCasedName.startsWith(casedSearchName)) {\n                return 1;\n            }\n            return looseCollator.compare(userA.name.toLocaleLowerCase(), userB.name.toLocaleLowerCase());\n        };\n\n        const exactToTheTop = (userA: IUserSuggestion, userB: IUserSuggestion) => {\n            const casedSearchName = searchName.toLocaleLowerCase();\n            const aCasedName = userA.name.toLocaleLowerCase();\n\n            //  Return exact matches first.\n            if (aCasedName === casedSearchName) {\n                return -1;\n            }\n\n            // Don't affect the sorts otherwise.\n            return 0;\n        };\n\n        // Sort each set of users separately.\n        recentlyActive.sort(sortByName);\n        lessActive.sort(sortByName);\n\n        // Join them back together.\n        const allUsers = [...recentlyActive, ...lessActive];\n\n        // Sort exact matches to the top.\n        allUsers.sort(exactToTheTop);\n        return allUsers;\n    }\n\n    public readonly initialState: IUserSuggestionState = {\n        lastSuccessfulUsername: null,\n        currentUsername: null,\n        trie: new SuggestionTrie(),\n        activeSuggestionID: \"\",\n        activeSuggestionIndex: 0,\n    };\n\n    public reducer = (\n        state = this.initialState,\n        action: typeof UserSuggestionActions.ACTION_TYPES,\n    ): IUserSuggestionState => {\n        switch (action.type) {\n            case UserSuggestionActions.LOAD_USERS_REQUEST: {\n                const { username } = action.meta;\n                state.trie.insert(username, {\n                    status: LoadStatus.LOADING,\n                });\n\n                // We want to invalidate the previous results unless:\n                // - The new string is longer than the old one\n                // - The new string is a superset of the old one.\n                let shouldKeepPreviousResults = false;\n                const previousSuccessfulName = state.lastSuccessfulUsername;\n                if (previousSuccessfulName != null && username.length >= previousSuccessfulName.length) {\n                    const newNameSubstring = username.substring(0, previousSuccessfulName.length);\n                    if (newNameSubstring === previousSuccessfulName) {\n                        shouldKeepPreviousResults = true;\n                    }\n                }\n\n                return {\n                    ...state,\n                    currentUsername: username,\n                    lastSuccessfulUsername: shouldKeepPreviousResults ? state.lastSuccessfulUsername : null,\n                };\n            }\n            case UserSuggestionActions.LOAD_USERS_ERROR: {\n                const error = action.payload;\n                const { username } = action.meta;\n                state.trie.insert(username, {\n                    status: LoadStatus.ERROR,\n                    data: undefined,\n                    error,\n                });\n                return state;\n            }\n            case UserSuggestionActions.LOAD_USERS_RESPONSE: {\n                const users = action.payload.data;\n                const { username } = action.meta;\n                state.trie.insert(username, {\n                    status: LoadStatus.SUCCESS,\n                    data: UserSuggestionModel.sortSuggestions(users, username),\n                });\n\n                const firstUserID = users.length > 0 ? users[0].domID : \"\";\n                return {\n                    ...state,\n                    activeSuggestionID: firstUserID,\n                    activeSuggestionIndex: 0,\n                    lastSuccessfulUsername: username,\n                    currentUsername: username,\n                };\n            }\n            case UserSuggestionActions.SET_ACTIVE_SUGGESTION: {\n                const { suggestionID, suggestionIndex } = action.payload;\n                return {\n                    ...state,\n                    activeSuggestionID: suggestionID,\n                    activeSuggestionIndex: suggestionIndex,\n                };\n            }\n            default:\n                return state;\n        }\n    };\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IApiError, LoadStatus } from \"@library/@types/api/core\";\nimport { IMe, IMeCounts } from \"@library/@types/api/users\";\nimport ReduxActions, { bindThunkAction } from \"@library/redux/ReduxActions\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\n\nconst createAction = actionCreatorFactory(\"@@users\");\n\n// The duration we wait to check for new counts.\nconst COUNT_CACHE_PERIOD = 60; // 60 Seconds\n\n/**\n * Redux actions for the users data.\n */\nexport default class UserActions extends ReduxActions {\n    public static getMeACs = createAction.async<{}, IMe, IApiError>(\"GET_ME\");\n    /**\n     * Request the currently signed in user data if it's not loaded.\n     */\n    public getMe = () => {\n        const currentUser = this.getState().users.current;\n        if (currentUser.status === LoadStatus.LOADING) {\n            // Don't request the user more than once.\n            return;\n        }\n        const apiThunk = bindThunkAction(UserActions.getMeACs, async () => {\n            const response = await this.api.get(\"/users/me\");\n            return response.data;\n        })();\n\n        return this.dispatch(apiThunk);\n    };\n\n    public static getCountsACs = createAction.async<{}, { counts: IMeCounts }, IApiError>(\"GET_ME_COUNTS\");\n\n    /**\n     * Check if we have valid count data and request it again if it is stale.\n     */\n    public checkCountData = () => {\n        const currentTime = new Date().getTime();\n        const { lastRequested } = this.getState().users.countInformation;\n\n        if (lastRequested !== null && currentTime < lastRequested + COUNT_CACHE_PERIOD) {\n            // Bailout if we've requested this data within the previous cache period\n            return;\n        }\n        const apiThunk = bindThunkAction(UserActions.getCountsACs, async () => {\n            const response = await this.api.get(\"/users/me-counts\");\n            return response.data;\n        })();\n\n        return this.dispatch(apiThunk);\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { ActionsUnion } from \"@library/redux/ReduxActions\";\nimport { INotification, INotificationWritable } from \"@library/@types/api/notifications\";\n\n/**\n * Redux actions for the current user's notification data.\n */\nexport default class NotificationsActions extends ReduxActions {\n    public static readonly GET_NOTIFICATION_REQUEST = \"@@notifications/GET_NOTIFICATION_REQUEST\";\n    public static readonly GET_NOTIFICATION_RESPONSE = \"@@notifications/GET_NOTIFICATION_RESPONSE\";\n    public static readonly GET_NOTIFICATION_ERROR = \"@@notifications/GET_NOTIFICATION_ERROR\";\n\n    /**\n     * Action creators for getting a single notification.\n     */\n    public static getNotificationACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.GET_NOTIFICATION_REQUEST,\n        NotificationsActions.GET_NOTIFICATION_RESPONSE,\n        NotificationsActions.GET_NOTIFICATION_ERROR,\n        {} as INotification,\n        {},\n    );\n\n    public static readonly GET_NOTIFICATIONS_REQUEST = \"@@notifications/GET_NOTIFICATIONS_REQUEST\";\n    public static readonly GET_NOTIFICATIONS_RESPONSE = \"@@notifications/GET_NOTIFICATIONS_RESPONSE\";\n    public static readonly GET_NOTIFICATIONS_ERROR = \"@@notifications/GET_NOTIFICATIONS_ERROR\";\n\n    /**\n     * Action creators for getting a paginated list of the current user's notifications.\n     */\n    public static getNotificationsACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.GET_NOTIFICATIONS_REQUEST,\n        NotificationsActions.GET_NOTIFICATIONS_RESPONSE,\n        NotificationsActions.GET_NOTIFICATIONS_ERROR,\n        {} as INotification[],\n        {},\n    );\n\n    public static readonly MARK_READ_REQUEST = \"@@notifications/MARK_READ_REQUEST\";\n    public static readonly MARK_READ_RESPONSE = \"@@notifications/MARK_READ_RESPONSE\";\n    public static readonly MARK_READ_ERROR = \"@@notifications/MARK_READ_ERROR\";\n\n    /**\n     * Action creators for marking a single notification as read.\n     */\n    public static markReadACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.MARK_READ_REQUEST,\n        NotificationsActions.MARK_READ_RESPONSE,\n        NotificationsActions.MARK_READ_ERROR,\n        {} as INotification,\n        {} as INotificationWritable,\n    );\n\n    public static readonly MARK_ALL_READ_REQUEST = \"@@notifications/MARK_ALL_READ_REQUEST\";\n    public static readonly MARK_ALL_READ_RESPONSE = \"@@notifications/MARK_ALL_READ_RESPONSE\";\n    public static readonly MARK_ALL_READ_ERROR = \"@@notifications/MARK_ALL_READ_ERROR\";\n\n    /**\n     * Action creators for marking all of the current user's notifications as read.\n     */\n    public static markAllReadACs = ReduxActions.generateApiActionCreators(\n        NotificationsActions.MARK_ALL_READ_REQUEST,\n        NotificationsActions.MARK_ALL_READ_RESPONSE,\n        NotificationsActions.MARK_ALL_READ_ERROR,\n        {},\n        {} as INotificationWritable,\n    );\n\n    /**\n     * Union of all possible action types in this class.\n     */\n    public static readonly ACTION_TYPES:\n        | ActionsUnion<typeof NotificationsActions.getNotificationACs>\n        | ActionsUnion<typeof NotificationsActions.getNotificationsACs>\n        | ActionsUnion<typeof NotificationsActions.markReadACs>\n        | ActionsUnion<typeof NotificationsActions.markAllReadACs>;\n\n    /**\n     * Get a single notification.\n     *\n     * @param id Unique ID of the notification.\n     */\n    public getNotification = (id: number) => {\n        return this.dispatchApi(\"get\", `/notifications/${id}`, NotificationsActions.getNotificationACs, {});\n    };\n\n    /**\n     * Get a paginated list of notifications for the current user.\n     */\n    public getNotifications = () => {\n        return this.dispatchApi(\"get\", \"/notifications\", NotificationsActions.getNotificationsACs, {});\n    };\n\n    /**\n     * Mark a single notification as read.\n     *\n     * @param id Unique ID of the notification.\n     */\n    public markRead = (id: number) => {\n        return this.dispatchApi(\"patch\", `/notifications/${id}`, NotificationsActions.markReadACs, {\n            read: true,\n        });\n    };\n\n    /**\n     * Mark all notifications for the current user as read.\n     */\n    public markAllRead = () => {\n        return this.dispatchApi(\"patch\", \"/notifications\", NotificationsActions.markAllReadACs, {\n            read: true,\n        });\n    };\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { IMe, IMeCounts, IUser, IUserFragment } from \"@library/@types/api/users\";\nimport UserSuggestionModel, { IUserSuggestionState } from \"@library/features/users/suggestion/UserSuggestionModel\";\nimport UserActions from \"@library/features/users/UserActions\";\nimport produce from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport NotificationsActions from \"@library/features/notifications/NotificationsActions\";\n\nexport interface IInjectableUserState {\n    currentUser: ILoadable<IMe>;\n}\n\ninterface IUsersState {\n    current: ILoadable<IMe>;\n    countInformation: {\n        counts: IMeCounts;\n        lastRequested: number | null; // A timestamp of the last time we received this count data.\n    };\n    suggestions: IUserSuggestionState;\n}\n\nexport interface IUsersStoreState {\n    users: IUsersState;\n}\n\nconst suggestionReducer = new UserSuggestionModel().reducer;\n\nconst INITIAL_STATE: IUsersState = {\n    current: {\n        status: LoadStatus.PENDING,\n    },\n    countInformation: {\n        counts: [],\n        lastRequested: null,\n    },\n    suggestions: suggestionReducer(undefined, \"\" as any),\n};\n\nexport const GUEST_USER_ID = 0;\n\n/**\n * Determine if a user fragment is a guest.\n */\nexport function isUserGuest(user: IUserFragment | null | undefined) {\n    return user && user.userID === GUEST_USER_ID;\n}\n/**\n * Reducer for user related data.\n */\nexport const usersReducer = produce(\n    reducerWithInitialState(INITIAL_STATE)\n        .case(UserActions.getMeACs.started, state => {\n            state.current.status = LoadStatus.LOADING;\n            return state;\n        })\n        .case(UserActions.getMeACs.done, (state, payload) => {\n            state.current.data = payload.result;\n            state.current.status = LoadStatus.SUCCESS;\n            return state;\n        })\n        .case(UserActions.getMeACs.failed, (state, payload) => {\n            state.current.status = LoadStatus.ERROR;\n            state.current.error = payload.error;\n            return state;\n        })\n        .case(UserActions.getCountsACs.started, state => {\n            state.countInformation.lastRequested = new Date().getTime();\n            return state;\n        })\n        .case(UserActions.getCountsACs.done, (state, payload) => {\n            state.countInformation.counts = payload.result.counts;\n            return state;\n        })\n        .default((state, action) => {\n            if (action.type === NotificationsActions.MARK_ALL_READ_RESPONSE) {\n                if (state.current.data) {\n                    state.current.data.countUnreadNotifications = 0;\n                }\n            }\n            state.suggestions = suggestionReducer(state.suggestions, action as any);\n            return state;\n        }),\n);\n\nexport function mapUsersStoreState(state: ICoreStoreState): IInjectableUserState {\n    if (!state.users || !state.users.current) {\n        throw new Error(\n            `It seems you did not initialize the users model correctly. Could not find \"users.current\" in state: ${state}`,\n        );\n    }\n\n    return {\n        currentUser: state.users.current,\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { produce } from \"immer\";\nimport { reducerWithInitialState } from \"typescript-fsa-reducers\";\nimport { ILocale } from \"@vanilla/i18n\";\nimport { ILoadable, LoadStatus } from \"@library/@types/api/core\";\nimport { getAllLocalesACs } from \"@library/locales/localeActions\";\n\nexport interface ILocaleState {\n    locales: ILoadable<ILocale[]>;\n}\n\nconst DEFAULT_LOCALE_STATE = {\n    locales: {\n        status: LoadStatus.PENDING,\n    },\n};\n\nexport const localeReducer = produce(\n    reducerWithInitialState<ILocaleState>(DEFAULT_LOCALE_STATE)\n        .case(getAllLocalesACs.started, (nextState, payload) => {\n            nextState.locales.status = LoadStatus.LOADING;\n            return nextState;\n        })\n        .case(getAllLocalesACs.done, (nextState, payload) => {\n            nextState.locales.status = LoadStatus.SUCCESS;\n            nextState.locales.data = payload.result;\n            return nextState;\n        })\n        .case(getAllLocalesACs.failed, (nextState, payload) => {\n            nextState.locales.status = LoadStatus.ERROR;\n            nextState.locales.error = payload.error;\n            return nextState;\n        }),\n);\n","/**\n * A reducer registry so that we can have dynamically loading reducers.\n *\n * @see http://nicolasgallagher.com/redux-modules-and-code-splitting/\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { IThemeState, themeReducer } from \"@library/theming/themeReducer\";\nimport { IUsersStoreState, usersReducer } from \"@library/features/users/userModel\";\nimport { Reducer, ReducersMapObject, combineReducers } from \"redux\";\nimport { ILocaleState, localeReducer } from \"@library/locales/localeReducer\";\nimport getStore from \"@library/redux/getStore\";\n\nconst dynamicReducers = {};\n\nexport function registerReducer(name: string, reducer: Reducer) {\n    dynamicReducers[name] = reducer;\n    getStore().replaceReducer(combineReducers(getReducers()));\n}\n\nexport interface ICoreStoreState extends IUsersStoreState {\n    theme: IThemeState;\n    locales: ILocaleState;\n}\n\nexport function getReducers(): ReducersMapObject<any, any> {\n    return {\n        // We have a few static reducers.\n        users: usersReducer,\n        theme: themeReducer,\n        locales: localeReducer,\n        ...dynamicReducers,\n    };\n}\n\n/**\n * @deprecated\n */\nconst reducerRegistry = {\n    register: registerReducer,\n    getReducers,\n};\n\nexport default reducerRegistry;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { createStore, compose, applyMiddleware, combineReducers, Store, AnyAction } from \"redux\";\nimport { getReducers, ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport thunk from \"redux-thunk\";\n\n// There may be an initial state to import.\nconst initialState = {};\nconst initialActions = window.__ACTIONS__ || [];\n\nconst middleware = [thunk];\n\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nconst actionSanitizer = (action: AnyAction) =>\n    (action.type as string).includes(\"[editorInstance]\") && action.payload && action.payload.quill\n        ? {\n              ...action,\n              payload: { ...action.payload, quill: \"<<Quill Instance>>\" },\n          }\n        : action;\n// Browser may have redux dev tools installed, if so integrate with it.\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ actionSanitizer })\n    : compose;\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\n\n// Build the store, add devtools extension support if it's available.\nlet store;\n\nexport default function getStore<S = ICoreStoreState>(): Store<S, any> {\n    if (store === undefined) {\n        // Get our reducers.\n        const reducer = combineReducers(getReducers());\n        store = createStore(reducer, initialState, enhancer);\n\n        // Dispatch initial actions returned from the server.\n        initialActions.forEach(store.dispatch);\n    }\n\n    return store;\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nexport const getValueIfItExists = (haystack: object | undefined, needle: string, fallback?: any, debug = false) => {\n    if (haystack && checkIfKeyExistsAndIsDefined(haystack, needle)) {\n        return haystack[needle];\n    } else {\n        return fallback;\n    }\n};\n\nexport const checkIfKeyExistsAndIsDefined = (haystack: object, needle: string) => {\n    if (haystack && typeof haystack === \"object\" && !!needle) {\n        return needle in haystack && haystack[needle] !== undefined;\n    } else {\n        return false;\n    }\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { colorOut, ColorValues } from \"@library/styles/styleHelpersColors\";\nimport { BorderRadiusProperty, BorderStyleProperty, BorderWidthProperty } from \"csstype\";\nimport { NestedCSSProperties, TLength } from \"typestyle/lib/types\";\nimport { unit } from \"@library/styles/styleHelpers\";\nimport { globalVariables, IGlobalBorderStyles } from \"@library/styles/globalStyleVars\";\nimport merge from \"lodash/merge\";\nimport { ColorHelper } from \"csx\";\nimport { getValueIfItExists } from \"@library/forms/borderStylesCalculator\";\nimport produce from \"immer\";\n\nexport interface ISimpleBorderStyle {\n    color?: ColorValues | ColorHelper;\n    width?: BorderWidthProperty<TLength>;\n    style?: BorderStyleProperty;\n}\n\nexport interface IBordersWithRadius extends ISimpleBorderStyle {\n    radius?: radiusValue;\n}\n\nexport type radiusValue = BorderRadiusProperty<TLength> | string;\n\nexport type IRadiusValue = IBorderRadiusValue | IRadiusShorthand | IBorderRadiusOutput;\n\ninterface IRadiusFlex {\n    radius?: IRadiusValue;\n}\n\nexport interface IRadiusShorthand {\n    all?: IBorderRadiusValue;\n    top?: IBorderRadiusValue;\n    bottom?: IBorderRadiusValue;\n    left?: IBorderRadiusValue;\n    right?: IBorderRadiusValue;\n}\n\nexport interface IBorderRadiusOutput {\n    borderTopRightRadius?: IBorderRadiusValue;\n    borderTopLeftRadius?: IBorderRadiusValue;\n    borderBottomRightRadius?: IBorderRadiusValue;\n    borderBottomLeftRadius?: IBorderRadiusValue;\n}\n\ntype IRadiusInput = IRadiusShorthand | IBorderRadiusOutput | IRadiusValue;\n\nexport type IBorderRadiusValue = BorderRadiusProperty<TLength> | number | string | undefined;\n\nexport interface IBorderStyles extends ISimpleBorderStyle, IRadiusFlex {\n    all?: ISimpleBorderStyle;\n    topBottom?: ISimpleBorderStyle;\n    leftRight?: ISimpleBorderStyle;\n    top?: ISimpleBorderStyle;\n    bottom?: ISimpleBorderStyle;\n    left?: ISimpleBorderStyle;\n    right?: ISimpleBorderStyle;\n}\n\nconst typeIsStringOrNumber = (variable: unknown): variable is number | string => {\n    if (variable != null) {\n        const type = typeof variable;\n        return type === \"string\" || type === \"number\";\n    } else {\n        return false;\n    }\n};\n\nconst setAllRadii = (radius: BorderRadiusProperty<TLength>) => {\n    return {\n        borderTopRightRadius: radius,\n        borderBottomRightRadius: radius,\n        borderBottomLeftRadius: radius,\n        borderTopLeftRadius: radius,\n    };\n};\n\n/**\n * Main utility function for generation proper border radiuses. Supports numerous shorthand properties.\n *\n * @param radii\n * @param debug\n */\nexport const standardizeBorderRadius = (radii: IRadiusInput, debug = false): IRadiusValue => {\n    if (radii == null) {\n        return;\n    }\n\n    const output: IBorderRadiusOutput = {};\n\n    if (typeIsStringOrNumber(radii)) {\n        const value = unit(radii as number | string);\n        return {\n            borderTopRightRadius: value,\n            borderBottomRightRadius: value,\n            borderBottomLeftRadius: value,\n            borderTopLeftRadius: value,\n        };\n    }\n\n    // Otherwise we need to check all of the values.\n    const all = getValueIfItExists(radii, \"all\");\n    const top = getValueIfItExists(radii, \"top\");\n    const bottom = getValueIfItExists(radii, \"bottom\");\n    const left = getValueIfItExists(radii, \"left\");\n    const right = getValueIfItExists(radii, \"right\");\n\n    if (typeIsStringOrNumber(all)) {\n        merge(output, {\n            borderTopRightRadius: unit(all),\n            borderBottomRightRadius: unit(all),\n            borderBottomLeftRadius: unit(all),\n            borderTopLeftRadius: unit(all),\n        });\n    }\n\n    if (top !== undefined) {\n        const isShorthand = typeIsStringOrNumber(top);\n\n        if (isShorthand) {\n            const value = isShorthand ? unit(top) : top;\n            merge(output, {\n                borderTopRightRadius: value,\n                borderTopLeftRadius: value,\n            });\n        } else {\n            merge(\n                output,\n                right !== undefined ? { borderTopRightRadius: unit(right) } : {},\n                left !== undefined ? { borderTopLeftRadius: unit(left) } : {},\n            );\n        }\n    }\n\n    if (bottom !== undefined) {\n        const isShorthand = typeIsStringOrNumber(bottom);\n\n        if (isShorthand) {\n            const value = isShorthand ? unit(bottom) : bottom;\n            merge(output, {\n                borderBottomRightRadius: value,\n                borderBottomLeftRadius: value,\n            });\n        } else {\n            merge(\n                output,\n                right !== undefined ? { borderBottomRightRadius: unit(right) } : {},\n                left !== undefined ? { borderBottomLeftRadius: unit(left) } : {},\n            );\n        }\n    }\n\n    if (left !== undefined) {\n        const isShorthand = typeIsStringOrNumber(left);\n\n        if (isShorthand) {\n            const value = isShorthand ? unit(left) : left;\n            merge(output, {\n                borderTopLeftRadius: value,\n                borderBottomLeftRadius: value,\n            });\n        } else {\n            const topStyles = top !== undefined ? { borderBottomRightRadius: unit(top) } : {};\n            const bottomStyles = bottom !== undefined ? { borderBottomLeftRadius: unit(bottom) } : {};\n            merge(\n                output,\n                !typeIsStringOrNumber(topStyles) ? topStyles : {},\n                !typeIsStringOrNumber(bottomStyles) ? bottomStyles : {},\n            );\n        }\n    }\n    if (right !== undefined) {\n        const isShorthand = typeIsStringOrNumber(right);\n\n        if (isShorthand) {\n            const value = isShorthand ? unit(right) : right;\n            merge(output, {\n                borderTopRightRadius: value,\n                borderBottomRightRadius: value,\n            });\n        } else {\n            const topStyles = top !== undefined ? { borderBottomRightRadius: unit(top) } : {};\n            const bottomStyles = bottom !== undefined ? { borderBottomLeftRadius: unit(bottom) } : {};\n            merge(\n                output,\n                !typeIsStringOrNumber(topStyles) ? topStyles : {},\n                !typeIsStringOrNumber(bottomStyles) ? bottomStyles : {},\n            );\n        }\n    }\n\n    const borderTopRightRadius = getValueIfItExists(radii, \"borderTopRightRadius\");\n    if (borderTopRightRadius !== undefined) {\n        merge(output, {\n            borderTopRightRadius: unit(borderTopRightRadius),\n        });\n    }\n    const borderTopLeftRadius = getValueIfItExists(radii, \"borderTopLeftRadius\");\n    if (borderTopLeftRadius !== undefined) {\n        merge(output, {\n            borderTopLeftRadius: unit(borderTopLeftRadius),\n        });\n    }\n    const borderBottomRightRadius = getValueIfItExists(radii, \"borderBottomRightRadius\");\n    if (borderBottomRightRadius !== undefined) {\n        merge(output, {\n            borderBottomRightRadius: unit(borderBottomRightRadius),\n        });\n    }\n    const borderBottomLeftRadius = getValueIfItExists(radii, \"borderBottomLeftRadius\");\n    if (borderBottomLeftRadius !== undefined) {\n        merge(output, {\n            borderBottomLeftRadius: unit(borderBottomLeftRadius),\n        });\n    }\n\n    return output;\n};\n\nexport const borderRadii = (radii: IRadiusValue, fallbackRadii = globalVariables().border.radius) => {\n    const output: IBorderRadiusOutput = {};\n\n    if (typeIsStringOrNumber(fallbackRadii)) {\n        merge(output, setAllRadii(unit(fallbackRadii as any) as any));\n    } else {\n        merge(output, typeIsStringOrNumber(fallbackRadii) ? fallbackRadii : fallbackRadii);\n    }\n\n    const hasRadiusShorthand = typeIsStringOrNumber(radii);\n    const hasRadiusShorthandFallback = typeIsStringOrNumber(fallbackRadii);\n\n    // Make sure we have a value before overwriting.\n    if (hasRadiusShorthand) {\n        merge(output, setAllRadii(unit(radii as any) as any));\n    } else if (hasRadiusShorthandFallback) {\n        merge(output, setAllRadii(unit(fallbackRadii as any) as any));\n    } else {\n        // our fallback must be an object.\n        merge(output, standardizeBorderRadius(fallbackRadii as any));\n    }\n    merge(output, standardizeBorderRadius(radii as any));\n    return output as NestedCSSProperties;\n};\n\nconst setAllBorders = (\n    color: ColorValues,\n    width: BorderWidthProperty<TLength>,\n    style: BorderStyleProperty,\n    radius?: IBorderRadiusOutput,\n    debug = false,\n) => {\n    const output = {};\n\n    if (color !== undefined) {\n        merge(output, {\n            borderTopColor: colorOut(color),\n            borderRightColor: colorOut(color),\n            borderBottomColor: colorOut(color),\n            borderLeftColor: colorOut(color),\n        });\n    }\n\n    if (width !== undefined) {\n        merge(output, {\n            borderTopWidth: unit(width),\n            borderRightWidth: unit(width),\n            borderBottomWidth: unit(width),\n            borderLeftWidth: unit(width),\n        });\n    }\n\n    if (style !== undefined) {\n        merge(output, {\n            borderTopStyle: style,\n            borderRightStyle: style,\n            borderBottomStyle: style,\n            borderLeftStyle: style,\n        });\n    }\n\n    if (typeof radius === \"object\") {\n        merge(output, radius);\n    }\n\n    return output;\n};\n\nconst singleBorderStyle = (\n    borderStyles: ISimpleBorderStyle,\n    fallbackVariables: IGlobalBorderStyles = globalVariables().border,\n) => {\n    if (!borderStyles) {\n        return;\n    }\n    const { color, width, style } = borderStyles;\n    const output: ISimpleBorderStyle = {};\n    output.color = colorOut(borderStyles.color ? borderStyles.color : color) as ColorValues;\n    output.width = unit(borderStyles.width ? borderStyles.width : width) as BorderWidthProperty<TLength>;\n    output.style = borderStyles.style ? borderStyles.style : (style as BorderStyleProperty);\n\n    if (Object.keys(output).length > 0) {\n        return output;\n    } else {\n        return;\n    }\n};\n\nexport const borders = (\n    detailedStyles?: IBorderStyles | ISimpleBorderStyle | undefined,\n    fallbackBorderVariables: IGlobalBorderStyles = globalVariables().border,\n    debug = false,\n): NestedCSSProperties => {\n    const output: NestedCSSProperties = {};\n\n    const style = getValueIfItExists(detailedStyles, \"style\", fallbackBorderVariables.style);\n    const color = getValueIfItExists(detailedStyles, \"color\", fallbackBorderVariables.color);\n    const width = getValueIfItExists(detailedStyles, \"width\", fallbackBorderVariables.width);\n    const radius = getValueIfItExists(detailedStyles, \"radius\", fallbackBorderVariables.radius);\n    const defaultsAll = setAllBorders(color, width, style, radius, debug);\n\n    merge(output, defaultsAll);\n\n    // Now we are sure to not have simple styles anymore.\n    detailedStyles = detailedStyles as IBorderStyles;\n    if (!detailedStyles) {\n        detailedStyles = fallbackBorderVariables;\n    }\n\n    const top = getValueIfItExists(detailedStyles, \"top\");\n    if (top !== undefined) {\n        const topStyles = singleBorderStyle(top, fallbackBorderVariables);\n        if (topStyles !== undefined) {\n            output.borderTopWidth = getValueIfItExists(topStyles, \"width\", width);\n            output.borderTopStyle = getValueIfItExists(topStyles, \"style\", style);\n            output.borderTopColor = getValueIfItExists(topStyles, \"color\", color);\n        }\n    }\n\n    const right = getValueIfItExists(detailedStyles, \"right\");\n    if (right !== undefined) {\n        const rightStyles = singleBorderStyle(right, fallbackBorderVariables);\n        if (rightStyles !== undefined) {\n            output.borderRightWidth = getValueIfItExists(rightStyles, \"width\", width);\n            output.borderRightStyle = getValueIfItExists(rightStyles, \"style\", style);\n            output.borderRightColor = getValueIfItExists(rightStyles, \"color\", color);\n        }\n    }\n\n    const bottom = getValueIfItExists(detailedStyles, \"bottom\");\n    if (bottom !== undefined) {\n        const bottomStyles = singleBorderStyle(bottom, fallbackBorderVariables);\n        if (bottomStyles !== undefined) {\n            output.borderBottomWidth = getValueIfItExists(bottomStyles, \"width\", width);\n            output.borderBottomStyle = getValueIfItExists(bottomStyles, \"style\", style);\n            output.borderBottomColor = getValueIfItExists(bottomStyles, \"color\", color);\n        }\n    }\n\n    const left = getValueIfItExists(detailedStyles, \"left\");\n    if (left !== undefined) {\n        const leftStyles = singleBorderStyle(left, fallbackBorderVariables);\n        if (leftStyles !== undefined) {\n            output.borderLeftWidth = getValueIfItExists(leftStyles, \"width\", width);\n            output.borderLeftStyle = getValueIfItExists(leftStyles, \"style\", style);\n            output.borderLeftColor = getValueIfItExists(leftStyles, \"color\", color);\n        }\n    }\n\n    const detailedRadius = getValueIfItExists(detailedStyles, \"radius\", radius);\n\n    merge(output, standardizeBorderRadius(detailedRadius));\n\n    return output;\n};\n\nexport const singleBorder = (styles?: ISimpleBorderStyle) => {\n    const vars = globalVariables();\n    const borderStyles = styles !== undefined ? styles : {};\n    return `${borderStyles.style ? borderStyles.style : vars.border.style} ${\n        borderStyles.color ? colorOut(borderStyles.color) : colorOut(vars.border.color)\n    } ${borderStyles.width ? unit(borderStyles.width) : unit(vars.border.width)}` as any;\n};\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { buttonGlobalVariables, buttonResetMixin, buttonSizing } from \"@library/forms/buttonStyles\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\nimport { borders } from \"@library/styles/styleHelpersBorders\";\nimport { colorOut } from \"@library/styles/styleHelpersColors\";\nimport { fonts } from \"@library/styles/styleHelpersTypography\";\nimport { styleFactory } from \"@library/styles/styleUtils\";\nimport { percent } from \"csx\";\nimport merge from \"lodash/merge\";\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport cloneDeep from \"lodash/cloneDeep\";\n\nexport const generateButtonStyleProperties = (buttonTypeVars: IButtonType, setZIndexOnState = false) => {\n    const formElVars = formElementsVariables();\n    const buttonGlobals = buttonGlobalVariables();\n    const zIndex = setZIndexOnState ? 1 : undefined;\n    const buttonDimensions = buttonTypeVars.sizing || false;\n\n    // Make sure we have the second level, if it was empty\n    buttonTypeVars = merge(\n        {\n            colors: {},\n            hover: {},\n            focus: {},\n            active: {},\n            borders: {},\n            focusAccessible: {},\n        },\n        buttonTypeVars,\n    );\n\n    // Remove debug and fallback\n    const defaultBorder = borders(buttonTypeVars.borders, globalVariables().border);\n\n    const hoverBorder =\n        buttonTypeVars.hover && buttonTypeVars.hover.borders\n            ? merge(cloneDeep(defaultBorder), borders(buttonTypeVars.hover.borders))\n            : {};\n\n    const activeBorder =\n        buttonTypeVars.active && buttonTypeVars.active.borders\n            ? merge(cloneDeep(defaultBorder), borders(buttonTypeVars.active.borders))\n            : {};\n\n    const focusBorder =\n        buttonTypeVars.focus && buttonTypeVars.focus.borders\n            ? merge(cloneDeep(defaultBorder), borders(buttonTypeVars.focus && buttonTypeVars.focus.borders))\n            : defaultBorder;\n\n    const focusAccessibleBorder =\n        buttonTypeVars.focusAccessible && buttonTypeVars.focusAccessible.borders\n            ? merge(cloneDeep(defaultBorder), borders(buttonTypeVars.focusAccessible.borders))\n            : {};\n\n    const result: NestedCSSProperties = {\n        ...buttonResetMixin(),\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxWidth: percent(100),\n        color: colorOut(\n            buttonTypeVars.colors && buttonTypeVars.colors.fg ? buttonTypeVars.colors.fg : buttonGlobals.colors.fg,\n        ),\n        backgroundColor: colorOut(\n            buttonTypeVars.colors && buttonTypeVars.colors.bg ? buttonTypeVars.colors.bg : buttonGlobals.colors.bg,\n        ),\n        ...fonts({\n            ...buttonGlobals.font,\n            ...buttonTypeVars.fonts,\n        }),\n        ...defaultBorder,\n        ...buttonSizing(\n            buttonDimensions && buttonDimensions.minHeight\n                ? buttonDimensions.minHeight\n                : buttonGlobals.sizing.minHeight,\n            buttonDimensions && buttonDimensions.minWidth ? buttonDimensions.minWidth : buttonGlobals.sizing.minWidth,\n            buttonTypeVars.fonts && buttonTypeVars.fonts.size ? buttonTypeVars.fonts.size : buttonGlobals.font.size,\n            buttonTypeVars.padding && buttonTypeVars.padding.side\n                ? buttonTypeVars.padding.side\n                : buttonGlobals.padding.side,\n            formElVars,\n        ),\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        position: \"relative\",\n        textAlign: \"center\",\n        whiteSpace: \"nowrap\",\n        verticalAlign: \"middle\",\n        justifyContent: \"center\",\n        touchAction: \"manipulation\",\n        cursor: \"pointer\",\n        minWidth: buttonGlobals.sizing.minWidth,\n        minHeight: buttonGlobals.sizing.minHeight,\n        $nest: {\n            \"&:not([disabled])\": {\n                $nest: {\n                    \"&:not(.focus-visible)\": {\n                        outline: 0,\n                    },\n                    \"&:hover\": {\n                        zIndex,\n                        color: colorOut(\n                            buttonTypeVars.hover && buttonTypeVars.hover.colors && buttonTypeVars.hover.colors.fg\n                                ? buttonTypeVars.hover.colors.fg\n                                : undefined,\n                        ),\n                        backgroundColor: colorOut(\n                            buttonTypeVars.hover && buttonTypeVars.hover.colors && buttonTypeVars.hover.colors.bg\n                                ? buttonTypeVars.hover.colors.bg\n                                : undefined,\n                        ),\n                        ...fonts(buttonTypeVars.hover && buttonTypeVars.hover.fonts ? buttonTypeVars.hover.fonts : {}),\n                        ...hoverBorder,\n                    },\n                    \"&:focus\": {\n                        zIndex,\n                        color: colorOut(\n                            buttonTypeVars.focus!.colors && buttonTypeVars.focus!.colors.fg\n                                ? buttonTypeVars.focus!.colors.fg\n                                : undefined,\n                        ),\n                        backgroundColor: colorOut(\n                            buttonTypeVars.focus!.colors && buttonTypeVars.focus!.colors.bg\n                                ? buttonTypeVars.focus!.colors.bg\n                                : undefined,\n                        ),\n\n                        ...fonts(buttonTypeVars.focus && buttonTypeVars.focus.fonts ? buttonTypeVars.focus.fonts : {}),\n                        ...focusBorder,\n                    },\n                    \"&:active\": {\n                        zIndex,\n                        color: colorOut(\n                            buttonTypeVars.active!.colors && buttonTypeVars.active!.colors.fg\n                                ? buttonTypeVars.active!.colors.fg\n                                : undefined,\n                        ),\n                        backgroundColor: colorOut(\n                            buttonTypeVars.active!.colors && buttonTypeVars.active!.colors.bg\n                                ? buttonTypeVars.active!.colors.bg\n                                : undefined,\n                        ),\n                        ...fonts(\n                            buttonTypeVars.active && buttonTypeVars.active.fonts ? buttonTypeVars.active.fonts : {},\n                        ),\n                        ...activeBorder,\n                    },\n                    \"&.focus-visible\": {\n                        zIndex,\n                        color: colorOut(\n                            buttonTypeVars.focusAccessible!.colors && buttonTypeVars.focusAccessible!.colors.fg\n                                ? buttonTypeVars.focusAccessible!.colors.fg\n                                : undefined,\n                        ),\n                        backgroundColor: colorOut(\n                            buttonTypeVars.focusAccessible!.colors && buttonTypeVars.focusAccessible!.colors.bg\n                                ? buttonTypeVars.focusAccessible!.colors.bg\n                                : undefined,\n                        ),\n                        ...fonts(\n                            buttonTypeVars.focusAccessible && buttonTypeVars.focusAccessible.fonts\n                                ? buttonTypeVars.focusAccessible.fonts\n                                : {},\n                        ),\n                        ...focusAccessibleBorder,\n                    },\n                },\n            },\n            \"&[disabled]\": {\n                opacity: formElVars.disabled.opacity,\n            },\n        },\n    };\n\n    return result;\n};\nconst generateButtonClass = (buttonTypeVars: IButtonType, setZIndexOnState = false) => {\n    const style = styleFactory(`button-${buttonTypeVars.name}`);\n    return style(generateButtonStyleProperties(buttonTypeVars, setZIndexOnState));\n};\n\nexport default generateButtonClass;\n","/**\n * Entrypoint for the APIv2 calls. Prepulates an axios instance with some config settings.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formatUrl, t, getMeta, siteUrl } from \"@library/utility/appUtils\";\nimport { indexArrayByKey } from \"@vanilla/utils\";\nimport axios, { AxiosResponse, AxiosRequestConfig } from \"axios\";\nimport qs from \"qs\";\nimport { sprintf } from \"sprintf-js\";\nimport { humanFileSize } from \"@library/utility/fileUtils\";\nimport { IApiError, IFieldError } from \"@library/@types/api/core\";\nimport { IUserFragment } from \"@library/@types/api/users\";\n\nfunction fieldErrorTransformer(responseData) {\n    if (responseData && responseData.status >= 400 && responseData.errors && responseData.errors.length > 0) {\n        responseData.errors = indexArrayByKey(responseData.errors, \"field\");\n    }\n\n    return responseData;\n}\n\nconst apiv2 = axios.create({\n    baseURL: siteUrl(\"/api/v2/\"),\n    headers: {\n        common: {\n            \"X-Requested-With\": \"vanilla\",\n        },\n    },\n    transformResponse: [...(axios.defaults.transformResponse as any), fieldErrorTransformer],\n    paramsSerializer: params => qs.stringify(params),\n});\n\nexport default apiv2;\n\nexport type ProgressHandler = (progressEvent: any) => void;\n\nexport function createTrackableRequest(\n    requestFunction: (progressHandler: ProgressHandler) => () => Promise<AxiosResponse>,\n) {\n    return (onUploadProgress: ProgressHandler) => {\n        return requestFunction(onUploadProgress);\n    };\n}\n/**\n * Upload an image using Vanilla's API v2.\n *\n * @param file - The file to upload.\n */\nexport async function uploadFile(file: File, requestConfig: AxiosRequestConfig = {}) {\n    let allowedExtensions = getMeta(\"upload.allowedExtensions\", []) as string[];\n    allowedExtensions = allowedExtensions.map((ext: string) => ext.toLowerCase());\n    const maxSize = getMeta(\"upload.maxSize\", 0);\n    const filePieces = file.name.split(\".\");\n    const extension = filePieces[filePieces.length - 1] || \"\";\n\n    if (file.size > maxSize) {\n        const humanSize = humanFileSize(maxSize);\n        const stringTotal: string = humanSize.amount + humanSize.unitAbbr;\n        const message = sprintf(t(\"The uploaded file was too big (max %s).\"), stringTotal);\n        throw new Error(message);\n    } else if (!allowedExtensions.includes(extension.toLowerCase())) {\n        const attachmentsString = allowedExtensions.join(\", \");\n        const message = sprintf(\n            t(\n                \"The uploaded file did not have an allowed extension. \\nOnly the following extensions are allowed. \\n%s.\",\n            ),\n            attachmentsString,\n        );\n        throw new Error(message);\n    }\n\n    const data = new FormData();\n    data.append(\"file\", file, file.name);\n\n    const result = await apiv2.post(\"/media\", data, requestConfig);\n    return result.data;\n}\n\n/**\n * Extract a field specific error from an ILoadable if applicable.\n *\n * @param apiError - The error to extract from.\n * @param field - The field to extract.\n *\n * @returns an array of IFieldErrors if found or undefined.\n */\nexport function getFieldErrors(apiError: IApiError | undefined, field: string): IFieldError[] | undefined {\n    if (!apiError) {\n        return;\n    }\n\n    const serverError = apiError.response.data;\n    if (serverError && serverError.errors && serverError.errors[field]) {\n        return serverError.errors[field];\n    }\n}\n\n/**\n * Extract a global error message out of an ILoadable if applicable.\n *\n * @param apiError - The error to extract from.\n * @param validFields - Field to check for overriding fields errors from. A global error only shows if there are no valid field errors.\n *\n * @returns A global error message or an undefined.\n */\nexport function getGlobalErrorMessage(apiError: IApiError | undefined, validFields: string[] = []): string | undefined {\n    if (!apiError) {\n        return;\n    }\n    for (const field of validFields) {\n        if (getFieldErrors(apiError, field)) {\n            return;\n        }\n    }\n\n    const serverError = apiError.response && apiError.response.data;\n    if (serverError && serverError.message) {\n        return serverError.message;\n    }\n\n    return t(\"Something went wrong while contacting the server.\");\n}\n","/**\n * A module to isolate meta data passed from the server into a single dependency.\n * This should always be used instead of accessing window.gdn directly.\n *\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\ninterface IGdn {\n    meta: AnyObject;\n    permissions: AnyObject;\n    translations: AnyObject;\n    [key: string]: any;\n}\n\n/** The gdn object may be set in an inline script in the head of the document. */\nconst gdn = window.gdn || {};\n\nif (!(\"meta\" in gdn)) {\n    gdn.meta = {};\n}\n\nif (!(\"permissions\" in gdn)) {\n    gdn.permissions = {};\n}\n\nif (!(\"translations\" in gdn)) {\n    gdn.translations = {};\n}\n\nexport default gdn as IGdn;\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport {\n    borders,\n    colorOut,\n    IBordersWithRadius,\n    placeholderStyles,\n    textInputSizingFromFixedHeight,\n    unit,\n} from \"@library/styles/styleHelpers\";\nimport { px } from \"csx\";\nimport { cssRule } from \"typestyle\";\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\n\nexport const inputVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const makeThemeVars = variableFactory(\"input\");\n\n    const colors = makeThemeVars(\"colors\", {\n        placeholder: globalVars.mixBgAndFg(0.5),\n        fg: globalVars.mainColors.fg,\n        bg: globalVars.mainColors.bg,\n        state: {\n            fg: globalVars.mainColors.primary,\n        },\n    });\n\n    const sizing = makeThemeVars(\"sizing\", {\n        height: formElementVars.sizing.height,\n    });\n\n    const font = makeThemeVars(\"font\", {\n        size: globalVars.fonts.size.large,\n    });\n\n    const border: IBordersWithRadius = makeThemeVars(\"borders\", globalVars.border);\n\n    return {\n        colors,\n        border,\n        sizing,\n        font,\n    };\n});\n\nexport const inputClasses = useThemeCache(() => {\n    const vars = inputVariables();\n    const style = styleFactory(\"input\");\n    const formElementVars = formElementsVariables();\n    const globalVars = globalVariables();\n\n    const textStyles = {\n        ...textInputSizingFromFixedHeight(vars.sizing.height, vars.font.size, formElementVars.border.fullWidth),\n        backgroundColor: colorOut(vars.colors.bg),\n        color: colorOut(vars.colors.fg),\n        ...borders(vars.border),\n        outline: 0,\n        fontWeight: globalVars.fonts.weights.normal,\n        $nest: {\n            ...placeholderStyles({\n                color: colorOut(vars.colors.placeholder),\n            }),\n            \"&:focus, &.focus-visible\": {\n                borderColor: colorOut(vars.colors.state.fg),\n            },\n        },\n    };\n\n    // Use as assignable unique style.\n    const text = style(\"text\", textStyles as NestedCSSProperties);\n\n    // Use as a global selector. This should be refactored in the future.\n    const applyInputCSSRules = () => cssRule(\" .inputText\", textStyles as NestedCSSProperties);\n\n    const inputText = style(\"inputText\", {\n        marginBottom: 0,\n        $nest: {\n            \"&&\": {\n                marginTop: unit(globalVars.gutter.quarter),\n            },\n        },\n    });\n\n    return { text, inputText, applyInputCSSRules };\n});\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { borders, colorOut, fonts, margins, paddings, setAllLinkColors, unit } from \"@library/styles/styleHelpers\";\nimport { shadowHelper, shadowOrBorderBasedOnLightness } from \"@library/styles/shadowHelpers\";\nimport { NestedCSSProperties, NestedCSSSelectors, TLength } from \"typestyle/lib/types\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { em, important, percent, px } from \"csx\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\nimport { FontSizeProperty } from \"csstype\";\n\nexport const userContentVariables = useThemeCache(() => {\n    const makeThemeVars = variableFactory(\"userContent\");\n    const globalVars = globalVariables();\n    const { mainColors } = globalVars;\n\n    const fonts = makeThemeVars(\"fonts\", {\n        size: globalVars.fonts.size.large,\n        headings: {\n            h1: \"2em\",\n            h2: \"1.5em\",\n            h3: \"1.25em\",\n            h4: \"1em\",\n            h5: \".875em\",\n            h6: \".85em\",\n        },\n    });\n\n    const blocks = makeThemeVars(\"blocks\", {\n        margin: fonts.size,\n        fg: mainColors.fg,\n        bg: globalVars.mixBgAndFg(0.05),\n    });\n\n    const embeds = makeThemeVars(\"embeds\", {\n        bg: mainColors.bg,\n        fg: mainColors.fg,\n        borderRadius: px(2),\n    });\n\n    const code = makeThemeVars(\"code\", {\n        fontSize: em(0.85),\n        borderRadius: 2,\n    });\n\n    const codeInline = makeThemeVars(\"codeInline\", {\n        borderRadius: code.borderRadius,\n        paddingVertical: em(0.2),\n        paddingHorizontal: em(0.4),\n        fg: blocks.fg,\n        bg: blocks.bg,\n    });\n\n    const codeBlock = makeThemeVars(\"codeBlock\", {\n        borderRadius: globalVars.border.radius,\n        paddingVertical: fonts.size,\n        paddingHorizontal: fonts.size,\n        lineHeight: 1.45,\n        fg: blocks.fg,\n        bg: blocks.bg,\n    });\n\n    const list = makeThemeVars(\"list\", {\n        spacing: {\n            top: em(0.5),\n            left: em(2),\n        },\n        listDecoration: {\n            minWidth: em(2),\n        },\n        nestedList: {\n            margin: \"0 0 0 1em\",\n        },\n    });\n\n    const spacing = makeThemeVars(\"spacing\", {\n        base: 2 * Math.ceil((globalVars.spacer.size * 5) / 8),\n    });\n\n    return {\n        fonts,\n        list,\n        blocks,\n        code,\n        codeInline,\n        codeBlock,\n        embeds,\n        spacing,\n    };\n});\n\n/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nexport const userContentClasses = useThemeCache(() => {\n    const style = styleFactory(\"userContent\");\n    const vars = userContentVariables();\n    const globalVars = globalVariables();\n\n    const listItem: NestedCSSProperties = {\n        position: \"relative\",\n        ...margins({\n            top: vars.list.spacing.top,\n            left: vars.list.spacing.left,\n        }),\n        $nest: {\n            \"&:first-child\": {\n                marginTop: 0,\n            },\n            \"&:last-child\": {\n                marginBottom: 0,\n            },\n        },\n    };\n\n    const headingStyle = (tag: string, fontSize: FontSizeProperty<TLength>): NestedCSSProperties => {\n        return {\n            marginTop: unit(vars.spacing.base),\n            fontSize,\n            $nest: lineHeightAdjustment(),\n        };\n    };\n\n    const headings: NestedCSSSelectors = {\n        \"& h1:not(.heading)\": headingStyle(\"h1\", vars.fonts.headings.h1),\n        \"& h2:not(.heading)\": headingStyle(\"h2\", vars.fonts.headings.h2),\n        \"& h3:not(.heading)\": headingStyle(\"h3\", vars.fonts.headings.h3),\n        \"& h4:not(.heading)\": headingStyle(\"h4\", vars.fonts.headings.h4),\n        \"& h5:not(.heading)\": headingStyle(\"h5\", vars.fonts.headings.h5),\n        \"& h6:not(.heading)\": headingStyle(\"h6\", vars.fonts.headings.h6),\n    };\n\n    const lists: NestedCSSSelectors = {\n        [\"& ol\"]: {\n            listStylePosition: \"inside\",\n            margin: `0 0 1em 3em`,\n            padding: 0,\n            $nest: {\n                [`& li`]: {\n                    listStyle: \"decimal\",\n                },\n                [`& ol li`]: {\n                    listStyle: \"lower-alpha\",\n                },\n                [`& ol ol li`]: {\n                    listStyle: \"lower-roman\",\n                },\n                [`& ol ol ol li`]: {\n                    listStyle: \"decimal\",\n                },\n                [`& ol ol ol ol li`]: {\n                    listStyle: \"lower-alpha\",\n                },\n                [`& ol ol ol ol ol li`]: {\n                    listStyle: \"lower-roman\",\n                },\n                [`& ol ol ol ol ol ol li`]: {\n                    listStyle: \"decimal\",\n                },\n                [`& ol, & ul`]: {\n                    margin: vars.list.nestedList.margin,\n                },\n            },\n        },\n        [\"& ul\"]: {\n            listStylePosition: \"inside\",\n            listStyle: \"disc\",\n            margin: `1em 0 1em 2em`,\n            padding: 0,\n            $nest: {\n                [`& li`]: {\n                    listStyle: \"none\",\n                    position: \"relative\",\n                },\n                [`& li::before`]: {\n                    fontFamily: `'Arial', serif`,\n                    content: `\"\"`,\n                    position: \"absolute\",\n                    left: em(-1),\n                },\n                [`& ol, & ul`]: {\n                    margin: vars.list.nestedList.margin,\n                },\n            },\n        },\n        [`& li`]: {\n            margin: `5px 0`,\n            $nest: {\n                [`&, & *:first-child`]: {\n                    marginTop: 0,\n                },\n                [`&, & *:last-child`]: {\n                    marginBottom: 0,\n                },\n            },\n        },\n    };\n\n    const paragraphSpacing: NestedCSSSelectors = {\n        \"& > p\": {\n            marginTop: 0,\n            marginBottom: 0,\n            $nest: {\n                \"&:not(:first-child)\": {\n                    marginTop: vars.blocks.margin * 0.5,\n                },\n                \"&:first-child\": {\n                    $nest: lineHeightAdjustment(),\n                },\n            },\n        },\n\n        \"&& > *:not(:last-child)\": {\n            marginBottom: vars.blocks.margin,\n        },\n\n        \"&& > *:first-child\": {\n            $unique: true, // Required to prevent collapsing in with some other variable.\n            marginTop: 0,\n\n            $nest: {\n                \"&::before\": {\n                    marginTop: 0,\n                },\n            },\n        },\n    };\n\n    const linkColors = setAllLinkColors();\n    const linkStyle = {\n        color: linkColors.color,\n        $nest: {\n            ...linkColors.nested,\n            \"&:hover, &:focus\": {\n                textDecoration: \"underline\",\n            },\n        },\n    };\n\n    const linkStyles: NestedCSSSelectors = {\n        a: linkStyle,\n        \"p a\": linkStyle,\n        \"li a\": linkStyle,\n    };\n\n    const codeStyles: NestedCSSSelectors = {\n        \"& .code\": {\n            position: \"relative\",\n            fontSize: vars.code.fontSize,\n            fontFamily: `Menlo, Monaco, Consolas, \"Courier New\", monospace`,\n            maxWidth: percent(100),\n            overflowX: \"auto\",\n            margin: 0,\n            color: colorOut(vars.blocks.fg),\n            backgroundColor: colorOut(vars.blocks.bg),\n            border: \"none\",\n        },\n        \"&& .codeInline\": {\n            whiteSpace: \"normal\",\n            ...paddings({\n                top: vars.codeInline.paddingVertical,\n                bottom: vars.codeInline.paddingVertical,\n                left: vars.codeInline.paddingHorizontal,\n                right: vars.codeInline.paddingHorizontal,\n            }),\n            color: colorOut(vars.codeInline.fg),\n            backgroundColor: colorOut(vars.codeInline.bg),\n            borderRadius: vars.codeInline.borderRadius,\n            // We CAN'T use display: `inline` & position: `relative` together.\n            // This causes the cursor to disappear in a contenteditable.\n            // @see https://bugs.chromium.org/p/chromium/issues/detail?id=724821\n            display: \"inline\",\n            position: \"static\",\n        },\n        \"&& .codeBlock\": {\n            display: \"block\",\n            wordWrap: \"normal\",\n            lineHeight: vars.codeBlock.lineHeight,\n            borderRadius: vars.codeBlock.borderRadius,\n            flexShrink: 0, // Needed so code blocks don't collapse in the editor.\n            whiteSpace: \"pre\",\n            color: colorOut(vars.codeBlock.fg),\n            backgroundColor: colorOut(vars.codeBlock.bg),\n            ...paddings({\n                top: vars.codeBlock.paddingVertical,\n                bottom: vars.codeBlock.paddingVertical,\n                left: vars.codeBlock.paddingHorizontal,\n                right: vars.codeBlock.paddingHorizontal,\n            }),\n        },\n    };\n\n    // Blockquotes & spoilers\n    // These are temporarily kludged here due to lack of time.\n    // They should be fully converted in the future but at the moment\n    // Only the bare minimum is convverted in order to make the colors work.\n    const spoilersAndQuotes: NestedCSSSelectors = {\n        \"& .embedExternal-content\": {\n            borderRadius: vars.embeds.borderRadius,\n            $nest: {\n                \"&::after\": {\n                    borderRadius: vars.embeds.borderRadius,\n                },\n            },\n        },\n        \"& .embedText-content\": {\n            background: colorOut(vars.embeds.bg),\n            color: colorOut(vars.embeds.fg),\n            overflow: \"hidden\",\n            ...shadowOrBorderBasedOnLightness(\n                globalVars.body.backgroundImage.color,\n                borders({\n                    color: vars.embeds.fg.fade(0.3),\n                }),\n                shadowHelper().embed(),\n            ),\n        },\n        [`& .embedText-title,\n          & .embedLink-source,\n          & .embedLink-excerpt`]: {\n            color: colorOut(vars.blocks.fg),\n        },\n        \"& .metaStyle\": {\n            opacity: 0.8,\n        },\n        \"& .embedLoader-box\": {\n            background: colorOut(vars.embeds.bg),\n            ...borders({\n                color: vars.embeds.fg.fade(0.3),\n            }),\n        },\n    };\n\n    const root = style({\n        // These CAN'T be flexed. That breaks margin collapsing.\n        display: important(\"block\"),\n        position: \"relative\",\n        width: percent(100),\n        wordBreak: \"break-word\",\n        lineHeight: globalVars.lineHeights.base,\n        fontSize: vars.fonts.size,\n        $nest: {\n            // A placeholder might be put in a ::before element. Make sure we match the line-height adjustment.\n            \"&::before\": {\n                marginTop: lineHeightAdjustment()[\"&::before\"]!.marginTop,\n            },\n            ...headings,\n            ...lists,\n            ...paragraphSpacing,\n            ...linkStyles,\n            ...codeStyles,\n            ...spoilersAndQuotes,\n        },\n    });\n\n    return { root };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { absolutePosition, colorOut, margins, negative, srOnly, unit, userSelect } from \"@library/styles/styleHelpers\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { important, px } from \"csx\";\nimport { titleBarVariables } from \"@library/headers/titleBarStyles\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { media } from \"typestyle\";\nimport { lineHeightAdjustment } from \"@library/styles/textUtils\";\n\nconst backLinkVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"backLink\");\n\n    const sizing = makeThemeVars(\"backLink\", {\n        height: globalVars.icon.sizes.default,\n        width: (globalVars.icon.sizes.default * 12) / 21, // From SVG ratio\n    });\n\n    // We do a best guess based on calculations for the vertical position of the back link.\n    // However, it might visually be a little off and need some adjustment\n    const position = makeThemeVars(\"position\", {\n        verticalOffset: globalVars.fonts.alignment.headings.verticalOffsetForAdjacentElements,\n    });\n\n    return {\n        sizing,\n        position,\n    };\n});\n\nconst backLinkClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const mediaQueries = layoutVariables().mediaQueries();\n    const style = styleFactory(\"backLink\");\n    const titleBarVars = titleBarVariables();\n    const vars = backLinkVariables();\n\n    const root = style(\n        {\n            ...userSelect(),\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"flex-start\",\n            overflow: \"visible\",\n            height: unit(vars.sizing.height),\n            minWidth: unit(vars.sizing.width),\n            ...margins({\n                left: negative(globalVars.gutter.half),\n                right: globalVars.gutter.half,\n            }),\n        },\n        mediaQueries.oneColumnDown({\n            ...margins({\n                left: 0,\n            }),\n        }),\n    );\n\n    const link = style(\"link\", {\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        color: \"inherit\",\n        height: unit(vars.sizing.height),\n        $nest: {\n            \"&:hover, &:focus\": {\n                color: colorOut(globalVars.mainColors.primary),\n                outline: 0,\n            },\n        },\n    });\n\n    const inHeading = (fontSize?: number | null) => {\n        if (fontSize) {\n            return style(\"inHeading\", {\n                ...absolutePosition.topLeft(\".5em\"),\n                fontSize: unit(fontSize),\n                transform: `translateY(-50%)`,\n                marginTop: unit(vars.position.verticalOffset),\n            });\n        } else {\n            return \"\";\n        }\n    };\n\n    const label = style(\n        \"label\",\n        {\n            lineHeight: px(globalVars.icon.sizes.default),\n            fontWeight: globalVars.fonts.weights.semiBold,\n            whiteSpace: \"nowrap\",\n            paddingLeft: px(12),\n        },\n        mediaQueries.xs(srOnly()),\n    );\n\n    const icon = style(\"icon\", {\n        height: unit(vars.sizing.height),\n        width: unit(vars.sizing.width),\n    });\n\n    // Since the back link needs to be outside the heading, we need a way to get the height of one line of text to center the link vertically.\n    // We need to get the height from the text, so this element is a hidden space used for aligning.\n    const getLineHeight = style(\"getLineHeight\", {\n        visibility: important(\"hidden\"),\n    });\n\n    return {\n        root,\n        link,\n        label,\n        icon,\n        getLineHeight,\n        inHeading,\n    };\n});\n\nexport default backLinkClasses;\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { formElementsVariables } from \"@library/forms/formElementStyles\";\nimport { layoutVariables } from \"@library/layout/panelLayoutStyles\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport {\n    allButtonStates,\n    borders,\n    colorOut,\n    emphasizeLightness,\n    flexHelper,\n    modifyColorBasedOnLightness,\n    unit,\n    userSelect,\n    absolutePosition,\n    pointerEvents,\n    singleBorder,\n} from \"@library/styles/styleHelpers\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { ColorHelper, percent, px, quote, viewHeight } from \"csx\";\nimport backLinkClasses from \"@library/routing/links/backLinkStyles\";\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\nimport { iconClasses } from \"@library/icons/iconClasses\";\nimport { shadowHelper } from \"@library/styles/shadowHelpers\";\nimport { IButtonType } from \"@library/forms/styleHelperButtonInterface\";\nimport { ButtonTypes } from \"@library/forms/buttonStyles\";\nimport generateButtonClass from \"@library/forms/styleHelperButtonGenerator\";\n\nenum TitleBarBorderType {\n    BORDER = \"border\",\n    NONE = \"none\",\n    SHADOW = \"shadow\",\n}\n\nexport const titleBarVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const formElementVars = formElementsVariables();\n    const makeThemeVars = variableFactory(\"titleBar\");\n\n    const sizing = makeThemeVars(\"sizing\", {\n        height: 48,\n        spacer: 12,\n        mobile: {\n            height: 44,\n            width: formElementVars.sizing.height,\n        },\n    });\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.bg,\n        bg: globalVars.mainColors.primary,\n    });\n\n    const guest = makeThemeVars(\"guest\", {\n        spacer: 8,\n    });\n\n    const border = makeThemeVars(\"border\", {\n        type: TitleBarBorderType.NONE,\n    });\n\n    const buttonSize = globalVars.buttonIcon.size;\n    const button = makeThemeVars(\"button\", {\n        borderRadius: globalVars.border.radius,\n        size: buttonSize,\n        guest: {\n            minWidth: 86,\n        },\n        mobile: {\n            fontSize: 16,\n            width: buttonSize,\n        },\n        state: {\n            bg: emphasizeLightness(colors.bg, 0.04),\n        },\n    });\n\n    const linkButtonDefaults: IButtonType = {\n        name: ButtonTypes.TITLEBAR_LINK,\n        colors: {\n            bg: colors.bg,\n        },\n        fonts: {\n            color: colors.fg,\n        },\n        borders: {\n            style: \"none\",\n            color: \"transparent\",\n        },\n        hover: {\n            colors: {\n                bg: button.state.bg,\n            },\n        },\n        focus: {\n            colors: {\n                bg: button.state.bg,\n            },\n        },\n        focusAccessible: {\n            colors: {\n                bg: button.state.bg,\n            },\n        },\n        active: {\n            colors: {\n                bg: button.state.bg,\n            },\n        },\n    };\n    const linkButton: IButtonType = makeThemeVars(\"linkButton\", linkButtonDefaults);\n\n    const count = makeThemeVars(\"count\", {\n        size: 18,\n        fontSize: 10,\n        fg: globalVars.mainColors.bg,\n        bg: globalVars.mainColors.primary,\n    });\n\n    const dropDownContents = makeThemeVars(\"dropDownContents\", {\n        minWidth: 350,\n        maxHeight: viewHeight(90),\n    });\n\n    const endElements = makeThemeVars(\"endElements\", {\n        flexBasis: buttonSize * 4,\n        mobile: {\n            flexBasis: button.mobile.width * 2,\n        },\n    });\n\n    const compactSearch = makeThemeVars(\"compactSearch\", {\n        maxWidth: 672,\n        mobile: {\n            width: button.mobile.width,\n        },\n    });\n\n    const buttonContents = makeThemeVars(\"buttonContents\", {\n        state: {\n            bg: button.state.bg,\n        },\n    });\n\n    const signIn = makeThemeVars(\"signIn\", {\n        fg: colors.fg,\n        bg: modifyColorBasedOnLightness(globalVars.mainColors.primary, 0.1, true),\n        hover: {\n            bg: modifyColorBasedOnLightness(globalVars.mainColors.primary, 0.2, true),\n        },\n    });\n\n    const resister = makeThemeVars(\"register\", {\n        fg: colors.bg,\n        bg: colors.fg,\n        borderColor: colors.bg,\n        states: {\n            bg: colors.fg.fade(0.9),\n        },\n    });\n\n    const mobileDropDown = makeThemeVars(\"mobileDropdown\", {\n        height: px(sizing.mobile.height),\n    });\n\n    const meBox = makeThemeVars(\"meBox\", {\n        sizing: {\n            buttonContents: formElementVars.sizing.height,\n        },\n    });\n\n    const bottomRow = makeThemeVars(\"bottomRow\", {\n        bg: modifyColorBasedOnLightness(colors.bg, 0.1).desaturate(0.2, true),\n    });\n\n    return {\n        border,\n        sizing,\n        colors,\n        signIn,\n        resister,\n        guest,\n        button,\n        linkButton,\n        count,\n        dropDownContents,\n        endElements,\n        compactSearch,\n        buttonContents,\n        mobileDropDown,\n        meBox,\n        bottomRow,\n    };\n});\n\nexport const titleBarClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const vars = titleBarVariables();\n    const formElementVars = formElementsVariables();\n    const headerColors = vars.colors;\n    const mediaQueries = layoutVariables().mediaQueries();\n    const flex = flexHelper();\n    const style = styleFactory(\"titleBar\");\n\n    const getBorderVars = (): NestedCSSProperties => {\n        switch (vars.border.type) {\n            case TitleBarBorderType.BORDER:\n                return {\n                    borderBottom: singleBorder(),\n                };\n            case TitleBarBorderType.SHADOW:\n                return {\n                    boxShadow: shadowHelper().makeShadow(),\n                };\n            case TitleBarBorderType.NONE:\n            default:\n                return {};\n        }\n    };\n\n    const root = style({\n        maxWidth: percent(100),\n        backgroundColor: headerColors.bg.toString(),\n        color: headerColors.fg.toString(),\n        ...getBorderVars(),\n        $nest: {\n            \"& .searchBar__control\": {\n                color: vars.colors.fg.toString(),\n                cursor: \"pointer\",\n            },\n            \"&& .suggestedTextInput-clear.searchBar-clear\": {\n                $nest: {\n                    \"&:hover\": {\n                        color: vars.colors.fg.toString(),\n                    },\n                    \"&:active\": {\n                        color: vars.colors.fg.toString(),\n                    },\n                    \"&:focus\": {\n                        color: vars.colors.fg.toString(),\n                    },\n                },\n            },\n            \"& .searchBar__placeholder\": {\n                color: vars.colors.fg.fade(0.8).toString(),\n                cursor: \"pointer\",\n            },\n            [`& .${backLinkClasses().link}`]: {\n                $nest: {\n                    \"&, &:hover, &:focus, &:active\": {\n                        color: colorOut(vars.colors.fg),\n                    },\n                },\n            },\n        },\n        ...mediaQueries.oneColumnDown({\n            height: px(vars.sizing.mobile.height),\n        }).$nest,\n    });\n\n    const spacer = style(\n        \"spacer\",\n        {\n            height: px(vars.sizing.height),\n        },\n        mediaQueries.oneColumnDown({\n            height: px(vars.sizing.mobile.height),\n        }),\n    );\n\n    const bar = style(\n        \"bar\",\n        {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            flexWrap: \"nowrap\",\n            alignItems: \"center\",\n            height: px(vars.sizing.height),\n            width: percent(100),\n            $nest: {\n                \"&.isHome\": {\n                    justifyContent: \"space-between\",\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const logoContainer = style(\n        \"logoContainer\",\n        {\n            display: \"inline-flex\",\n            alignSelf: \"center\",\n            color: colorOut(vars.colors.fg),\n            marginRight: unit(globalVars.gutter.size),\n            $nest: {\n                \"&.focus-visible\": {\n                    $nest: {\n                        \"&.headerLogo-logoFrame\": {\n                            outline: `5px solid ${vars.buttonContents.state.bg}`,\n                            background: colorOut(vars.buttonContents.state.bg),\n                            borderRadius: vars.button.borderRadius,\n                        },\n                    },\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            height: px(vars.sizing.mobile.height),\n            marginRight: unit(0),\n        }),\n    );\n\n    const logoFlexBasis = style(\"logoFlexBasis\", {\n        flexBasis: vars.endElements.flexBasis,\n    });\n\n    const meBox = style(\"meBox\", {\n        justifyContent: \"flex-end\",\n    });\n\n    const nav = style(\n        \"nav\",\n        {\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            height: px(vars.sizing.height),\n            color: \"inherit\",\n        },\n        mediaQueries.oneColumnDown({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const locales = style(\n        \"locales\",\n        {\n            height: px(vars.sizing.height),\n            $nest: {\n                \"&.buttonAsText\": {\n                    $nest: {\n                        \"&:hover\": {\n                            color: \"inherit\",\n                        },\n                        \"&:focus\": {\n                            color: \"inherit\",\n                        },\n                    },\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const messages = style(\"messages\", {\n        color: vars.colors.fg.toString(),\n    });\n\n    const notifications = style(\"notifications\", {\n        color: \"inherit\",\n    });\n\n    const compactSearch = style(\n        \"compactSearch\",\n        {\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            marginLeft: \"auto\",\n            minWidth: unit(formElementVars.sizing.height),\n            flexBasis: px(formElementVars.sizing.height),\n            maxWidth: percent(100),\n            height: unit(vars.sizing.height),\n            $nest: {\n                \"&.isOpen\": {\n                    width: unit(vars.compactSearch.maxWidth),\n                    flexBasis: \"auto\",\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({ height: px(vars.sizing.mobile.height) }),\n    );\n\n    const extraMeBoxIcons = style(\"extraMeBoxIcons\", {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        flex: 1,\n    });\n\n    const topElement = style(\n        \"topElement\",\n        {\n            color: vars.colors.fg.toString(),\n            padding: `0 ${px(vars.sizing.spacer / 2)}`,\n            margin: `0 ${px(vars.sizing.spacer / 2)}`,\n            borderRadius: px(vars.button.borderRadius),\n        },\n        mediaQueries.oneColumnDown({\n            fontSize: px(vars.button.mobile.fontSize),\n        }),\n    );\n\n    const localeToggle = style(\n        \"localeToggle\",\n        {\n            height: px(vars.sizing.height),\n        },\n        mediaQueries.oneColumnDown({\n            height: px(vars.sizing.mobile.height),\n        }),\n    );\n\n    const languages = style(\"languages\", {\n        marginLeft: \"auto\",\n    });\n\n    const button = style(\n        \"button\",\n        {\n            color: vars.colors.fg.toString(),\n            height: px(vars.button.size),\n            minWidth: px(vars.button.size),\n            maxWidth: percent(100),\n            padding: px(0),\n            $nest: {\n                \"&&\": {\n                    ...allButtonStates(\n                        {\n                            active: {\n                                color: colorOut(vars.colors.fg),\n                                $nest: {\n                                    \"& .meBox-buttonContent\": {\n                                        backgroundColor: colorOut(vars.buttonContents.state.bg),\n                                    },\n                                },\n                            },\n                            hover: {\n                                color: colorOut(vars.colors.fg),\n                                $nest: {\n                                    \"& .meBox-buttonContent\": {\n                                        backgroundColor: colorOut(vars.buttonContents.state.bg),\n                                    },\n                                },\n                            },\n                            accessibleFocus: {\n                                outline: 0,\n                                color: colorOut(vars.colors.fg),\n                                $nest: {\n                                    \"& .meBox-buttonContent\": {\n                                        borderColor: colorOut(vars.colors.fg),\n                                        backgroundColor: colorOut(vars.buttonContents.state.bg),\n                                    },\n                                },\n                            },\n                        },\n                        {\n                            \"& .meBox-buttonContent\": {\n                                ...borders({\n                                    width: 1,\n                                    color: \"transparent\",\n                                }),\n                            },\n                            \"&.isOpen\": {\n                                color: colorOut(vars.colors.fg),\n                                $nest: {\n                                    \"& .meBox-buttonContent\": {\n                                        backgroundColor: colorOut(vars.buttonContents.state.bg),\n                                    },\n                                },\n                            },\n                        },\n                    ),\n                },\n            },\n        },\n        mediaQueries.oneColumnDown({\n            height: px(vars.sizing.mobile.height),\n            width: px(vars.sizing.mobile.width),\n            minWidth: px(vars.sizing.mobile.width),\n        }),\n    );\n\n    const linkButton = generateButtonClass(vars.linkButton);\n\n    const buttonOffset = style(\"buttonOffset\", {\n        transform: `translateX(6px)`,\n    });\n\n    const centeredButtonClass = style(\"centeredButtonClass\", {\n        ...flex.middle(),\n    });\n\n    const searchCancel = style(\"searchCancel\", {\n        ...userSelect(),\n        height: px(formElementVars.sizing.height),\n        $nest: {\n            \"&.focus-visible\": {\n                $nest: {\n                    \"&.meBox-buttonContent\": {\n                        borderRadius: px(vars.button.borderRadius),\n                        backgroundColor: vars.buttonContents.state.bg.toString(),\n                    },\n                },\n            },\n        },\n    });\n\n    const tabButtonActive = {\n        color: globalVars.mainColors.primary.toString(),\n        $nest: {\n            \".titleBar-tabButtonContent\": {\n                color: vars.colors.fg.toString(),\n                backgroundColor: colorOut(modifyColorBasedOnLightness(vars.colors.fg, 1)),\n                borderRadius: px(vars.button.borderRadius),\n            },\n        },\n    };\n\n    const tabButton = style(\"tabButton\", {\n        display: \"block\",\n        height: percent(100),\n        padding: px(0),\n        $nest: {\n            \"&:active\": tabButtonActive,\n            \"&:hover\": tabButtonActive,\n            \"&:focus\": tabButtonActive,\n        },\n    });\n\n    const dropDownContents = style(\"dropDownContents\", {\n        $nest: {\n            \"&&&\": {\n                minWidth: unit(vars.dropDownContents.minWidth),\n                maxHeight: unit(vars.dropDownContents.maxHeight),\n            },\n        },\n    });\n\n    const count = style(\"count\", {\n        height: px(vars.count.size),\n        fontSize: px(vars.count.fontSize),\n        backgroundColor: vars.count.bg.toString(),\n        color: vars.count.fg.toString(),\n    });\n\n    const scroll = style(\"scroll\", {\n        position: \"relative\",\n        top: 0,\n        left: 0,\n        height: percent(100),\n        ...(scrollWithNoScrollBar() as NestedCSSProperties),\n    });\n\n    const rightFlexBasis = style(\n        \"rightFlexBasis\",\n        {\n            display: \"flex\",\n            height: px(vars.sizing.height),\n            flexWrap: \"nowrap\",\n            justifyContent: \"flex-end\",\n            alignItems: \"center\",\n            flexBasis: vars.endElements.flexBasis,\n        },\n        mediaQueries.oneColumnDown({\n            flexShrink: 1,\n            flexBasis: px(vars.endElements.mobile.flexBasis),\n            height: px(vars.sizing.mobile.height),\n        }),\n    );\n\n    const leftFlexBasis = style(\n        \"leftFlexBasis\",\n        {\n            ...flex.middleLeft(),\n            flexBasis: vars.endElements.flexBasis,\n        },\n        mediaQueries.oneColumnDown({\n            flexShrink: 1,\n            flexBasis: px(vars.endElements.mobile.flexBasis),\n        }),\n    );\n\n    const signIn = style(\"signIn\", {\n        marginLeft: unit(vars.guest.spacer),\n        marginRight: unit(vars.guest.spacer),\n        $nest: {\n            \"&&&\": {\n                color: colorOut(vars.signIn.fg),\n                borderColor: colorOut(vars.colors.fg),\n            },\n        },\n    });\n\n    const register = style(\"register\", {\n        marginLeft: unit(vars.guest.spacer),\n        marginRight: unit(vars.guest.spacer),\n        backgroundColor: colorOut(vars.resister.bg),\n        $nest: {\n            \"&&\": {\n                // Ugly solution, but not much choice until: https://github.com/vanilla/knowledge/issues/778\n                ...allButtonStates({\n                    allStates: {\n                        borderColor: colorOut(vars.resister.borderColor, true),\n                        color: colorOut(vars.resister.fg),\n                    },\n                    noState: {\n                        backgroundColor: colorOut(vars.resister.bg, true),\n                    },\n                    hover: {\n                        color: colorOut(vars.resister.fg),\n                        backgroundColor: colorOut(vars.resister.states.bg, true),\n                    },\n                    focus: {\n                        color: colorOut(vars.resister.fg),\n                        backgroundColor: colorOut(vars.resister.states.bg, true),\n                    },\n                    active: {\n                        color: colorOut(vars.resister.fg),\n                        backgroundColor: colorOut(vars.resister.states.bg, true),\n                    },\n                }),\n            },\n        },\n    });\n\n    const compactSearchResults = style(\"compactSearchResults\", {\n        position: \"absolute\",\n        top: unit(formElementVars.sizing.height),\n        maxWidth: px(vars.compactSearch.maxWidth),\n        width: percent(100),\n        $nest: {\n            \"&:empty\": {\n                display: \"none\",\n            },\n        },\n    });\n\n    const clearButtonClass = style(\"clearButtonClass\", {\n        opacity: 0.7,\n        $nest: {\n            \"&&\": {\n                color: colorOut(vars.colors.fg),\n            },\n            \"&:hover, &:focus\": {\n                opacity: 1,\n            },\n        },\n    });\n\n    const guestButton = style(\"guestButton\", {\n        minWidth: unit(vars.button.guest.minWidth),\n        borderRadius: unit(vars.button.borderRadius),\n    });\n\n    const desktopNavWrap = style(\"desktopNavWrap\", {\n        position: \"relative\",\n        flexGrow: 1,\n        ...(addGradientsToHintOverflow(globalVars.gutter.half * 4, vars.colors.bg) as any),\n    });\n\n    return {\n        root,\n        spacer,\n        bar,\n        logoContainer,\n        meBox,\n        nav,\n        locales,\n        messages,\n        notifications,\n        compactSearch,\n        topElement,\n        localeToggle,\n        languages,\n        button,\n        buttonOffset,\n        linkButton,\n        searchCancel,\n        tabButton,\n        dropDownContents,\n        count,\n        extraMeBoxIcons,\n        scroll,\n        rightFlexBasis,\n        leftFlexBasis,\n        signIn,\n        register,\n        centeredButtonClass,\n        compactSearchResults,\n        clearButtonClass,\n        guestButton,\n        logoFlexBasis,\n        desktopNavWrap,\n    };\n});\n\nexport const titleBarLogoClasses = useThemeCache(() => {\n    const vars = titleBarVariables();\n    const style = styleFactory(\"titleBarLogo\");\n    const logoFrame = style(\"logoFrame\", { display: \"inline-flex\" });\n    const logoHeight = px(vars.sizing.height - 18);\n\n    const logo = style(\"logo\", {\n        display: \"block\",\n        height: logoHeight,\n        width: \"auto\",\n        $nest: {\n            \"&.isCentred\": {\n                margin: \"auto\",\n            },\n            [`.${iconClasses().vanillaLogo}`]: {\n                height: logoHeight,\n                width: \"auto\",\n            },\n        },\n    });\n\n    return { logoFrame, logo };\n});\n\nexport const titleBarHomeClasses = useThemeCache(() => {\n    const vars = titleBarVariables();\n    const globalVars = globalVariables();\n    const style = styleFactory(\"titleBarHome\");\n    const mediaQueries = layoutVariables().mediaQueries();\n\n    const root = style({\n        minHeight: vars.sizing.mobile.height * 2,\n    });\n\n    const left = style(\"left\", {\n        height: px(1),\n        width: px(vars.button.size),\n        flexBasis: vars.button.size,\n    });\n\n    const bottom = style(\n        \"bottom\",\n        {\n            position: \"relative\",\n            backgroundColor: colorOut(vars.bottomRow.bg),\n            height: unit(vars.sizing.height),\n            width: percent(100),\n            ...(addGradientsToHintOverflow(globalVars.gutter.half * 4, vars.colors.bg) as any),\n        },\n        mediaQueries.oneColumnDown({\n            height: px(vars.sizing.mobile.height),\n            ...(addGradientsToHintOverflow(globalVars.gutter.half * 4, vars.bottomRow.bg) as any),\n        }),\n    );\n\n    return {\n        root,\n        bottom,\n        left,\n    };\n});\n\nexport const scrollWithNoScrollBar = (nestedStyles?: NestedCSSProperties) => {\n    return {\n        overflow: [\"-moz-scrollbars-none\", \"auto\"],\n        \"-ms-overflow-style\": \"none\",\n        $nest: {\n            \"&::-webkit-scrollbar\": {\n                display: \"none\",\n            },\n            ...nestedStyles,\n        },\n    };\n};\n\nexport const addGradientsToHintOverflow = (width: number | string, color: ColorHelper) => {\n    const gradient = (direction: \"right\" | \"left\") => {\n        return `linear-gradient(to ${direction}, ${colorOut(color.fade(0))} 0%, ${colorOut(\n            color.fade(0.3),\n        )} 20%, ${colorOut(color)} 90%)`;\n    };\n    return {\n        $nest: {\n            \"&:after\": {\n                ...absolutePosition.topRight(),\n                background: gradient(\"right\"),\n            },\n            \"&:before\": {\n                ...absolutePosition.topLeft(),\n                background: gradient(\"left\"),\n            },\n            \"&:before, &:after\": {\n                ...pointerEvents(),\n                content: quote(``),\n                height: percent(100),\n                width: unit(width),\n                zIndex: 1,\n            },\n        },\n    };\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport ReduxActions, { bindThunkAction } from \"@library/redux/ReduxActions\";\nimport actionCreatorFactory from \"typescript-fsa\";\nimport { ITheme } from \"@library/theming/themeReducer\";\nimport { IApiError } from \"@library/@types/api/core\";\n\nconst createAction = actionCreatorFactory(\"@@themes\");\n\nexport default class ThemeActions extends ReduxActions {\n    public static getAssets = createAction.async<{ themeKey: string }, ITheme, IApiError>(\"GET\");\n    public getAssets = (themeKey: string) => {\n        const { theme } = this.getState();\n        if (theme.assets.data) {\n            return theme.assets.data;\n        }\n\n        const apiThunk = bindThunkAction(ThemeActions.getAssets, async () => {\n            const response = await this.api.get(`/themes/${themeKey}`);\n            return response.data;\n        })({ themeKey });\n        return this.dispatch(apiThunk);\n    };\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { ILocale } from \"@vanilla/i18n\";\nimport { actionCreatorFactory } from \"typescript-fsa\";\nimport { IApiError, LoadStatus } from \"@library/@types/api/core\";\nimport { bindThunkAction } from \"@library/redux/ReduxActions\";\nimport apiv2 from \"@library/apiv2\";\nimport getStore from \"@library/redux/getStore\";\n\nconst createAction = actionCreatorFactory(\"@@locales\");\nexport const getAllLocalesACs = createAction.async<{}, ILocale[], IApiError>(\"GET_ALL\");\n\n/**\n * Thunk for fetching locales.\n */\nexport function fetchLocalesFromApi(force?: boolean): Promise<ILocale[]> {\n    const { dispatch, getState } = getStore();\n\n    const localeLoadable = getState().locales.locales;\n    if (!force && localeLoadable.status === LoadStatus.SUCCESS) {\n        return Promise.resolve(localeLoadable.data!);\n    }\n\n    const apiThunk = bindThunkAction(getAllLocalesACs, async () => {\n        const response = await apiv2.get(`/locales`);\n        return response.data;\n    })();\n    return apiThunk(dispatch, getState, {});\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { NestedCSSProperties } from \"typestyle/lib/types\";\nimport { unit } from \"@library/styles/styleHelpers\";\n\nexport interface IPaddings {\n    top?: string | number;\n    right?: string | number;\n    bottom?: string | number;\n    left?: string | number;\n    horizontal?: string | number;\n    vertical?: string | number;\n    all?: string | number;\n}\n\nexport const paddings = (styles: IPaddings) => {\n    const paddingVals = {} as NestedCSSProperties;\n\n    if (!styles) {\n        return paddingVals;\n    }\n\n    if (styles.all !== undefined) {\n        paddingVals.paddingTop = unit(styles.all);\n        paddingVals.paddingRight = unit(styles.all);\n        paddingVals.paddingBottom = unit(styles.all);\n        paddingVals.paddingLeft = unit(styles.all);\n    }\n\n    if (styles.vertical !== undefined) {\n        paddingVals.paddingTop = unit(styles.vertical);\n        paddingVals.paddingBottom = unit(styles.vertical);\n    }\n\n    if (styles.horizontal !== undefined) {\n        paddingVals.paddingLeft = unit(styles.horizontal);\n        paddingVals.paddingRight = unit(styles.horizontal);\n    }\n\n    if (styles.top !== undefined) {\n        paddingVals.paddingTop = unit(styles.top);\n    }\n\n    if (styles.right !== undefined) {\n        paddingVals.paddingRight = unit(styles.right);\n    }\n\n    if (styles.bottom !== undefined) {\n        paddingVals.paddingBottom = unit(styles.bottom);\n    }\n\n    if (styles.left !== undefined) {\n        paddingVals.paddingLeft = unit(styles.left);\n    }\n\n    return paddingVals as NestedCSSProperties;\n};\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { ComponentClass } from \"react\";\nimport { logWarning, logError } from \"@vanilla/utils\";\nimport { mountReact } from \"@vanilla/react-utils\";\nimport { AppContext } from \"@library/AppContext\";\n\nlet useTheme = true;\n\n/**\n * Disable theming for the site. This is useful for sections like the dashboard.\n */\nexport function disableComponentTheming() {\n    useTheme = false;\n}\n\n/**\n * The currently registered Components.\n * @private\n */\nconst _components = {};\n\n/**\n * Register a component in the Components registry.\n *\n * @param name The name of the component.\n * @param component The component to register.\n */\nexport function addComponent(name: string, component: React.ComponentType<any>) {\n    _components[name.toLowerCase()] = component;\n}\n\n/**\n * Test to see if a component has been registered.\n *\n * @param name The name of the component to test.\n * @returns Returns **true** if the component has been registered or **false** otherwise.\n */\nexport function componentExists(name: string): boolean {\n    return _components[name.toLowerCase()] !== undefined;\n}\n\n/**\n * Get a component from the component registry.\n *\n * @param name The name of the component.\n * @returns Returns the component or **undefined** if there is no registered component.\n */\nexport function getComponent(name: string): ComponentClass | undefined {\n    return _components[name.toLowerCase()];\n}\n\n/**\n * Mount all declared Components on the dom.\n *\n * The page signifies that an element contains a component with the `data-react=\"<Component>\"` attribute.\n *\n * @param parent - The parent element to search. This element is not included in the search.\n */\nexport function _mountComponents(parent: Element) {\n    parent.querySelectorAll(\"[data-react]\").forEach(node => {\n        if (!(node instanceof HTMLElement)) {\n            logWarning(\"Attempting to mount a data-react component on an invalid element\", node);\n            return;\n        }\n\n        const name = node.getAttribute(\"data-react\") || \"\";\n        let props = node.getAttribute(\"data-props\") || {};\n        if (typeof props === \"string\") {\n            props = JSON.parse(props);\n        }\n\n        const Component = getComponent(name);\n\n        if (Component) {\n            mountReact(\n                <AppContext variablesOnly noTheme={!useTheme}>\n                    <Component {...props} />\n                </AppContext>,\n                node,\n                undefined,\n                { overwrite: true },\n            );\n        } else {\n            logError(\"Could not find component %s.\", name);\n        }\n    });\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@library/utility/appUtils\";\n\ninterface IHumanFileSize {\n    amount: number;\n    unit: string;\n    unitAbbr: string;\n}\n\nenum FileSizeUnit {\n    B = \"B\",\n    KB = \"KB\",\n    MB = \"MB\",\n    GB = \"GB\",\n    TB = \"TB\",\n}\n\n/**\n * Parse a number of bytes into pieces of a human readable file size.\n *\n * @param size File size in bytes\n */\nexport function humanFileSize(size: number): IHumanFileSize {\n    const i: number = Math.floor(Math.log(size) / Math.log(1024));\n    const unitAbbr = Object.values(FileSizeUnit)[i];\n\n    const fullValue: number = size / Math.pow(1024, i);\n    // 2 digits\n    const value = Number.parseFloat(fullValue.toFixed(2));\n    const unit = getUnabbreviatedFileSizeUnit(unitAbbr);\n    return {\n        amount: value,\n        unit,\n        unitAbbr,\n    };\n}\n\n/**\n * Component for rendering the results of `humanFileSize`.\n */\nexport function HumanFileSize(props: { numBytes: number }) {\n    const humanSize = humanFileSize(props.numBytes);\n    return (\n        <>\n            {humanSize.amount}\n            <abbr title={humanSize.unit}>{` ${humanSize.unitAbbr}`}</abbr>\n        </>\n    );\n}\n\n/**\n * Convert from FileSizeUnit to the unabbreviated version.\n *\n * @param unit The unit to translate.\n */\nfunction getUnabbreviatedFileSizeUnit(unit: FileSizeUnit): string {\n    switch (unit) {\n        case FileSizeUnit.B:\n            return t(\"Byte\");\n        case FileSizeUnit.KB:\n            return t(\"Kilobyte\");\n        case FileSizeUnit.MB:\n            return t(\"Megabyte\");\n        case FileSizeUnit.GB:\n            return t(\"Gigabyte\");\n        case FileSizeUnit.TB:\n            return t(\"Terabyte\");\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { useContext } from \"react\";\nimport { logWarning } from \"@vanilla/utils\";\nimport { style } from \"typestyle\";\n\ntype ScollOffsetSetter = (offset: number) => void;\n\ninterface IContextParams {\n    setScrollOffset: ScollOffsetSetter;\n    resetScrollOffset: () => void;\n    scrollOffset: number | null;\n    offsetClass: string;\n    getCalcedHashOffset(): number;\n    hashOffsetRef: React.RefObject<HTMLDivElement>;\n    temporarilyDisabledWatching: (duration: number) => void;\n}\n\nexport const ScrollOffsetContext = React.createContext<IContextParams>({\n    setScrollOffset: () => {\n        logWarning(\"Set scroll offset called, but a proper provider was not configured.\");\n    },\n    resetScrollOffset: () => {\n        logWarning(\"Reset scroll offset called, but a proper provider was not configured.\");\n    },\n    scrollOffset: null,\n    getCalcedHashOffset: () => 0,\n    temporarilyDisabledWatching: () => {\n        logWarning(\"Attempted to disable watching but a proper provider was not configured.\");\n    },\n    hashOffsetRef: {\n        current: null,\n    },\n    offsetClass: \"\",\n});\n\nexport interface IWithScrollOffset {\n    setScrollOffset: ScollOffsetSetter;\n}\n\ninterface IProps {\n    scrollWatchingEnabled?: boolean;\n    children: React.ReactNode;\n}\n\ninterface IState {\n    scrollOffset: number;\n    isScrolledOff: boolean;\n    hashOffset: number;\n    isWatchingEnabled: boolean;\n}\n\n/**\n * Provider for handling a global scroll offset.\n * This wraps `ScrollOffset.Provider` with some good default behaviour.\n *\n * Using this, you can have one component declare an offset value.\n * Other components can then recieve this value through context.\n * The context itself handles watching the scroll position and provides a CSS Class styling for the offset.\n *\n * Using the CSS class provided out of this context will translate the set value into translateY value.\n * @see setScrollOffset\n */\nexport class ScrollOffsetProvider extends React.Component<IProps, IState> {\n    public state: IState = {\n        scrollOffset: 0,\n        isScrolledOff: false,\n        hashOffset: 0,\n        isWatchingEnabled: true,\n    };\n\n    private hashOffsetRef = React.createRef<HTMLDivElement>();\n\n    /**\n     * @inheritdoc\n     */\n    public render() {\n        const { scrollWatchingEnabled } = this.props;\n\n        // Generate a CSS based on our calculated values.\n        const { scrollOffset, isScrolledOff } = this.state;\n        const offsetClass = style({\n            transition: \"transform 0.3s ease\",\n            willChange: \"transform\",\n            transform: isScrolledOff ? `translateY(-${scrollOffset}px)` : \"none\",\n        });\n\n        // Render out the context with all values and methods.\n        return (\n            <ScrollOffsetContext.Provider\n                value={{\n                    setScrollOffset: this.setScrollOffset,\n                    resetScrollOffset: this.resetScrollOffset,\n                    scrollOffset: isScrolledOff && scrollWatchingEnabled ? scrollOffset : 0,\n                    offsetClass: scrollWatchingEnabled ? offsetClass : \"\",\n                    getCalcedHashOffset: this.getCalcedHashOffset,\n                    hashOffsetRef: this.hashOffsetRef,\n                    temporarilyDisabledWatching: this.temporarilyDisabledWatching,\n                }}\n            >\n                {this.props.children}\n            </ScrollOffsetContext.Provider>\n        );\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public componentDidMount() {\n        window.addEventListener(\"scroll\", this.scrollHandler);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    public componentWillUnmount() {\n        window.removeEventListener(\"scroll\", this.scrollHandler);\n    }\n\n    private get shouldWatchScroll() {\n        return this.props.scrollWatchingEnabled && this.state.isWatchingEnabled;\n    }\n\n    private temporarilyDisabledWatching = (duration: number) => {\n        this.setState({ isWatchingEnabled: false });\n        setTimeout(() => {\n            this.setState({ isWatchingEnabled: true });\n        }, duration);\n    };\n\n    /** Keep a local copy of our previous window scroll value. */\n    private previousScrollValue = 0;\n\n    private scrollHandler = () => {\n        // Early bailout if we aren't watching scroll position.\n        if (!this.shouldWatchScroll) {\n            return;\n        }\n\n        // Trigger the scrolled state if we've moved up or down by a certain number of pixels.\n        requestAnimationFrame(() => {\n            const wiggleRoom = 10;\n            const newScrolledValue = window.scrollY;\n\n            // Always show if we are within the initial scrolloffset.\n            if (newScrolledValue < 400) {\n                this.setState({ isScrolledOff: false });\n                return;\n            }\n\n            const isScrollingDown = newScrolledValue > this.previousScrollValue + wiggleRoom;\n            const isScrollingUp = newScrolledValue < this.previousScrollValue - wiggleRoom;\n            this.previousScrollValue = window.scrollY;\n            if (isScrollingDown) {\n                this.setState({ isScrolledOff: true });\n            } else if (isScrollingUp) {\n                this.setState({ isScrolledOff: false });\n            }\n        });\n    };\n\n    /**\n     * Reset the context state.\n     */\n    private resetScrollOffset = () => {\n        this.setState({\n            scrollOffset: 0,\n            isScrolledOff: false,\n        });\n    };\n\n    /**\n     * Set the value items will be translated by.\n     */\n    private setScrollOffset: ScollOffsetSetter = offset => {\n        this.setState({ scrollOffset: offset });\n    };\n\n    private getCalcedHashOffset = (): number => {\n        const offsetElement = this.hashOffsetRef.current;\n        if (!offsetElement) {\n            return 0;\n        }\n\n        const rect = offsetElement.getBoundingClientRect();\n        return rect.bottom;\n    };\n}\n\nexport function useScrollOffset() {\n    return useContext(ScrollOffsetContext);\n}\n\n/**\n * Component that reports it's bottom most position to the scroll offset provider.\n *\n * Eg. If you click a link #some-hash and an element with the ID `some-hash` is present in the page\n * that item will stay below the HashOffsetReporter.\n */\nexport function HashOffsetReporter(props: { children: React.ReactNode }) {\n    const offset = useScrollOffset();\n    return <div ref={offset.hashOffsetRef}>{props.children}</div>;\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\n\ninterface IProps {\n    condition: boolean;\n    className?: string;\n    tag?: keyof JSX.IntrinsicElements;\n    children?: React.ReactNode;\n}\n\n/**\n * Facilitates wrapping conditionally a component\n */\nexport default class ConditionalWrap extends React.Component<IProps> {\n    public render() {\n        const { condition, className, tag, children } = this.props;\n        const Tag = tag || \"div\";\n        if (condition) {\n            return <Tag className={className}>{children}</Tag>;\n        } else {\n            return <>{children}</>;\n        }\n    }\n}\n","/**\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\n\ninterface IProps {\n    children: React.ReactNode;\n    tag?: keyof JSX.IntrinsicElements;\n}\n\n/**\n * Children of component only visible to screen readers\n */\nexport default class ScreenReaderContent extends React.PureComponent<IProps> {\n    public render() {\n        const Tag = this.props.tag || \"div\";\n        return <Tag className=\"sr-only\">{this.props.children}</Tag>;\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React, { createRef, useContext, useEffect, useState } from \"react\";\nimport { logWarning } from \"@vanilla/utils\";\n\ntype FontSizeSetter = (fontSize: number | null) => void;\n\ninterface IContextParams {\n    setFontSize: FontSizeSetter;\n    fontSize: number | null;\n}\n\nexport const FontSizeCalculatorContext = React.createContext<IContextParams>({\n    setFontSize: () => {\n        logWarning(\"'setFontSize' called, but a proper provider was not configured.\");\n    },\n    fontSize: null,\n});\n\nexport interface IWithFontSize {\n    setFontSize: FontSizeSetter;\n}\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\n/**\n * Provider for getting a calculated font size from an element.\n * This context is to center elements based on the font size of text,\n * so it stays centered on the first line.\n *\n * Returns the line height in pixels\n *\n * @see fontSize\n */\nexport function FontSizeCalculatorProvider(props: IProps) {\n    const { children } = props;\n    const [fontSize, setFontSize] = useState<number | null>(null);\n\n    return (\n        <FontSizeCalculatorContext.Provider\n            value={{\n                setFontSize,\n                fontSize,\n            }}\n        >\n            {children}\n        </FontSizeCalculatorContext.Provider>\n    );\n}\n\nexport function useFontSizeCalculator() {\n    return useContext(FontSizeCalculatorContext);\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { styleFactory, useThemeCache } from \"@library/styles/styleUtils\";\nimport { percent, viewHeight } from \"csx\";\nimport { cssRule } from \"typestyle\";\nimport { colorOut, background, fontFamilyWithDefaults, margins, paddings, fonts } from \"@library/styles/styleHelpers\";\n\nexport const bodyCSS = useThemeCache(() => {\n    const globalVars = globalVariables();\n    cssRule(\"html\", {\n        \"-ms-overflow-style\": \"-ms-autohiding-scrollbar\",\n    });\n\n    cssRule(\"html, body\", {\n        backgroundColor: colorOut(globalVars.body.backgroundImage.color),\n        ...fonts({\n            size: globalVars.fonts.size.medium,\n            family: globalVars.fonts.families.body,\n            color: globalVars.mainColors.fg,\n        }),\n        wordBreak: \"break-word\",\n        overscrollBehavior: \"none\", // For IE -> https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior\n    });\n\n    cssRule(\"*\", {\n        // For Mobile Safari -> https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior\n        \"-webkit-overflow-scrolling\": \"touch\",\n    });\n\n    cssRule(\"h1, h2, h3, h4, h5, h6\", {\n        display: \"block\",\n        lineHeight: globalVars.lineHeights.condensed,\n        ...margins({\n            all: 0,\n        }),\n        ...paddings({\n            all: 0,\n        }),\n    });\n\n    cssRule(\"p\", {\n        ...margins({\n            all: 0,\n        }),\n        ...paddings({\n            all: 0,\n        }),\n    });\n\n    cssRule(\".page\", {\n        display: \"flex\",\n        overflow: \"visible\",\n        flexDirection: \"column\",\n        width: percent(100),\n        minHeight: viewHeight(100),\n        position: \"relative\",\n        zIndex: 0,\n    });\n\n    cssRule(\"button\", {\n        \"-webkit-appearance\": \"none\",\n        \"-moz-appearance\": \"none\",\n    });\n\n    cssRule(\".page-minHeight\", {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n    });\n\n    cssRule(\n        `input::-webkit-search-decoration,\n        input::-webkit-search-cancel-button,\n        input::-webkit-search-results-button,\n        input::-webkit-search-results-decoration,\n        input::-ms-clear`,\n        {\n            display: \"none\",\n        },\n    );\n});\n\nexport const bodyClasses = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const style = styleFactory(\"fullBackground\");\n    const image = globalVars.body.backgroundImage;\n    const root = style(\n        {\n            display: !image ? \"none\" : \"block\",\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            width: percent(100),\n            height: viewHeight(100),\n            zIndex: -1,\n        },\n        background(image),\n    );\n\n    return { root };\n});\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { bodyClasses, bodyCSS } from \"@library/layout/bodyStyles\";\n\n/**\n * Creates a drop down menu\n */\nexport default class Backgrounds extends React.Component {\n    public render() {\n        bodyCSS(); // set styles on body tag\n\n        // Make a backwards compatible body background (absolute positioned).\n        const classes = bodyClasses();\n        return <div className={classes.root} />;\n    }\n}\n","/*\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { absolutePosition, flexHelper, ISpinnerProps, spinnerLoader, unit } from \"@library/styles/styleHelpers\";\nimport { globalVariables } from \"@library/styles/globalStyleVars\";\nimport { TLength } from \"typestyle/lib/types\";\nimport { styleFactory, useThemeCache, variableFactory } from \"@library/styles/styleUtils\";\nimport { percent } from \"csx\";\n\nexport const loaderVariables = useThemeCache(() => {\n    const globalVars = globalVariables();\n    const makeThemeVars = variableFactory(\"loader\");\n\n    const colors = makeThemeVars(\"colors\", {\n        fg: globalVars.mainColors.primary,\n    });\n\n    const fullPage: ISpinnerProps = makeThemeVars(\"fullPage\", {\n        size: 100,\n        thickness: 6,\n        color: colors.fg,\n    });\n\n    const medium: ISpinnerProps = makeThemeVars(\"medium\", {\n        size: 50,\n        thickness: 4,\n        color: colors.fg,\n    });\n\n    const small: ISpinnerProps = makeThemeVars(\"small\", {\n        size: 36,\n        thickness: 4,\n        color: colors.fg,\n    });\n\n    return { fullPage, small, medium };\n});\n\nexport const loaderClasses = useThemeCache(() => {\n    const vars = loaderVariables();\n    const flex = flexHelper();\n    const style = styleFactory(\"loader\");\n    const fullPageLoader = style(\"fullPageLoader\", {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        margin: \"auto\",\n        height: unit(vars.fullPage.size),\n        width: unit(vars.fullPage.size),\n        $nest: {\n            \"&:after\": {\n                ...spinnerLoader(vars.fullPage),\n            },\n        },\n        zIndex: 1,\n    });\n    const mediumLoader = style(\"mediumLoader\", {\n        ...absolutePosition.fullSizeOfParent(),\n        ...flex.middle(),\n        height: percent(100),\n        width: percent(100),\n        $nest: {\n            \"&:after\": {\n                ...spinnerLoader(vars.medium),\n            },\n        },\n    });\n    const smallLoader = style(\"smallLoader\", {\n        ...flex.middle(),\n        height: percent(46),\n        width: percent(46),\n        margin: \"auto\",\n        $nest: {\n            \"&:after\": {\n                ...spinnerLoader(vars.small),\n            },\n        },\n    });\n\n    const loaderContainer = (size: TLength) => {\n        return style({\n            position: \"relative\",\n            display: \"block\",\n            margin: \"auto\",\n            height: unit(size),\n            width: unit(size),\n        });\n    };\n\n    return {\n        fullPageLoader,\n        mediumLoader,\n        smallLoader,\n        loaderContainer,\n    };\n});\n","/**\n * @author Stphane LaFlche <stephane.l@vanillaforums.com>\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { unit } from \"@library/styles/styleHelpers\";\nimport { TLength } from \"typestyle/lib/types\";\nimport { t } from \"@library/utility/appUtils\";\nimport { loaderClasses } from \"@library/loaders/loaderStyles\";\nimport ScreenReaderContent from \"@library/layout/ScreenReaderContent\";\nimport { style } from \"typestyle\";\nimport { PaddingProperty } from \"csstype\";\nimport ConditionalWrap from \"@library/layout/ConditionalWrap\";\n\ninterface IProps {\n    minimumTime?: number;\n    loaderStyleClass?: string;\n    height?: number;\n    width?: number;\n    padding?: PaddingProperty<TLength>;\n    small?: boolean;\n}\n\ninterface IState {\n    showLoader: boolean;\n}\n\n/**\n * A smart loading component. Takes up the full page and only displays in certain scenarios.\n */\nexport default class Loader extends React.Component<IProps, IState> {\n    public state: IState = {\n        showLoader: false,\n    };\n\n    public render() {\n        if (this.props.minimumTime && this.props.minimumTime > 0 && !this.state.showLoader) {\n            return null;\n        }\n        const styleClass = this.props.small\n            ? loaderClasses().smallLoader\n            : this.props.loaderStyleClass || loaderClasses().fullPageLoader;\n\n        return (\n            <React.Fragment>\n                <ConditionalWrap\n                    condition={!!this.props.padding}\n                    className={style({ padding: unit(this.props.padding) })}\n                >\n                    <div className={styleClass} aria-hidden=\"true\" />\n                    <ScreenReaderContent>\n                        <p>{t(\"Loading\")}</p>\n                    </ScreenReaderContent>\n                </ConditionalWrap>\n            </React.Fragment>\n        );\n    }\n\n    private timeout: NodeJS.Timeout;\n\n    public componentDidMount() {\n        const duration = this.props.minimumTime || 150;\n        this.timeout = setTimeout(() => {\n            this.setState({ showLoader: true });\n        }, duration);\n    }\n\n    public componentWillUnmount() {\n        this.timeout && clearTimeout(this.timeout);\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport getStore from \"@library/redux/getStore\";\nimport WebFont from \"webfontloader\";\n\nconst defaultFontConfig: WebFont.Config = {\n    google: {\n        families: [\"Open Sans:400,400italic,600,700\"],\n    },\n};\n\nexport function loadThemeFonts() {\n    const state = getStore().getState();\n    const assets = state.theme.assets.data || {};\n    const { fonts } = assets;\n\n    if (fonts && fonts.length > 0) {\n        const webFontConfig: WebFont.Config = {\n            custom: {\n                families: fonts.map(font => font.name),\n                urls: fonts.map(font => font.url),\n            },\n        };\n\n        if (webFontConfig.custom && webFontConfig.custom.urls && webFontConfig.custom.urls.length > 0) {\n            WebFont.load(webFontConfig);\n        }\n    } else {\n        // If the theme has no font config of its own, load the default.\n        WebFont.load(defaultFontConfig);\n    }\n}\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport { LoadStatus } from \"@library/@types/api/core\";\nimport apiv2 from \"@library/apiv2\";\nimport Backgrounds from \"@library/layout/Backgrounds\";\nimport { inputClasses } from \"@library/forms/inputStyles\";\nimport Loader from \"@library/loaders/Loader\";\nimport { prepareShadowRoot } from \"@vanilla/dom-utils\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport ThemeActions from \"@library/theming/ThemeActions\";\nimport { IThemeVariables } from \"@library/theming/themeReducer\";\nimport React, { Children } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadThemeFonts } from \"./loadThemeFonts\";\n\nexport interface IWithThemeProps {\n    theme: IThemeVariables;\n}\n\nclass BaseThemeProvider extends React.Component<IProps> {\n    public render() {\n        const { assets } = this.props;\n        if (this.props.disabled) {\n            return this.props.children;\n        }\n        if (this.props)\n            switch (assets.status) {\n                case LoadStatus.PENDING:\n                case LoadStatus.LOADING:\n                    return <Loader />;\n                case LoadStatus.ERROR:\n                    return this.props.errorComponent;\n            }\n\n        if (!assets.data) {\n            return null;\n        }\n\n        if (this.props.variablesOnly) {\n            return this.props.children;\n        }\n\n        // Apply kludged input text styling everywhere.\n        inputClasses().applyInputCSSRules();\n\n        return (\n            <>\n                <Backgrounds />\n                {this.props.children}\n            </>\n        );\n    }\n\n    public componentDidMount() {\n        if (this.props.disabled) {\n            return;\n        }\n        void this.props.requestData();\n\n        if (this.props.variablesOnly) {\n            return;\n        }\n\n        const themeHeader = document.getElementById(\"themeHeader\");\n        const themeFooter = document.getElementById(\"themeFooter\");\n\n        if (themeHeader) {\n            prepareShadowRoot(themeHeader, true);\n        }\n\n        if (themeFooter) {\n            prepareShadowRoot(themeFooter, true);\n        }\n\n        loadThemeFonts();\n    }\n}\n\ninterface IOwnProps {\n    children: React.ReactNode;\n    themeKey: string;\n    errorComponent: React.ReactNode;\n    variablesOnly?: boolean;\n    disabled?: boolean;\n}\n\ntype IProps = IOwnProps & ReturnType<typeof mapStateToProps> & ReturnType<typeof mapDispatchToProps>;\n\nfunction mapStateToProps(state: ICoreStoreState, ownProps: IOwnProps) {\n    return {\n        assets: state.theme.assets,\n    };\n}\n\nfunction mapDispatchToProps(dispatch: any, ownProps: IOwnProps) {\n    const themeActions = new ThemeActions(dispatch, apiv2);\n    return {\n        requestData: () => themeActions.getAssets(ownProps.themeKey),\n    };\n}\n\nexport const ThemeProvider = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(BaseThemeProvider);\n","/**\n * @copyright 2009-2019 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\nimport { DeviceProvider } from \"@library/layout/DeviceContext\";\nimport { FontSizeCalculatorProvider } from \"@library/layout/pageHeadingContext\";\nimport { ScrollOffsetProvider } from \"@library/layout/ScrollOffsetContext\";\nimport getStore from \"@library/redux/getStore\";\nimport { ICoreStoreState } from \"@library/redux/reducerRegistry\";\nimport { ThemeProvider } from \"@library/theming/ThemeProvider\";\nimport { getMeta } from \"@library/utility/appUtils\";\nimport React, { useMemo } from \"react\";\nimport { LiveAnnouncer } from \"react-aria-live\";\nimport { Provider } from \"react-redux\";\nimport { inheritHeightClass } from \"@library/styles/styleHelpers\";\nimport classNames from \"classnames\";\nimport { style } from \"typestyle\";\nimport { percent } from \"csx\";\nimport { LocaleProvider } from \"@vanilla/i18n\";\n\ninterface IProps {\n    children: React.ReactNode;\n    variablesOnly?: boolean;\n    noTheme?: boolean;\n    errorComponent?: React.ReactNode;\n}\n\n/**\n * Core provider set for running most Vanilla components.\n */\nexport function AppContext(props: IProps) {\n    const store = useMemo(() => getStore<ICoreStoreState>(), []);\n\n    const rootStyle = style({\n        $debugName: \"appContext\",\n        width: percent(100),\n    });\n\n    return (\n        <div className={classNames(\"js-appContext\", rootStyle, inheritHeightClass())}>\n            {/* A wrapper div is required or will cause error when no routes match or in hot reload */}\n            <Provider store={store}>\n                <LocaleProvider>\n                    <LiveAnnouncer>\n                        <ThemeProvider\n                            disabled={props.noTheme}\n                            errorComponent={props.errorComponent || null}\n                            themeKey={getMeta(\"ui.themeKey\", \"keystone\")}\n                            variablesOnly={props.variablesOnly}\n                        >\n                            <FontSizeCalculatorProvider>\n                                <ScrollOffsetProvider scrollWatchingEnabled={false}>\n                                    <DeviceProvider>{props.children}</DeviceProvider>\n                                </ScrollOffsetProvider>\n                            </FontSizeCalculatorProvider>\n                        </ThemeProvider>\n                    </LiveAnnouncer>\n                </LocaleProvider>\n            </Provider>\n        </div>\n    );\n}\n"],"sourceRoot":""}