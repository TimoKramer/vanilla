var vanillaforum=(window.webpackJsonpvanillaforum=window.webpackJsonpvanillaforum||[]).push([[3],{119:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n(54),o=n(7),c=n(1),i=n(4),s=n(3),u=n(15);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
/*
 * @author St√©phane LaFl√®che <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var b=Object(i.c)((function(){var e=Object(a.b)(),t=Object(o.b)();return{noRoomForMenuOnLeft:function(n){return Object(u.d)({maxWidth:Object(c.F)(e.dimensions.maxEmbedWidth+2*t.buttonIcon.size+t.gutter.half)},n)}}})),f=Object(i.c)((function(){var e=Object(i.b)("imageEmbedMenu"),t=(Object(a.b)(),Object(o.b)()),n=e({marginRight:"auto"}),r=e("form",{display:"block",width:Object(s.h)(100)}),u=b(),l=e("imageContainer",{position:"relative"},u.noRoomForMenuOnLeft({marginTop:Object(c.F)(t.buttonIcon.size)})),f=e("paragraph",{$nest:{"&&":d({},Object(c.v)({all:0,top:Object(c.o)(t.gutter.quarter)}),{},Object(c.n)({weight:t.fonts.weights.normal,lineHeight:t.lineHeights.base,color:t.meta.colors.fg,size:t.fonts.size.medium,align:"left"}))}}),h=e("verticalPadding",d({},Object(c.v)({vertical:Object(c.F)(t.gutter.half)}))),p=Object(c.F)(t.buttonIcon.size),m=Object(c.F)((t.buttonIcon.size-t.icon.sizes.default)/2);return{root:n,form:r,imageContainer:l,paragraph:f,verticalPadding:h,embedMetaDataMenu:e("embedMetaDataMenu",d({},c.a.topLeft(),{width:t.buttonIcon.size,height:t.buttonIcon.size,transform:"translateX(-".concat(p,") translateY(-").concat(m,")"),zIndex:1}),u.noRoomForMenuOnLeft({transform:"translateX(-".concat(m,") translateY(-").concat(p,")")}))}}))},16:function(e,t,n){"use strict";var r=n(35),a=/^image\/(gif|jpe?g|png)/i;
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function o(e){return!!a.test(e.type)||(Object(r.b)("Filtered out non-image file: ",e.name),!1)}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function c(e,t){var n=function e(t,n){return n?e(n,t%n):t}(e,t);return{numerator:e/=n,denominator:t/=n,shorthand:t+":"+e}}
/**
 * Utility functions related to promises/async.
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * Utilities related to strings.
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function i(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)}),0)}function s(e,t){var n=t&&t.allowMultipleDashes?/[\s]+/g:/[-\s]+/g;return e.normalize("NFD").replace(/[^\w\s$*_+~.()'"\-!:@]/g,"").trim().replace(n,"-").toLocaleLowerCase()}function u(e,t){var n=e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),r=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=n.split(new RegExp("(".concat(r,")"),"i")),o=0;return a.map((function(t){var n=o;return o+=t.length,e.substring(n,o)}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.split("\n"),a=r[r.length-1];function o(e){var t='[^"\\u0000-\\u001f\\u007f-\\u009f\\u2028';return e&&(t+="\\s"),t+="]"}var c='@("('+o(!1)+'+?)"?|('+o(n)+'+?)"?)(?:\\n|$)';t&&(c="(?:^|\\s)"+c);var i=new RegExp(c,"gi").exec(a);return i?{rawMatch:i[0],match:i[2]||i[1]}:null}var d,b=/^(http:\/\/|https:\/\/|tel:|mailto:\/\/|\/)/;function f(e){return e.match(b)?e:"unsafe:"+e}function h(e,t){var n={},r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value;t in s&&(s[t]in n||(n[s[t]]=[]),n[s[t]].push(s))}}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}!function(e){e.IOS="ios",e.ANDROID="android",e.UNKNOWN="unkwown"}(d||(d={})),n.d(t,"a",(function(){return r.a})),n.d(t,"e",(function(){return r.b})),n.d(t,"f",(function(){return r.c})),n.d(t,"g",(function(){return r.d})),n.d(t,"d",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return h}))},166:function(e,t,n){"use strict";
/*
 * @author St√©phane LaFl√®che <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function r(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return{top:e?void 0:"100%",right:t?"0":void 0,bottom:e?"100%":void 0,left:t?void 0:"0"}}n.d(t,"a",(function(){return r}))},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(14),a=n(0),o=n.n(a),c="isEditorWalledEvent",i="editorEventWall";function s(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("click",u),e.addEventListener("mouseup",u),e.addEventListener("mousedown",u),e.addEventListener("keydown",u),function(){e.removeEventListener("click",u),e.removeEventListener("mouseup",u),e.removeEventListener("mousedown",u),e.removeEventListener("keydown",u)}}),[t]),o.a.createElement("div",Object(r.a)({ref:t},e,{onClick:function(e){e.preventDefault()},className:i}))}var u=function(e){e[c]=!0};function l(e){return!!e[c]}},168:function(e,t,n){var r={"./en-SG":101,"./en-SG.js":101,"./en-au":102,"./en-au.js":102,"./en-ca":103,"./en-ca.js":103,"./en-gb":104,"./en-gb.js":104,"./en-ie":105,"./en-ie.js":105,"./en-il":106,"./en-il.js":106,"./en-nz":107,"./en-nz.js":107};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=168},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(20),a=n(154),o=n(58),c=n(21),i=n(76),s=n(41),u=n(47),l=n(177),d=n(176),b=n(5),f=n(167),h=n(119),p=n(6),m=n.n(p),O=n(0),v=n.n(O),j=n(30);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function g(e){var t=Object(h.a)(),n=Object(s.i)(),p=Object(O.useState)(e.initialAlt),g=Object(r.a)(p,2),E=g[0],y=g[1],w=Object(u.c)(),S=Object(O.useState)(!1),k=Object(r.a)(S,2),C=k[0],N=k[1],P=Object(O.useRef)(null),T=Object(O.useCallback)((function(e){e&&(e.stopPropagation(),e.preventDefault(),y(e.target.value||""))}),[]),D=e.onVisibilityChange,I=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];N(t),D(t),n&&!t&&y(e.initialAlt)},R=Object(j.d)(C);Object(O.useEffect)((function(){!R&&C&&P.current&&P.current&&P.current.focus()}),[R,C,P,D,y,e.initialAlt]);var x=function(){e.onSave({alt:E}),I(!1,!1)};return v.a.createElement("div",{className:m()(t.root,"u-excludeFromPointerEvents",t.embedMetaDataMenu,e.className)},v.a.createElement(f.a,null,v.a.createElement(a.b,{title:Object(b.j)("Alt Text"),buttonContents:n,className:m()("u-excludeFromPointerEvents"),onVisibilityChange:I,isVisible:C,openAsModal:w===u.b.MOBILE||w===u.b.XS,flyoutType:a.a.FRAME},v.a.createElement("form",{className:t.form},v.a.createElement(l.a,{className:t.verticalPadding},v.a.createElement(i.a,{label:Object(b.j)("Alternative text helps users with accessibility concerns and improves SEO."),labelClassName:t.paragraph,inputProps:{required:!0,value:E,onChange:T,inputRef:P,placeholder:Object(b.j)("Example: Image of a Coffee"),onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),x())}}})),v.a.createElement(d.a,{justifyRight:!0},v.a.createElement(o.a,{baseClass:c.a.TEXT_PRIMARY,onClick:function(e){e.preventDefault(),e.stopPropagation(),x()}},Object(b.j)("Save")))))))}},228:function(e,t,n){n(90),e.exports=n(353)},23:function(e,t,n){"use strict";n(169);var r=n(122),a=n.n(r);var o=new WeakMap;function c(e,t,n){var r=o.has(e)?o.get(e):{};r[t]=n,o.set(e,r)}function i(e,t,n){if(o.has(e)&&o.get(e)[t])return o.get(e)[t];var r="data-".concat(t);return e.hasAttribute(r)?e.getAttribute(r):n}var s=n(123),u=n.n(s),l=null;function d(){if(null!==l)return l;var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=document.createElement("canvas").getContext("2d");t?(t.fillText("üòó",-2,4),l=t.getImageData(0,0,1,1).data[3]>0):l=!1}else l=!1;return l}var b={className:"fallBackEmoji",size:"72x72"};function f(e){return d()?e:u.a.parse(e,b)}var h=n(8),p=n(2),m=function e(t,n,r){var a=this;Object(h.a)(this,e),this.root=t,this.returnElement=n,this.callback=r,Object(p.a)(this,"start",(function(){a.root.addEventListener("keydown",a.keydownListener)})),Object(p.a)(this,"stop",(function(){a.root.removeEventListener("keydown",a.keydownListener)})),Object(p.a)(this,"keydownListener",(function(e){"Escape"===e.key&&a.root.contains(document.activeElement)&&(e.preventDefault(),a.returnElement&&a.returnElement.focus(),a.callback&&a.callback(e))}))},O=n(16),v={};function j(e,t,n,r){var a,o=e+t+n.toString();if("string"==typeof r){if(!(a=document.querySelector(r)))throw new Error("Unable to find element in the document for scopeSelector: ".concat(r));o+=r}else a=r instanceof HTMLElement?r:document;var c=Object(O.b)(o).toString();if(!Object.keys(v).includes(c)){var i=function(e){var r=t?e.target.closest(t):e.target;if(r)return n.call(r,e,r)};a.addEventListener(e,i),v[c]={scope:a,eventName:e,wrappedCallback:i}}return c}function g(e){var t=v[e],n=t.scope,r=t.eventName,a=t.wrappedCallback;n.removeEventListener(r,a),delete v[e]}function E(e){if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length)return e.preventDefault(),e.dataTransfer.files}function y(e){if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var t=Array.from(e.clipboardData.items).map((function(e){return e.getAsFile?e.getAsFile():null})).filter(Boolean);if(t.length>0)return e.preventDefault(),t[0]}}var w=n(9),S=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.rootNode=t,this.changeHandler=n,Object(p.a)(this,"start",(function(){r.rootNode.addEventListener("focusout",r.handleFocusOut,!0),r.rootNode.addEventListener("focusin",r.handleFocusIn,!0),document.addEventListener("click",r.handleClick)})),Object(p.a)(this,"stop",(function(){r.rootNode.removeEventListener("focusout",r.handleFocusOut,!0),r.rootNode.removeEventListener("focusin",r.handleFocusIn,!0),document.removeEventListener("click",r.handleClick)})),Object(p.a)(this,"handleFocusOut",(function(e){r.checkDomTreeHasFocus(e,r.changeHandler)})),Object(p.a)(this,"handleFocusIn",(function(e){r.checkDomTreeHasFocus(e,r.changeHandler)})),Object(p.a)(this,"handleClick",(function(e){var t=e.target;r.checkDomTreeWasClicked(t)||r.changeHandler(!1)}))}return Object(w.a)(e,[{key:"checkDomTreeWasClicked",value:function(e){return this.rootNode&&e&&(this.rootNode.contains(e)||this.rootNode===e)}},{key:"checkDomTreeHasFocus",value:function(e,t){var n=this;setTimeout((function(){for(var r=null,a=0,o=[document.activeElement,e.relatedTarget,e.explicitOriginalTarget];a<o.length;a++){var c=o[a];if(c&&c!==document.body){r=c;break}}if(null!==r){var i=n.rootNode&&r&&(r===n.rootNode||n.rootNode.contains(r));t(!!i)}}),0)}}]),e}();
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function k(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}function C(e){if("string"==typeof e&&(e=document.querySelector(e)),!(e instanceof HTMLElement))throw new Error("HTMLElement could not be found for ".concat(e,"."));return e}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var N=new WeakMap,P=new Map;function T(e){return new Promise((function(t,n){var r=document.querySelector("script[src='".concat(e,"']"));if(P.has(e)&&n(P.get(e)),r&&N.has(r)){var a=N.get(r);a&&a.push(t)}else{var o=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.src=e,c.onerror=function(t){var r=new Error("Failed to load a required embed script");P.set(e,r),n(r)};var i=setTimeout((function(){var t=new Error("Loading of the script ".concat(e," has timed out."));P.set(e,t),n(t)}),1e4);N.set(c,[t]),c.onload=function(e){clearTimeout(i);var t=N.get(c);t&&t.forEach((function(t){return t(e)})),N.delete(c)},o.appendChild(c)}}))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",r=e.innerHTML;if(function(){var e=document.createElement("noscript");e.innerHTML="<test></test>",document.body.append(e);var t=e.innerHTML.startsWith("&lt;");return e.remove(),t}()&&(r=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.childNodes[0];return n&&n.nodeValue?n.nodeValue:""}(r)),t){var a=document.createElement(n);a.classList.value=e.classList.value,a.id=e.id,e.parentNode.insertBefore(a,e),e.remove(),e=a}else e.innerHTML="";e.attachShadow({mode:"open"}).innerHTML=r}var I=n(82),R=n.n(I),x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(h.a)(this,e),this.excludedElements=r,this.excludedRoots=a,Object(p.a)(this,"tabbableElements",void 0),Object(p.a)(this,"createExcludeFilterWithExemption",(function(e){return function(n){if(!(e===n||n.contains(e))){if(t.excludedElements.includes(n))return!1;var r=!0,a=!1,o=void 0;try{for(var c,i=t.excludedRoots[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value;if(s!==n&&s.contains(n))return!1}}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}}return!0}})),Object(p.a)(this,"filterAllExcluded",(function(e){if(t.excludedElements.includes(e))return!1;var n=!0,r=!1,a=void 0;try{for(var o,c=t.excludedRoots[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var i=o.value;if(i!==e&&i.contains(e))return!1}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return!0})),this.tabbableElements=R()(n)}return Object(w.a)(e,null,[{key:"isTabbable",value:function(e){return R()(e.parentNode).includes(e)}}]),Object(w.a)(e,[{key:"getNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(e instanceof HTMLElement))return Object(O.f)("Unable to tab to next element, `fromElement` given is not valid: ",e),null;var r=this.tabbableElements.filter(this.createExcludeFilterWithExemption(e)),a=r.indexOf(e);if(a<0)return null;var o=t?a-1:a+1;return n&&(o<0?o=r.length-1:o>=r.length&&(o=0)),r[o]||null}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;return e instanceof HTMLElement?this.tabbableElements.filter(this.createExcludeFilterWithExemption(e)):(Object(O.f)("Unable to tab to next element, `fromElement` given is not valid: ",e),null)}},{key:"getInitial",value:function(){var e=this.tabbableElements.filter(this.filterAllExcluded);return e.length>0?e[0]:null}},{key:"getLast",value:function(){var e=this.tabbableElements.filter(this.filterAllExcluded);return e.length>0?e[e.length-1]:null}}]),e}();n.d(t,"o",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"l",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return j})),n.d(t,"n",(function(){return g})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"h",(function(){return k})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return T})),n.d(t,"m",(function(){return D})),n.d(t,"c",(function(){return x})),
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
a.a.polyfill()},30:function(e,t,n){"use strict";var r=n(8),a=n(9),o=n(11),c=n(10),i=n(13),s=n(12),u=n(2),l=n(0),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s))),Object(u.a)(Object(i.a)(n),"hoverTimeout",void 0),Object(u.a)(Object(i.a)(n),"hasExecuted",!1),Object(u.a)(Object(i.a)(n),"handleHover",(function(e){n.hasExecuted&&n.props.once||(n.hasExecuted=!0,n.props.onHover&&n.props.onHover(e))})),Object(u.a)(Object(i.a)(n),"mouseEnterHandler",(function(e){n.hoverTimeout=setTimeout((function(){n.handleHover(e)}),n.props.duration)})),Object(u.a)(Object(i.a)(n),"mouseLeaveHandler",(function(e){n.dismissTimeout()})),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return this.props.children({onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout()}},{key:"dismissTimeout",value:function(){this.hasExecuted=!1,this.hoverTimeout&&clearTimeout(this.hoverTimeout)}}]),t}(n.n(l).a.Component);Object(u.a)(d,"defaultProps",{once:!0});var b=n(50),f=n.n(b),h=n(15);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function p(e,t,n,r){var a,o=t;if(r&&r.overwrite){var c=document.createElement("span");a=c,t.parentElement.insertBefore(c,t),o=c}f.a.render(e,o,(function(){a&&(t.remove(),a.firstElementChild&&(a.parentElement.insertBefore(a.firstElementChild,a),a.remove(),t.remove())),Object(h.b)(),n&&n()}))}var m=n(23);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function O(e){var t=e.root,n=e.returnElement,r=e.callback;Object(l.useEffect)((function(){if(null!==t&&null!==n){var e=t||document.documentElement,a=new m.a(e,n,r);return a.start(),a.stop}}),[t,n,r])}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function v(e,t,n){Object(l.useLayoutEffect)((function(){if(!n&&null!==e.current){var r=new m.b(e.current,t);return r.start(),r.stop}}),[e,t,n])}var j=n(20),g=n(124);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function E(e){var t=Object(l.useState)({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0,toJSON:function(){return""}}),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(l.useLayoutEffect)((function(){var t=null,n=new g.a((function(n){Object(j.a)(n,1)[0];t=window.requestAnimationFrame((function(){a(e.current.getBoundingClientRect())}))}));return e.current&&n.observe(e.current),function(){window.cancelAnimationFrame(t),n.disconnect()}}),[e]),r}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function y(e){var t=Object(l.useRef)();return Object(l.useEffect)((function(){t.current=e}),[e]),t.current}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function w(){var e=Object(l.useState)(null),t=Object(j.a)(e,2),n=t[0],r=t[1];if(n)throw n;return r}n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return w}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i}));
/**
 * Utility function related to logging/debugging.
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var r=!1;function a(e){return void 0!==e&&(r=e),r}function o(){var e;r&&(e=console).log.apply(e,arguments)}function c(){var e;(e=console).error.apply(e,arguments)}function i(){var e;(e=console).warn.apply(e,arguments)}},353:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),c=n(5),i=n(62),s=n(97),u=n(28),l=n(20),d=n(16),b={},f={},h=Object(c.d)("mentionMinChars",2),p=Object(c.d)("mentionSuggestionCount",5),m=30,O=Object(c.d)("emoji",{}),v=O.emoji||{},j=O.format||"",g=O.assetPath||"",E=Object.entries(v).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1],a=r.split(".");return{name:n,filename:r,basename:a[0],ext:"."+a[1]}})),y='<li data-value=":${name}:" class="at-suggest-emoji"><span class="emoji-wrap">'+j.replace(/{(.+?)}/g,"$${$1}").replace("%1$s","${src}").replace("%2$s","${name}").replace("${src}",g+"/${filename}").replace("${dir}",g)+'</span> <span class="emoji-name">${name}</span></li>';function w(e,t,n){var a=Object(d.h)(t,n);return a?(r=a.rawMatch,a.match):null}function S(e,t,n){e=e.replace(/[-[]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(e="(?:^|\\s)"+e);var r=new RegExp(e+"([A-Za-z0-9_+-]*|[^\\x00-\\xff]*)(?:\\n)?$","gi").exec(t);return r?r[2]||r[1]:null}function k(e,t){var n=t?t.contentWindow:"";$(e).atwho({at:"@",tpl:'<li data-value="@${name}" data-id="${id}">${name}</li>',limit:p,callbacks:{remote_filter:function(e,t){if((e=e||"").length>=h){for(var n=!0,r="",a=0,o=e.length;a<o;a++)if(r=e.slice(0,-a),b[r]&&b[r].length<m){f[e]=e,n=!1;break}var i=!1;for(var s in f)if(f.hasOwnProperty(s)&&null!==e.match(new RegExp("^"+s+"+"))){i=!0;break}!n||i||b[e]?t(n?b[e]:b[r]):$.getJSON(Object(c.c)("/user/tagsearch"),{q:e,limit:m},(function(n){Array.isArray(n)&&n.forEach((function(e){"object"===Object(u.a)(e)&&"string"==typeof e.name&&(e.name=e.name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),t(n),n.length?b[e]=n:f[e]=e}))}},before_insert:function(e,t){var n=t.data("value")||"";n=n.slice(1,n.length);var a=/[^\w-]/.test(n),o=/(["'])(.+)(["'])/g.test(n),c=n;return a&&!o&&(c='"'+n+'"'),/.?@(["'])/.test(r||"")||(c=this.at+c),c},highlighter:function(e,t){if(!t)return e;var n=new RegExp(">\\s*(\\w*)("+t.replace("+","\\+")+")(\\w*)\\s*(\\s+.+)?<","ig");return e.replace(n,(function(e,t,n,r,a){return void 0===r&&(r=""),void 0===a&&(a=""),"> "+t+"<strong>"+n+"</strong>"+r+a+" <"}))},matcher:w},cWindow:n}).atwho({at:":",tpl:y,insert_tpl:"${atwho-data-value}",callbacks:{matcher:S,tplEval:function(e,t){return Object(d.e)(t)}},limit:p,data:E,cWindow:n}),n&&$(n).on("reposition.atwho",(function(e,n,r){var a=r.view.$el,o=r.$inputor,c=parseInt(o.css("line-height"),10),i=$(t).offset(),s=(i?i.left:0)+n.left,u=i?i.top:0,l=0,d=r.at,b=r.query.text,f=$(".BodyBox,.js-bodybox"),h=f.css("font-size")+" "+f.css("font-family"),p=(d+b).width(h)-2;"@"===d&&(s-=p),":"===d&&(s-=2),$(a).each((function(e,t){var n=$(t).outerHeight(),r=$(t).height();n&&r&&n>0&&(l+=r+c)}));var m=$(window).height()||0,O=$(window).scrollTop()||0,v={left:s,top:u=m-(u+n.top-($(window).scrollTop()||0)-O)>=l?u+n.top+l-O:u+n.top-O};$(a).offset(v)}))}var C=n(23);
/**
 * Entrypoint for gradually replacing global.js
 *
 * At some point everything in this folder should be able to be removed (new base theme).
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */window.escapeHTML=C.h,$.fn.atwho&&(Object(c.h)((function(){return k(".BodyBox,.js-bodybox")})),Object(c.g)((function(){return k(".BodyBox,.js-bodybox")})),window.gdn.atCompleteInit=k);var N=n(98),P=n(55),T=n(2),D=n(31);function I(e,t,n,r,a){return{request:function(t){return function(e,t){return{type:e,meta:t}}(e,t)},success:function(e,n){return function(e,t,n){return{type:e,meta:t,payload:n}}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */(t,n,e)},error:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return function(e,t,n){return{type:e,meta:t,payload:n}}(n,t,e)}))}}function R(e,t,n,r){return function(a){return a(n.request(r)),D.a[e](t,r).then((function(e){return a(n.success(e,r)),e})).catch((function(e){var t=e.response?e.response.data:e;a(n.error(t))}))}}var x="GET_USER_AUTHENTICATORS_REQUEST",A="GET_USER_AUTHENTICATORS_SUCCESS",L="GET_USER_AUTHENTICATORS_ERROR",M=I(x,A,L),F=function(){return R("get","authenticate/authenticators",M,void 0)},_=n(17);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var B={status:_.a.PENDING};
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var z="POST_REQUEST_PASSWORD_REQUEST",q="POST_REQUEST_PASSWORD_ERROR",W="POST_REQUEST_PASSWORD_SUCCESS",G="AFTER_REQUEST_PASSWORD_SUCCESS_NAVIGATE",V=function(){return e=G,void 0===t?{type:e}:{type:e,payload:t};
/**
 * State utility functions.
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var e,t},Q=I(z,W,q),J=function(e){return R("post","users/request-password",Q,e)};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Y={status:_.a.PENDING};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var Z=Object(P.c)({authenticators:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return H({},e,{status:_.a.LOADING});case A:return{status:_.a.SUCCESS,data:t.payload.data,error:void 0};case L:return H({},e,{status:_.a.ERROR,error:t.payload});default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return X({},e,{status:_.a.LOADING});case W:return{status:_.a.SUCCESS,data:t.payload.data,error:void 0};case q:return X({},e,{status:_.a.ERROR,error:t.payload});case G:return Y;default:return e}}}),ee=n(8),te=n(9),ne=n(11),re=n(10),ae=n(13),oe=n(12),ce=n(57),ie=n(27);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function se(e){var t=Object(a.useMemo)((function(){var t=Object(c.d)("ui.siteName",""),n=[];return e.title&&e.title.length>0&&n.push(e.title),t.length>0&&t!==e.title&&n.push(t),n.join(" - ")}),[e.title]);return Object(a.useEffect)((function(){document.title=t}),[t]),o.a.createElement(o.a.Fragment,null,e.children?e.children:o.a.createElement("h1",null,e.title))}var ue=n(49),le=n(6),de=n.n(le),be=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=Object(ue.a)();return this.props.visible?o.a.createElement("div",{className:de()(e.labelText,"authenticateUser-divider")},Object(c.j)("or")):null}}]),t}(o.a.PureComponent);Object(T.a)(be,"defaultProps",{visible:!0});var fe=n(56),he=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){if(!this.props.ssoMethods||0===this.props.ssoMethods.length)return null;var e=this.props.ssoMethods.map((function(e,t){var n={backgroundColor:e.ui.backgroundColor||void 0,color:e.ui.foregroundColor||void 0};return o.a.createElement("a",{href:e.ui.url,key:t,className:"BigButton button Button button-sso button-fullWidth",style:n},o.a.createElement("span",{className:"button-ssoContents"},o.a.createElement("img",{src:e.ui.photoUrl||void 0,className:"ssoMethod-icon","aria-hidden":!0}),o.a.createElement("span",{className:"button-ssoLabel"},Object(c.j)(e.ui.buttonName)),o.a.createElement("span",{className:"ssoMethod-icon ssoMethod-iconSpacer","aria-hidden":"true"})))}));return o.a.createElement("div",{className:"ssoMethods"},o.a.createElement(fe.a,null,Object(c.j)("Sign in with one of the following:")),e)}}]),t}(o.a.Component),pe=n(69),me=n(76),Oe=n(1),ve=n(7),je=n(4),ge=n(32),Ee=n(3);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Object(T.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}
/*
 * @author St√©phane LaFl√®che <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Se=Object(je.c)((function(){var e=Object(ve.b)(),t=Object(ge.a)(),n=Object(je.d)("checkRadio");return{border:n("border",{width:t.border.width,radius:2,color:e.mixBgAndFg(.5)}),main:n("check",{fg:e.mainColors.bg,bg:e.mainColors.bg,checked:{fg:e.elementaryColors.white,bg:e.mainColors.primary},hover:{border:{color:e.mainColors.primary},bg:e.mainColors.primary.fade(.1),opacity:.8}}),checkBox:n("checkBox",{check:{width:10,height:10},disk:{width:6,height:6}}),radioButton:n("radioButton",{icon:{width:6,height:6}}),labelNote:n("labelNote",{fontSize:".8em",opacity:.7}),sizing:n("sizing",{width:16})}})),ke=Object(je.c)((function(){var e,t,n,r=Object(ve.b)(),a=Se(),o=Object(je.b)("checkRadio"),c=(Object(Oe.m)(),o("label",we({lineHeight:Object(Oe.F)(a.sizing.width),marginLeft:Object(Oe.F)(8),cursor:"pointer"},Object(Oe.G)()))),i=o("labelNote",{display:"inline-block",fontSize:Object(Oe.F)(a.labelNote.fontSize),marginLeft:Object(Oe.F)(24),opacity:a.labelNote.opacity,verticalAlign:"middle"}),s=o("iconContainer",we({},Object(Oe.j)("border","background","opacity"),{position:"relative",display:"inline-block",width:Object(Oe.F)(a.sizing.width),height:Object(Oe.F)(a.sizing.width),verticalAlign:Object(Ee.e)(-.18),cursor:"pointer",backgroundColor:Object(Oe.h)(a.main.bg)},Object(Oe.f)(a.border))),u=o("radioIcon",we({},Oe.a.middleLeftOfParent(),{display:"none",width:Object(Oe.F)(a.radioButton.icon.width),height:Object(Oe.F)(a.radioButton.icon.height),margin:"auto"})),l=o("checkBoxIcon",we({},Oe.a.middleOfParent(),{display:"none",width:Object(Oe.F)(a.checkBox.check.width),height:Object(Oe.F)(a.checkBox.check.height),color:a.main.fg.toString(),margin:"auto"})),d=o("disk",{borderRadius:Object(Ee.h)(50)}),b=o("state",we({},Oe.a.fullSizeOfParent(),{display:"flex",alignItems:"center",justifyContent:"center",color:a.main.checked.fg.toString()})),f=o({display:"none",width:a.checkBox.disk.width,height:a.checkBox.disk.height}),h=o("input",we({},Object(Oe.C)(),{$nest:(t={},Object(T.a)(t,"&:not([disabled]):focus, &:not([disabled]):active, &:not([disabled]).focus-visible",{$nest:Object(T.a)({},"& + .".concat(l),{borderColor:a.main.hover.border.color.toString(),opacity:a.main.hover.opacity,backgroundColor:a.main.hover.bg.toString()})}),Object(T.a)(t,"&:checked + .".concat(s),{backgroundColor:Object(Ee.f)(a.main.checked.bg.toString()),borderColor:a.main.checked.fg.toString(),$nest:(e={},Object(T.a)(e,"& .".concat(l),{display:"block"}),Object(T.a)(e,"& .".concat(f),{display:"block"}),e)}),Object(T.a)(t,"&.isDisabled, &[disabled]",{$nest:Object(T.a)({"&:not(:checked)":{$nest:Object(T.a)({},"& + .".concat(l),{backgroundColor:a.main.bg.toString()})}},"& ~ .".concat(c,", & + .").concat(l),we({},Object(Oe.k)()))}),t)}));return{root:o({display:Object(Ee.f)("flex"),flexWrap:"wrap",alignItems:"center",whiteSpace:"nowrap",outline:0,cursor:"pointer",$nest:(n={},Object(T.a)(n,"&:hover .".concat(h,":not([disabled]) + .").concat(s),{borderColor:Object(Oe.h)(a.main.hover.border.color),backgroundColor:Object(Oe.h)(a.main.hover.bg)}),Object(T.a)(n,"&.focus-accessible .".concat(h,":not([disabled]) + .").concat(s),{borderColor:Object(Oe.h)(a.main.hover.border.color),backgroundColor:Object(Oe.h)(a.main.hover.bg)}),Object(T.a)(n,"&:focus .".concat(h,":not([disabled]) + .").concat(s),{borderColor:Object(Oe.h)(a.main.hover.border.color),backgroundColor:Object(Oe.h)(a.main.hover.bg)}),Object(T.a)(n,".".concat(h,":not([disabled]):hover + .").concat(s),{borderColor:Object(Oe.h)(a.main.hover.border.color),backgroundColor:Object(Oe.h)(a.main.hover.bg)}),Object(T.a)(n,".".concat(h,":not([disabled]):focus + .").concat(s),{borderColor:Object(Oe.h)(a.main.hover.border.color),backgroundColor:Object(Oe.h)(a.main.hover.bg)}),Object(T.a)(n,"& + &",{marginTop:Object(Ee.i)(r.spacer.size/2)}),Object(T.a)(n,"&.isHorizontal.isHorizontal.isHorizontal",Object(Oe.r)({all:0,right:Object(Ee.i)(r.spacer.size/2)})),n)}),label:c,labelNote:i,iconContainer:s,radioIcon:u,checkIcon:l,disk:d,state:b,diskIcon:f,input:h,group:o("group",{marginTop:Object(Oe.F)(r.spacer.size/2)})}}));
/**
 * @author St√©phane LaFl√®che <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Ce(e){var t=Object(ie.d)("checkbox_label"),n=ke(),r=e.isHorizontal;return o.a.createElement("label",{className:de()(e.className,n.root,{isHorizontal:r})},o.a.createElement("input",{className:n.input,"aria-labelledby":t,type:"checkbox",onChange:e.onChange,checked:e.checked,disabled:e.disabled,tabIndex:0}),o.a.createElement("span",{className:n.iconContainer,"aria-hidden":"true"},o.a.createElement("span",{className:n.state},o.a.createElement("svg",{className:de()(n.checkIcon),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10"},o.a.createElement("title",null,Object(c.j)("‚úì")),o.a.createElement("path",{fill:"currentColor",d:"M10,2.7c0-0.2-0.1-0.3-0.2-0.4L8.9,1.3c-0.2-0.2-0.6-0.2-0.9,0L3.8,5.6L1.9,3.7c-0.2-0.2-0.6-0.2-0.9,0L0.2,4.6c-0.2,0.2-0.2,0.6,0,0.9l3.2,3.2c0.2,0.2,0.6,0.2,0.9,0l5.5-5.5C9.9,3,10,2.8,10,2.7z"})))),e.label&&o.a.createElement("span",{id:t,className:n.label},e.label))}var Ne=n(58),Pe=function(e){function t(e){return Object(ee.a)(this,t),Object(ne.a)(this,Object(re.a)(t).call(this,e))}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){return o.a.createElement(Ne.a,{id:this.props.id,disabled:this.props.disabled,submit:!0,className:this.props.className,prefix:"submitButton",legacyMode:this.props.legacyMode,baseClass:this.props.baseClass,tabIndex:this.props.tabIndex},this.props.children)}}]),t}(o.a.Component);
/**
 * @author St√©phane LaFl√®che <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(T.a)(Pe,"defaultProps",{disabled:!1,legacyMode:!1});
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var Te=I("POST_AUTHENTICATE_PASSWORD_REQUEST","POST_AUTHENTICATE_PASSWORD_SUCCESS","POST_AUTHENTICATE_PASSWORD_ERROR"),De=function(e){return function(t){t(Te.request(e)),D.a.post("/authenticate/password",e).then((function(n){t(Te.success(n,e));var r=new URLSearchParams;window.location.href=Object(c.c)(r.get("target")||"/")})).catch((function(e){var n=e.response?e.response.data:e;t(Te.error(n))}))}},Ie=function(e){function t(e){var n;return Object(ee.a)(this,t),n=Object(ne.a)(this,Object(re.a)(t).call(this,e)),Object(T.a)(Object(ae.a)(n),"usernameInput",o.a.createRef()),Object(T.a)(Object(ae.a)(n),"passwordInput",o.a.createRef()),Object(T.a)(Object(ae.a)(n),"handleCheckBoxChange",(function(e){n.setState({rememberMe:e.target.checked||!1})})),Object(T.a)(Object(ae.a)(n),"handleUsernameChange",(function(e){var t=e.target.value;n.setState({username:t})})),Object(T.a)(Object(ae.a)(n),"handlePasswordChange",(function(e){var t=e.target.value;n.setState({password:t})})),Object(T.a)(Object(ae.a)(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state,r=t.username,a=t.password,o=t.rememberMe;n.props.authenticate({username:r,password:a,persist:o})})),n.state={id:Object(ie.b)(e,"passwordForm"),rememberMe:!0,username:"",password:""},n}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e,t=Object(D.c)(this.props.passwordState.error,["username","password"]),n=Object(ue.a)();return t&&(e=this.formDescriptionID),o.a.createElement("form",{id:this.state.id,"aria-describedby":e,className:"passwordForm",method:"post",onSubmit:this.handleSubmit,noValidate:!0},o.a.createElement(fe.a,{id:this.formDescriptionID,className:"authenticateUser-paragraph",isError:!0},"globalErrorMessage"),o.a.createElement(me.a,{label:Object(c.j)("Email/Username"),errors:Object(D.b)(this.props.passwordState.error,"username"),ref:this.usernameInput,inputProps:{required:!0,disabled:!this.allowEdit,onChange:this.handleUsernameChange,defaultValue:this.props.defaultUsername||"",value:this.state.username}}),o.a.createElement(me.a,{label:Object(c.j)("Password"),ref:this.passwordInput,errors:Object(D.b)(this.props.passwordState.error,"password"),inputProps:{required:!0,disabled:!this.allowEdit,type:"password",onChange:this.handlePasswordChange,value:this.state.password}}),o.a.createElement("div",{className:de()(n.root)},o.a.createElement("div",{className:"rememberMeAndForgot"},o.a.createElement("span",{className:"rememberMeAndForgot-rememberMe"},o.a.createElement(Ce,{label:Object(c.j)("Keep me signed in"),onChange:this.handleCheckBoxChange,checked:this.state.rememberMe})),o.a.createElement("span",{className:"rememberMeAndForgot-forgot"},o.a.createElement(pe.a,{to:"/authenticate/recoverpassword"},Object(c.j)("Forgot your password?"))))),o.a.createElement(Pe,{disabled:!this.allowSubmit,legacyMode:!0},Object(c.j)("Sign In")))}},{key:"componentDidUpdate",value:function(e){this.props.passwordState!==e.passwordState&&(Object(D.b)(this.props.passwordState.error,"username")?this.usernameInput.current.select():Object(D.b)(this.props.passwordState.error,"password")?this.passwordInput.current.select():this.usernameInput.current.select())}},{key:"allowEdit",get:function(){return this.props.passwordState.status!==_.a.LOADING}},{key:"allowSubmit",get:function(){var e=this.state,t=e.username,n=e.password;return t.length>0&&n.length>0}},{key:"formDescriptionID",get:function(){return this.state.id+"-description"}}]),t}(o.a.Component);var Re=Object(ce.b)((function(e){return{passwordState:e.authenticate.password}}),(function(e){return{authenticate:function(t){e(De(t))}}}))(Object(i.f)(Ie)),xe=function(e){function t(e){var n;return Object(ee.a)(this,t),n=Object(ne.a)(this,Object(re.a)(t).call(this,e)),Object(T.a)(Object(ae.a)(n),"pageTitleID",void 0),n.state={id:Object(ie.b)(e,"SignInPage")},n}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.props.authenticatorState.status===_.a.PENDING&&this.props.loadAuthenticators()}},{key:"render",value:function(){var e=this.props.authenticatorState;if(e.status!==_.a.SUCCESS)return null;var t=!1,n=e.data.filter((function(e){return"password"!==e.type||(t=!0,!1)}));return a.createElement("div",{id:this.state.id,className:"authenticateUserCol"},a.createElement(se,{title:Object(c.j)("Sign In")},a.createElement("h1",{id:this.titleID,className:"isCentered"},Object(c.j)("Sign In"))),a.createElement(he,{ssoMethods:n}),a.createElement(be,{visible:t&&n.length>0}),t&&a.createElement(Re,null))}},{key:"titleID",get:function(){return this.state.id+"-pageTitle"}}]),t}(a.Component);var Ae=Object(ce.b)((function(e){return{authenticatorState:e.authenticate.authenticators}}),(function(e){return{loadAuthenticators:function(){e(F())}}}))(xe),Le=function(e){function t(){var e,n;Object(ee.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Object(ne.a)(this,(e=Object(re.a)(t)).call.apply(e,[this].concat(a))),Object(T.a)(Object(ae.a)(n),"id",Object(ie.c)("PasswordPage")),n}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"authenticateUserCol"},a.createElement(se,{title:Object(c.j)("Sign In")},a.createElement("h1",{id:this.titleID,className:"isCentered"},Object(c.j)("Sign In"))),a.createElement(Re,null))}},{key:"titleID",get:function(){return this.id+"-pageTitle"}}]),t}(a.Component),Me=n(165),Fe=n.n(Me),_e=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){return o.a.createElement("p",{className:"authenticateUser-paragraph isCentered"},Object(c.j)("Remember your password?")," ",o.a.createElement(pe.a,{onClick:this.props.onClick,to:"/authenticate/signin"},Object(c.j)("Sign In")))}}]),t}(o.a.Component),Ue=function(e){function t(e){var n;return Object(ee.a)(this,t),n=Object(ne.a)(this,Object(re.a)(t).call(this,e)),Object(T.a)(Object(ae.a)(n),"id",Fe()("RecoverPasswordPage")),Object(T.a)(Object(ae.a)(n),"pageTitleID",void 0),Object(T.a)(Object(ae.a)(n),"emainInput",o.a.createRef()),Object(T.a)(Object(ae.a)(n),"handleEmailChange",(function(e){var t=e.target.value;n.setState({email:t})})),Object(T.a)(Object(ae.a)(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.email;n.props.postRequestPassword({email:t})})),n.id=n.pageTitleID=n.id+"-pageTitle",n.state={email:""},n}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=o.a.createElement(se,{title:Object(c.j)("Recover Password")},o.a.createElement("h1",{id:this.pageTitleID,className:"isCentered"},Object(c.j)("Recover Password")));return this.props.requestPasswordState.status===_.a.SUCCESS?o.a.createElement("div",{id:this.id,className:"authenticateUserCol"},e,o.a.createElement(fe.a,{className:"authenticateUser-paragraph"},Object(c.j)("A message has been sent to your email address with password reset instructions.")),o.a.createElement(_e,{onClick:this.props.onNavigateAway})):o.a.createElement("div",{className:"authenticateUserCol"},e,o.a.createElement(fe.a,{className:"authenticateUser-paragraph"},Object(c.j)("RecoverPasswordLabelCode","Enter your email to continue.")),o.a.createElement("form",{id:this.id,onSubmit:this.handleSubmit,"aria-labelledby":this.pageTitleID,noValidate:!0},o.a.createElement(fe.a,{className:"authenticateUser-paragraph",isError:!0},Object(D.c)(this.props.requestPasswordState.error,["email"])),o.a.createElement(me.a,{label:Object(c.j)("Email"),inputProps:{required:!0,value:this.state.email,onChange:this.handleEmailChange,disabled:!this.allowEdit},errors:Object(D.b)(this.props.requestPasswordState.error,"email"),ref:this.emainInput}),o.a.createElement(Pe,{disabled:!this.allowEdit||0===this.state.email.length,legacyMode:!0},Object(c.j)("Request a new password"))),o.a.createElement(_e,null))}},{key:"componentDidUpdate",value:function(e){this.props.requestPasswordState!==e.requestPasswordState&&this.props.requestPasswordState.status===_.a.ERROR&&this.emainInput.current.select()}},{key:"allowEdit",get:function(){return this.props.requestPasswordState.status!==_.a.LOADING}}]),t}(o.a.Component);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var He=Object(ce.b)((function(e){return{requestPasswordState:e.authenticate.password}}),(function(e){return{postRequestPassword:function(t){e(J(t))},onNavigateAway:function(){e(V())}}}))(Ue),$e=n(77),Be=n(71),ze=n(33),qe=n(95),We=n(39),Ge=n(86),Ve=function(e){function t(){return Object(ee.a)(this,t),Object(ne.a)(this,Object(re.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Center SplashInfo"},o.a.createElement(se,{title:this.title}),o.a.createElement("div",null,this.message))}},{key:"title",get:function(){return this.props.title||Object(Ge.sprintf)(Object(c.j)("%s Not Found"),Object(c.j)(this.props.type))}},{key:"message",get:function(){return this.props.message||Object(Ge.sprintf)(Object(c.j)("The %s you were looking for could not be found."),Object(c.j)(this.props.type.toLowerCase()))}}]),t}(o.a.PureComponent);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Qe(e){var t=e.onRouteChange,n=Object(a.useMemo)((function(){return Object(We.a)({basename:Object(c.c)("")})}),[]);Object(a.useEffect)((function(){if(t)return n.listen((function(){return t(n)}))}),[n,t]);var r=o.a.createElement(i.c,null,Qe._routes,o.a.createElement(i.a,{key:"@not-found",component:Ve}));return e.disableDynamicRouting||(r=o.a.createElement(qe.b,{linkContext:Object(c.c)(e.sectionRoot||"/",!0)},r)),o.a.createElement(i.b,{history:n},r)}Object(T.a)(Ve,"defaultProps",{type:"Page"}),Qe._routes=[],Qe.addRoutes=function(e){var t;Array.isArray(e)?(t=Qe._routes).push.apply(t,Object(ze.a)(e)):Qe._routes.push(e)};var Je=n(136),Ke=n(135);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
Object(N.b)(),Object(c.g)(N.a),Object(s.b)("authenticate",Z),Object(s.b)("notifications",(new function e(){var t=this;Object(ee.a)(this,e),Object(T.a)(this,"initialState",{notificationsByID:{data:{},status:_.a.PENDING}}),Object(T.a)(this,"reducer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments.length>1?arguments[1]:void 0;return Object(Be.a)(e,(function(e){switch(n.type){case $e.a.GET_NOTIFICATIONS_REQUEST:e.notificationsByID.status=_.a.LOADING;break;case $e.a.GET_NOTIFICATIONS_RESPONSE:e.notificationsByID.status=_.a.SUCCESS,e.notificationsByID.data={},n.payload.data.forEach((function(t){e.notificationsByID.data[t.notificationID]=t}));break;case $e.a.GET_NOTIFICATIONS_ERROR:e.notificationsByID.status=_.a.ERROR,e.notificationsByID.error=n.payload;break;case $e.a.MARK_ALL_READ_RESPONSE:var t=e.notificationsByID.data;if(t)for(var r=0,a=Object.keys(t);r<a.length;r++){t[a[r]].read=!0}}}))}))}).reducer),Qe.addRoutes([o.a.createElement(i.a,{exact:!0,path:"/authenticate/signin",component:Ae,key:"signin"}),o.a.createElement(i.a,{exact:!0,path:"/authenticate/password",component:Le,key:"password"}),o.a.createElement(i.a,{exact:!0,path:"/authenticate/recoverpassword",component:He,key:"recover"})]),Object(Ke.b)("App",(function(){return o.a.createElement(Je.a,{variablesOnly:!0},o.a.createElement(Qe,{disableDynamicRouting:!0}))}))},53:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(20),c=n(33),i="en",s=[],u=[];function l(){return s}function d(e){i=e,u.forEach((function(e){return e()}))}function b(){return i}function f(e){s=[].concat(Object(c.a)(s),Object(c.a)(e)),u.forEach((function(e){return e()}))}var h=n(16),p=a.a.createContext({locales:[],currentLocale:null});
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function m(e){var t=Object(r.useState)(l()),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(b()),d=Object(o.a)(s,2),f=d[0],m=d[1];return f||Object(h.g)("No locale loaded for <LocaleProvider />"),Object(r.useEffect)((function(){var e;i(l()),m(b()),e=function(){i(l()),m(b())},u.push(e)}),[i,m]),a.a.createElement(p.Provider,{value:{locales:c,currentLocale:f}},e.children)}var O=n(2);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var j={};function g(e){j=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}function E(e,t){return"@"===e.substr(0,1)?e.substr(1):void 0!==j[e]?j[e]:void 0!==t?t:e}var y=E;
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license Proprietary
 */n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return m}))},90:function(e,t,n){"use strict";n.r(t);var r=n(5);
/**
 * Set wepback's public path.
 * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot
 * Eg. installed in a subfolder / using Reverse Proxy.
 *
 * @author Adam Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */n.p=Object(r.b)("/dist/forum/")}},[[228,2,1,0]]]);
//# sourceMappingURL=/api/v2/sourcemaps/forum/sourcemaps/owkmw/71c0a3c6039b928b12a5