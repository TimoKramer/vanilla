(window.webpackJsonpvanillaforum=window.webpackJsonpvanillaforum||[]).push([[6],Array(23).concat([function(e,t,o){"use strict";o(169);var n=o(122),r=o.n(n);var i=new WeakMap;function a(e,t,o){var n=i.has(e)?i.get(e):{};n[t]=o,i.set(e,n)}function s(e,t,o){if(i.has(e)&&i.get(e)[t])return i.get(e)[t];var n="data-".concat(t);return e.hasAttribute(n)?e.getAttribute(n):o}var l=o(123),c=o.n(l),u=null;function h(){if(null!==u)return u;var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=document.createElement("canvas").getContext("2d");t?(t.fillText("😗",-2,4),u=t.getImageData(0,0,1,1).data[3]>0):u=!1}else u=!1;return u}var p={className:"fallBackEmoji",size:"72x72"};function d(e){return h()?e:c.a.parse(e,p)}var f=o(8),m=o(2),g=function e(t,o,n){var r=this;Object(f.a)(this,e),this.root=t,this.returnElement=o,this.callback=n,Object(m.a)(this,"start",(function(){r.root.addEventListener("keydown",r.keydownListener)})),Object(m.a)(this,"stop",(function(){r.root.removeEventListener("keydown",r.keydownListener)})),Object(m.a)(this,"keydownListener",(function(e){"Escape"===e.key&&r.root.contains(document.activeElement)&&(e.preventDefault(),r.returnElement&&r.returnElement.focus(),r.callback&&r.callback(e))}))},b=o(16),v={};function j(e,t,o,n){var r,i=e+t+o.toString();if("string"==typeof n){if(!(r=document.querySelector(n)))throw new Error("Unable to find element in the document for scopeSelector: ".concat(n));i+=n}else r=n instanceof HTMLElement?n:document;var a=Object(b.b)(i).toString();if(!Object.keys(v).includes(a)){var s=function(e){var n=t?e.target.closest(t):e.target;if(n)return o.call(n,e,n)};r.addEventListener(e,s),v[a]={scope:r,eventName:e,wrappedCallback:s}}return a}function y(e){var t=v[e],o=t.scope,n=t.eventName,r=t.wrappedCallback;o.removeEventListener(n,r),delete v[e]}function O(e){if(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length)return e.preventDefault(),e.dataTransfer.files}function S(e){if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var t=Array.from(e.clipboardData.items).map((function(e){return e.getAsFile?e.getAsFile():null})).filter(Boolean);if(t.length>0)return e.preventDefault(),t[0]}}var C=o(9),_=function(){function e(t,o){var n=this;Object(f.a)(this,e),this.rootNode=t,this.changeHandler=o,Object(m.a)(this,"start",(function(){n.rootNode.addEventListener("focusout",n.handleFocusOut,!0),n.rootNode.addEventListener("focusin",n.handleFocusIn,!0),document.addEventListener("click",n.handleClick)})),Object(m.a)(this,"stop",(function(){n.rootNode.removeEventListener("focusout",n.handleFocusOut,!0),n.rootNode.removeEventListener("focusin",n.handleFocusIn,!0),document.removeEventListener("click",n.handleClick)})),Object(m.a)(this,"handleFocusOut",(function(e){n.checkDomTreeHasFocus(e,n.changeHandler)})),Object(m.a)(this,"handleFocusIn",(function(e){n.checkDomTreeHasFocus(e,n.changeHandler)})),Object(m.a)(this,"handleClick",(function(e){var t=e.target;n.checkDomTreeWasClicked(t)||n.changeHandler(!1)}))}return Object(C.a)(e,[{key:"checkDomTreeWasClicked",value:function(e){return this.rootNode&&e&&(this.rootNode.contains(e)||this.rootNode===e)}},{key:"checkDomTreeHasFocus",value:function(e,t){var o=this;setTimeout((function(){for(var n=null,r=0,i=[document.activeElement,e.relatedTarget,e.explicitOriginalTarget];r<i.length;r++){var a=i[r];if(a&&a!==document.body){n=a;break}}if(null!==n){var s=o.rootNode&&n&&(n===o.rootNode||o.rootNode.contains(n));t(!!s)}}),0)}}]),e}();
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function E(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}function w(e){if("string"==typeof e&&(e=document.querySelector(e)),!(e instanceof HTMLElement))throw new Error("HTMLElement could not be found for ".concat(e,"."));return e}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var x=new WeakMap,k=new Map;function L(e){return new Promise((function(t,o){var n=document.querySelector("script[src='".concat(e,"']"));if(k.has(e)&&o(k.get(e)),n&&x.has(n)){var r=x.get(n);r&&r.push(t)}else{var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.src=e,a.onerror=function(t){var n=new Error("Failed to load a required embed script");k.set(e,n),o(n)};var s=setTimeout((function(){var t=new Error("Loading of the script ".concat(e," has timed out."));k.set(e,t),o(t)}),1e4);x.set(a,[t]),a.onload=function(e){clearTimeout(s);var t=x.get(a);t&&t.forEach((function(t){return t(e)})),x.delete(a)},i.appendChild(a)}}))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",n=e.innerHTML;if(function(){var e=document.createElement("noscript");e.innerHTML="<test></test>",document.body.append(e);var t=e.innerHTML.startsWith("&lt;");return e.remove(),t}()&&(n=function(e){var t=document.createElement("div");t.innerHTML=e;var o=t.childNodes[0];return o&&o.nodeValue?o.nodeValue:""}(n)),t){var r=document.createElement(o);r.classList.value=e.classList.value,r.id=e.id,e.parentNode.insertBefore(r,e),e.remove(),e=r}else e.innerHTML="";e.attachShadow({mode:"open"}).innerHTML=n}var N=o(82),T=o.n(N),R=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(f.a)(this,e),this.excludedElements=n,this.excludedRoots=r,Object(m.a)(this,"tabbableElements",void 0),Object(m.a)(this,"createExcludeFilterWithExemption",(function(e){return function(o){if(!(e===o||o.contains(e))){if(t.excludedElements.includes(o))return!1;var n=!0,r=!1,i=void 0;try{for(var a,s=t.excludedRoots[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l!==o&&l.contains(o))return!1}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}return!0}})),Object(m.a)(this,"filterAllExcluded",(function(e){if(t.excludedElements.includes(e))return!1;var o=!0,n=!1,r=void 0;try{for(var i,a=t.excludedRoots[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;if(s!==e&&s.contains(e))return!1}}catch(e){n=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw r}}return!0})),this.tabbableElements=T()(o)}return Object(C.a)(e,null,[{key:"isTabbable",value:function(e){return T()(e.parentNode).includes(e)}}]),Object(C.a)(e,[{key:"getNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!(e instanceof HTMLElement))return Object(b.f)("Unable to tab to next element, `fromElement` given is not valid: ",e),null;var n=this.tabbableElements.filter(this.createExcludeFilterWithExemption(e)),r=n.indexOf(e);if(r<0)return null;var i=t?r-1:r+1;return o&&(i<0?i=n.length-1:i>=n.length&&(i=0)),n[i]||null}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.activeElement;return e instanceof HTMLElement?this.tabbableElements.filter(this.createExcludeFilterWithExemption(e)):(Object(b.f)("Unable to tab to next element, `fromElement` given is not valid: ",e),null)}},{key:"getInitial",value:function(){var e=this.tabbableElements.filter(this.filterAllExcluded);return e.length>0?e[0]:null}},{key:"getLast",value:function(){var e=this.tabbableElements.filter(this.filterAllExcluded);return e.length>0?e[e.length-1]:null}}]),e}();o.d(t,"o",(function(){return a})),o.d(t,"i",(function(){return s})),o.d(t,"l",(function(){return h})),o.d(t,"d",(function(){return d})),o.d(t,"a",(function(){return g})),o.d(t,"e",(function(){return j})),o.d(t,"n",(function(){return y})),o.d(t,"j",(function(){return O})),o.d(t,"k",(function(){return S})),o.d(t,"b",(function(){return _})),o.d(t,"h",(function(){return E})),o.d(t,"f",(function(){return w})),o.d(t,"g",(function(){return L})),o.d(t,"m",(function(){return I})),o.d(t,"c",(function(){return R})),
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
r.a.polyfill()},,,,,,,function(e,t,o){"use strict";var n=o(8),r=o(9),i=o(11),a=o(10),s=o(13),l=o(12),c=o(2),u=o(0),h=function(e){function t(){var e,o;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return o=Object(i.a)(this,(e=Object(a.a)(t)).call.apply(e,[this].concat(l))),Object(c.a)(Object(s.a)(o),"hoverTimeout",void 0),Object(c.a)(Object(s.a)(o),"hasExecuted",!1),Object(c.a)(Object(s.a)(o),"handleHover",(function(e){o.hasExecuted&&o.props.once||(o.hasExecuted=!0,o.props.onHover&&o.props.onHover(e))})),Object(c.a)(Object(s.a)(o),"mouseEnterHandler",(function(e){o.hoverTimeout=setTimeout((function(){o.handleHover(e)}),o.props.duration)})),Object(c.a)(Object(s.a)(o),"mouseLeaveHandler",(function(e){o.dismissTimeout()})),o}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.children({onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout()}},{key:"dismissTimeout",value:function(){this.hasExecuted=!1,this.hoverTimeout&&clearTimeout(this.hoverTimeout)}}]),t}(o.n(u).a.Component);Object(c.a)(h,"defaultProps",{once:!0});var p=o(50),d=o.n(p),f=o(15);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function m(e,t,o,n){var r,i=t;if(n&&n.overwrite){var a=document.createElement("span");r=a,t.parentElement.insertBefore(a,t),i=a}d.a.render(e,i,(function(){r&&(t.remove(),r.firstElementChild&&(r.parentElement.insertBefore(r.firstElementChild,r),r.remove(),t.remove())),Object(f.b)(),o&&o()}))}var g=o(23);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function b(e){var t=e.root,o=e.returnElement,n=e.callback;Object(u.useEffect)((function(){if(null!==t&&null!==o){var e=t||document.documentElement,r=new g.a(e,o,n);return r.start(),r.stop}}),[t,o,n])}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function v(e,t,o){Object(u.useLayoutEffect)((function(){if(!o&&null!==e.current){var n=new g.b(e.current,t);return n.start(),n.stop}}),[e,t,o])}var j=o(20),y=o(124);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function O(e){var t=Object(u.useState)({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0,toJSON:function(){return""}}),o=Object(j.a)(t,2),n=o[0],r=o[1];return Object(u.useLayoutEffect)((function(){var t=null,o=new y.a((function(o){Object(j.a)(o,1)[0];t=window.requestAnimationFrame((function(){r(e.current.getBoundingClientRect())}))}));return e.current&&o.observe(e.current),function(){window.cancelAnimationFrame(t),o.disconnect()}}),[e]),n}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function S(e){var t=Object(u.useRef)();return Object(u.useEffect)((function(){t.current=e}),[e]),t.current}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function C(){var e=Object(u.useState)(null),t=Object(j.a)(e,2),o=t[0],n=t[1];if(o)throw o;return n}o.d(t,"a",(function(){return m})),o.d(t,"b",(function(){return b})),o.d(t,"c",(function(){return v})),o.d(t,"e",(function(){return O})),o.d(t,"d",(function(){return S})),o.d(t,"f",(function(){return C}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var n=o(2),r=o(54),i=o(7),a=o(1),s=o(4),l=o(3),c=o(15);function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(o,!0).forEach((function(t){Object(n.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var p=Object(s.c)((function(){var e=Object(r.b)(),t=Object(i.b)();return{noRoomForMenuOnLeft:function(o){return Object(c.d)({maxWidth:Object(a.F)(e.dimensions.maxEmbedWidth+2*t.buttonIcon.size+t.gutter.half)},o)}}})),d=Object(s.c)((function(){var e=Object(s.b)("imageEmbedMenu"),t=(Object(r.b)(),Object(i.b)()),o=e({marginRight:"auto"}),n=e("form",{display:"block",width:Object(l.h)(100)}),c=p(),u=e("imageContainer",{position:"relative"},c.noRoomForMenuOnLeft({marginTop:Object(a.F)(t.buttonIcon.size)})),d=e("paragraph",{$nest:{"&&":h({},Object(a.v)({all:0,top:Object(a.o)(t.gutter.quarter)}),{},Object(a.n)({weight:t.fonts.weights.normal,lineHeight:t.lineHeights.base,color:t.meta.colors.fg,size:t.fonts.size.medium,align:"left"}))}}),f=e("verticalPadding",h({},Object(a.v)({vertical:Object(a.F)(t.gutter.half)}))),m=Object(a.F)(t.buttonIcon.size),g=Object(a.F)((t.buttonIcon.size-t.icon.sizes.default)/2);return{root:o,form:n,imageContainer:u,paragraph:d,verticalPadding:f,embedMetaDataMenu:e("embedMetaDataMenu",h({},a.a.topLeft(),{width:t.buttonIcon.size,height:t.buttonIcon.size,transform:"translateX(-".concat(m,") translateY(-").concat(g,")"),zIndex:1}),c.noRoomForMenuOnLeft({transform:"translateX(-".concat(g,") translateY(-").concat(m,")")}))}}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function n(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return{top:e?void 0:"100%",right:t?"0":void 0,bottom:e?"100%":void 0,left:t?void 0:"0"}}o.d(t,"a",(function(){return n}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return u}));var n=o(14),r=o(0),i=o.n(r),a="isEditorWalledEvent",s="editorEventWall";function l(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("click",c),e.addEventListener("mouseup",c),e.addEventListener("mousedown",c),e.addEventListener("keydown",c),function(){e.removeEventListener("click",c),e.removeEventListener("mouseup",c),e.removeEventListener("mousedown",c),e.removeEventListener("keydown",c)}}),[t]),i.a.createElement("div",Object(n.a)({ref:t},e,{onClick:function(e){e.preventDefault()},className:s}))}var c=function(e){e[a]=!0};function u(e){return!!e[a]}},function(e,t,o){var n={"./en-SG":101,"./en-SG.js":101,"./en-au":102,"./en-au.js":102,"./en-ca":103,"./en-ca.js":103,"./en-gb":104,"./en-gb.js":104,"./en-ie":105,"./en-ie.js":105,"./en-il":106,"./en-il.js":106,"./en-nz":107,"./en-nz.js":107};function r(e){var t=i(e);return o(t)}function i(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=168},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return y}));var n=o(20),r=o(154),i=o(58),a=o(21),s=o(76),l=o(41),c=o(47),u=o(177),h=o(176),p=o(5),d=o(167),f=o(119),m=o(6),g=o.n(m),b=o(0),v=o.n(b),j=o(30);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function y(e){var t=Object(f.a)(),o=Object(l.i)(),m=Object(b.useState)(e.initialAlt),y=Object(n.a)(m,2),O=y[0],S=y[1],C=Object(c.c)(),_=Object(b.useState)(!1),E=Object(n.a)(_,2),w=E[0],x=E[1],k=Object(b.useRef)(null),L=Object(b.useCallback)((function(e){e&&(e.stopPropagation(),e.preventDefault(),S(e.target.value||""))}),[]),I=e.onVisibilityChange,N=function(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];x(t),I(t),o&&!t&&S(e.initialAlt)},T=Object(j.d)(w);Object(b.useEffect)((function(){!T&&w&&k.current&&k.current&&k.current.focus()}),[T,w,k,I,S,e.initialAlt]);var R=function(){e.onSave({alt:O}),N(!1,!1)};return v.a.createElement("div",{className:g()(t.root,"u-excludeFromPointerEvents",t.embedMetaDataMenu,e.className)},v.a.createElement(d.a,null,v.a.createElement(r.b,{title:Object(p.j)("Alt Text"),buttonContents:o,className:g()("u-excludeFromPointerEvents"),onVisibilityChange:N,isVisible:w,openAsModal:C===c.b.MOBILE||C===c.b.XS,flyoutType:r.a.FRAME},v.a.createElement("form",{className:t.form},v.a.createElement(u.a,{className:t.verticalPadding},v.a.createElement(s.a,{label:Object(p.j)("Alternative text helps users with accessibility concerns and improves SEO."),labelClassName:t.paragraph,inputProps:{required:!0,value:O,onChange:L,inputRef:k,placeholder:Object(p.j)("Example: Image of a Coffee"),onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),R())}}})),v.a.createElement(h.a,{justifyRight:!0},v.a.createElement(i.a,{baseClass:a.a.TEXT_PRIMARY,onClick:function(e){e.preventDefault(),e.stopPropagation(),R()}},Object(p.j)("Save")))))))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";o.r(t);var n=o(23),r=o(0),i=o.n(r),a=o(70);
/**
 * Permissions utility functions ported over from the server.
 *
 * @see {\Vanilla\Permsissions} for the server-side implementation.
 * @see {Gdn_Controller->renderMaster()} for the injection of permissions into the client.
 *
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e&&(e=[e]),l(e))return!1;if(a.a.permissions.isAdmin)return!0;var o=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){if(!1===c(i.value,t))return!1}}catch(e){n=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw r}}return!0}function l(){return null!==function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.map((function(e){return e.toLowerCase()}));for(var t=a.a.permissions.bans||{},o=0,n=Object.keys(t);o<n.length;o++){var r=n[o],i=t[r];if(!(r in e)){if(i.except){var s="string"==typeof i.except?[i.except]:i.except,l=!1,u=!0,h=!1,p=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){if(c(d.value)){l=!0;break}}}catch(e){h=!0,p=e}finally{try{u||null==f.return||f.return()}finally{if(h)throw p}}if(l)continue}return i.type=r,i}}return null}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=a.a.permissions.permissions||{};return"admin"===e?!!a.a.permissions.isAdmin:"!"===e.substr(0,1)?null:!0===o[e]||!(null===t||!o[e].indexOf||-1===o[e].indexOf(t))}var u=o(48),h=o(2),p=o(20),d=i.a.createContext({});function f(){return Object(r.useContext)(d)}var m=o(47),g=o(27),b=o(370);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var j={index:0,length:0},y={currentSelection:j,lastGoodSelection:j,mentionSelection:null,activeFormats:{}};function O(e){var t=Object(r.useCallback)((function(t,o){if(!e)return t;var n=o.selection,r=null!==n?n:t.lastGoodSelection;return{currentSelection:n,lastGoodSelection:r,mentionSelection:Object(b.e)(e,n),activeFormats:r?e.getFormat(r):{}}}),[e]),o=Object(r.useReducer)(t,y),n=Object(p.a)(o,2),i=n[0],a=n[1];return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},i,{updateSelection:Object(r.useCallback)((function(e){a({selection:e})}),[a])})}var S=i.a.createContext(null);function C(){return Object(r.useContext)(S)}function _(e){var t=O(e.quill);return i.a.createElement(S.Provider,{value:t},e.children)}function E(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?E(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):E(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var x=function(e){var t=Object(r.useState)(null),o=Object(p.a)(t,2),n=o[0],a=o[1],s=Object(m.c)(),l=s===m.b.MOBILE||s===m.b.XS,c=Object(r.useMemo)((function(){return Object(g.c)("editor")}),[]),u=c+"-description";return i.a.createElement(d.Provider,{value:w({},e,{quill:n,setQuillInstance:a,isMobile:l,editorID:c,descriptionID:u})},i.a.createElement(_,{quill:n},e.children))},k=o(33),L=o(16),I=o(1),N=o(7),T=o(4),R=o(3),A=o(32),M=o(15),P=Object(T.c)((function(){var e=Object(N.b)(),t=Object(A.a)(),o=Object(T.d)("richEditor"),n={fadeIn:Object(M.c)({$debugName:"animation-fadeIn","0%":{opacity:0},"100%":{opacity:1}})},r=o("colors",{bg:e.mainColors.bg,outline:e.mainColors.primary.fade(.6)}),i=o("spacing",{paddingLeft:36,paddingRight:36,paddingTop:12,paddingBottom:12,embedMenu:0}),a=o("sizing",{minHeight:200,emojiSize:40}),s=o("menuButton",{size:42}),l=o("paragraphMenuHandle",{size:28,offset:1-t.border.width}),c=o("insertLink",{width:287}),u=o("flyout",{padding:{vertical:12,horizontal:12},maxHeight:Object(R.o)(100),height:s.size}),h=o("nub",{width:12}),p=o("menu",{borderWidth:1,offset:2*h.width}),d=o("pilcrow",{offset:9,fontSize:14,animation:{duration:".3s",name:n.fadeIn,timing:"ease-out",iterationCount:1}}),f=o("emojiGroup",{paddingLeft:3,offset:-(t.border.width+2*p.borderWidth)}),m=o("embedMenu",{padding:0,mobile:{border:{color:e.mainColors.primary},transition:{duration:".15s",timing:"ease-out"}}}),g=o("embedButton",{display:"block",offset:-t.border.width}),b=o("text",{offset:0,placeholder:{color:e.mixBgAndFg(.5)}}),v=o("titleInput",{height:e.fonts.size.title+e.gutter.half,fontSize:e.fonts.size.title,placeholder:{color:e.mixBgAndFg(.5)}}),j=o("scrollContainer",{overshoot:48}),y=o("emojiBody",{height:252,padding:{horizontal:3,top:3,bottom:0}}),O=o("emojiHeader",{padding:{horizontal:12,vertical:4}}),S=o("emojiFooter",{height:s.size});return{colors:r,spacing:i,sizing:a,menuButton:s,paragraphMenuHandle:l,insertLink:c,flyout:u,nub:h,menu:p,pilcrow:d,emojiGroup:f,embedButton:g,text:b,title:v,embedMenu:m,scrollContainer:j,emojiBody:y,buttonContents:o("buttonContents",{state:{bg:e.mainColors.primary.fade(.1)}}),emojiHeader:O,emojiFooter:S,iconWrap:o("iconWrap",{width:32,height:32}),richEditorWidth:8*a.emojiSize,modernFrame:o("modernFrame",{padding:16,margin:16})}})),D=o(21);function z(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function B(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?z(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):z(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var F=Object(T.c)((function(e,t){var o,n=Object(N.b)(),r=Object(T.b)("richEditor"),i=P(),a=Object(A.a)(),s=r({position:"relative",display:"block",$nest:{"&.isDisabled":{$nest:{"&, &.richEditor-button":{cursor:Object(R.f)("progress")}}},"& .richEditor-textWrap, & .richEditor-frame":{display:"flex",flexDirection:"column",flexGrow:1,position:"relative"},"& .ql-clipboard":B({},Object(I.C)(),{position:"fixed"}),"& .richEditor-nextInput, .iconButton, .richEditor-button":B({},Object(I.A)(),{},Object(I.d)(),{position:"relative",border:0,padding:0,background:"none",textAlign:"left"}),"& .Close-x":{display:"block",cursor:"pointer"},"& .content-wrapper":{height:Object(R.h)(100)},"& .embedDialogue":{position:"relative"}}}),l=r("iconWrap",B({},Object(I.x)(),{content:Object(R.j)("")},I.a.middleOfParent(),{width:Object(I.F)(i.iconWrap.width),height:Object(I.F)(i.iconWrap.width)},Object(I.f)({radius:3,color:n.elementaryColors.transparent}))),c=r("paragraphMenu",{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",top:Object(I.F)(i.pilcrow.offset),left:0,marginLeft:Object(I.F)(-n.gutter.quarter+(e?0:-(n.gutter.size+6))),transform:"translateX(-100%) translateY(-50%)",height:Object(I.F)(i.paragraphMenuHandle.size),width:Object(I.F)(n.icon.sizes.default),animationName:i.pilcrow.animation.name,animationDuration:i.pilcrow.animation.duration,animationTimingFunction:i.pilcrow.animation.timing,animationIterationCount:i.pilcrow.animation.iterationCount,zIndex:1,$nest:{".richEditor-button&.isActive:hover":{cursor:"default"},"&.isMenuInset":{transform:Object(R.m)("-50%")}}}),u=r("paragraphMenu-mobile",{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",top:Object(R.f)(0)}),p=r("menuBar",{position:"relative",width:Object(I.F)(4*i.menuButton.size),overflow:"hidden",zIndex:1}),d=r("menuBarToggles",{position:"relative",display:"flex",justifyContent:"space-between",flexWrap:"nowrap",width:Object(I.F)(4*i.menuButton.size)}),f=r("paragraphMenuHandle",B({},Object(I.d)(),{},Object(I.G)(),{background:"transparent",border:0,display:"block",cursor:"pointer",width:Object(I.F)(a.sizing.height),height:Object(I.F)(a.sizing.height),padding:0,maxWidth:Object(I.F)(a.sizing.height),minWidth:Object(I.F)(a.sizing.height),outline:0,$nest:Object(h.a)({"&:focus, &:hover":{color:Object(I.h)(n.mainColors.primary)}},"&.isOpen .".concat(l),{backgroundColor:Object(I.h)(i.buttonContents.state.bg)})})),m=r("paragraphMenuHandleMobile",{width:Object(I.F)(i.menuButton.size),height:Object(I.F)(i.menuButton.size),maxWidth:Object(I.F)(i.menuButton.size),minWidth:Object(I.F)(i.menuButton.size)}),g=r("text",{position:"relative",whiteSpace:Object(R.f)("pre-wrap"),outline:0,paddingBottom:24,$nest:{"&.ql-blank::before":{content:"attr(placeholder)",display:"block",color:Object(I.h)(i.text.placeholder.color),position:"absolute",top:i.text.offset,left:0,cursor:"text"}}}),b=r("menuItems",{"-ms-overflow-style":"-ms-autohiding-scrollbar",display:"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",padding:0,margin:0,zIndex:1,overflow:"visible",$nest:{".richEditor-menuItem":{display:"block",padding:0,margin:0,$nest:{".richEditor-button":{display:"block",width:Object(I.F)(i.menuButton.size),fontSize:Object(I.F)(24*i.menuButton.size/39),lineHeight:Object(I.F)(i.menuButton.size),$nest:{"&.emojiChar-🇺🇳":{fontSize:Object(I.F)(10)}}},"&:first-child .richEditor-embedButton":{borderBottomLeftRadius:Object(I.F)(n.border.radius)},"&.isRightAligned":{marginLeft:"auto"}}}}}),v=r("button",B({},Object(D.d)(),{display:"block"},Object(I.G)(),{},Object(I.d)(),{cursor:"pointer",width:Object(I.F)(i.menuButton.size),height:Object(I.F)(i.menuButton.size),border:0,padding:0,overflow:"hidden",position:"relative",color:Object(I.h)(n.mainColors.fg),outline:0,$nest:(o={"&:hover":{color:Object(I.h)(n.mainColors.primary)},"&:focus":{color:Object(I.h)(n.mainColors.secondary)},"&:active":{color:Object(I.h)(n.mainColors.secondary)}},Object(h.a)(o,"&:hover .".concat(l),{color:Object(I.h)(n.mainColors.primary),backgroundColor:Object(I.h)(i.buttonContents.state.bg)}),Object(h.a)(o,"&.isOpen .".concat(l),{backgroundColor:Object(I.h)(i.buttonContents.state.bg)}),Object(h.a)(o,"&.focus-visible .".concat(l),{backgroundColor:Object(I.h)(i.buttonContents.state.bg)}),Object(h.a)(o,"&.richEditor-formatButton, &.richEditor-embedButton",{height:Object(I.F)(i.menuButton.size)}),Object(h.a)(o,"&.emojiGroup",{display:"block",width:Object(I.F)(i.menuButton.size),height:Object(I.F)(i.menuButton.size),textAlign:"center"}),Object(h.a)(o,"&:not(:disabled)",{cursor:"pointer"}),Object(h.a)(o,"&.isActive .".concat(l),{backgroundColor:Object(I.h)(i.buttonContents.state.bg)}),o)})),j=r("topLevelButtonActive",{color:Object(I.h)(n.mainColors.primary),$nest:Object(h.a)({},"& .".concat(l),{backgroundColor:Object(I.h)(i.buttonContents.state.bg)})}),y=r("menuItem",{display:"block",padding:0,margin:0,overflow:"visible",$nest:{"& .richEditor-button, &.richEditor-button":{width:Object(I.F)(i.menuButton.size),height:Object(I.F)(i.menuButton.size),maxWidth:Object(I.F)(i.menuButton.size),fontSize:Object(I.F)(24*i.menuButton.size/39),lineHeight:Object(I.F)(i.menuButton.size),$nest:{"&.emojiChar-🇺🇳":{fontSize:Object(I.F)(14)}}},"&.isRightAligned":{marginLeft:"auto"}}}),O=r("upload",{display:Object(R.f)("none")}),S=r("embedBar",{display:"block",width:Object(R.h)(100),padding:Object(I.F)(i.embedMenu.padding),background:e?void 0:Object(I.h)(i.colors.bg)}),C=r("icon",{display:"block",margin:"auto",height:Object(I.F)(n.icon.sizes.default),width:Object(I.F)(n.icon.sizes.default)}),_=r("legacyFrame",{margin:"auto",height:"initial",minHeight:Object(I.F)(i.sizing.minHeight+i.menuButton.size),position:"relative",backgroundColor:Object(I.h)(i.colors.bg),padding:0,$nest:{"&.isMenuInset":{overflow:"initial",position:"relative"}}}),E=r("close",B({},I.a.middleRightOfParent(),{},Object(I.G)(),{},Object(I.d)(),{width:Object(I.F)(i.menuButton.size),height:Object(I.F)(i.menuButton.size),lineHeight:Object(I.F)(i.menuButton.size),verticalAlign:"bottom",textAlign:"center",background:"transparent",cursor:"pointer",border:0,outline:0})),w=r("flyoutDescription",{marginBottom:".5em"}),x=r("separator",{borderTop:Object(I.z)(),marginBottom:Object(I.F)(8)}),k=r("position",{position:"absolute",left:Object(R.b)("50% - ".concat(Object(I.F)(i.spacing.paddingLeft/2))),$nest:{"&.isUp":{bottom:Object(R.b)("50% + ".concat(Object(I.F)(i.spacing.paddingRight/2-a.border.width)))},"&.isDown":{top:Object(R.b)("50% + ".concat(Object(I.F)(i.spacing.paddingRight/2-a.border.width)))}}}),L=r("paragraphMenuPanel",{}),M=r("emojiGroup",{$nest:Object(h.a)({},"&.isSelected .".concat(l),{backgroundColor:Object(I.h)(i.buttonContents.state.bg)})});return{root:s,menuBar:p,menuBarToggles:d,paragraphMenuHandle:f,paragraphMenuHandleMobile:m,text:g,menuItems:b,upload:O,embedBar:S,menuItem:y,button:v,topLevelButtonActive:j,icon:C,close:E,flyoutDescription:w,paragraphMenu:c,paragraphMenuMobile:u,separator:x,position:k,legacyFrame:_,paragraphMenuPanel:L,iconWrap:l,flyoutOffset:r("flyoutOffset",{marginTop:Object(I.F)((i.menuButton.size-i.iconWrap.width)/-2+1)}),emojiGroup:M}})),q=o(28),H=o(8),U=o(9),G=o(11),W=o(10),V=o(360),K=o(12),Y=o(372),Z=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(Y.c);Z.blotName="header",Z.tagName=["H1","H2","H3","H4","H5","H6"];var $=Z,X=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"setGeneratedID",value:function(){var e=t.calcUniqueID(this.domNode.textContent||""),o=null;t.headerCounts[e]?(o=t.headerCounts[e],t.headerCounts[e]++):t.headerCounts[e]=1,null!==o&&(e+="-"+o),this.domNode.setAttribute("data-id",e)}}],[{key:"create",value:function(e){var o;o="number"==typeof e?e:e.level;var n=Object(V.a)(Object(W.a)(t),"create",this).call(this,o);return"object"===Object(q.a)(e)&&n.setAttribute("data-id",e.ref),n}},{key:"calcUniqueID",value:function(e){return encodeURIComponent(Object(L.k)(e))}},{key:"formats",value:function(e){return{level:Object(V.a)(Object(W.a)(t),"formats",this).call(this,e),ref:e.getAttribute("data-id")||""}}},{key:"resetCounters",value:function(){this.headerCounts={}}}]),t}($);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(h.a)(X,"headerCounts",{});var Q=o(364),J=o(378),ee=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"optimize",value:function(e){Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return Object(V.a)(Object(W.a)(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(J.a);ee.blotName="bold",ee.tagName=["STRONG","B"];var te=ee,oe=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(te);oe.blotName="italic",oe.tagName=["EM","I"];var ne=oe,re=o(406),ie=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(J.a);ie.blotName="strike",ie.tagName="S";var ae=ie,se=o(359),le=o.n(se),ce=new(function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"add",value:function(e,o){if("+1"===o||"-1"===o){var n=this.value(e)||0;o="+1"===o?n+1:n-1}return 0===o?(this.remove(e),!0):Object(V.a)(Object(W.a)(t.prototype),"add",this).call(this,e,o)}},{key:"canAdd",value:function(e,o){return Object(V.a)(Object(W.a)(t.prototype),"canAdd",this).call(this,e,o)||Object(V.a)(Object(W.a)(t.prototype),"canAdd",this).call(this,e,parseInt(o))}},{key:"value",value:function(e){return parseInt(Object(V.a)(Object(W.a)(t.prototype),"value",this).call(this,e))||void 0}}]),t}(le.a.Attributor.Class))("indent","ql-indent",{scope:le.a.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),ue=o(392),he=o(389),pe=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,null,[{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return Object(n.l)()?(o.innerHTML=e.emojiChar,o.classList.add("nativeEmoji")):o.innerHTML=Object(n.d)(e.emojiChar),Object(n.o)(o,"data",e),o}},{key:"value",value:function(e){return Object(n.i)(e,"data")}}]),t}(he.a);Object(h.a)(pe,"className","safeEmoji"),Object(h.a)(pe,"blotName","emoji"),Object(h.a)(pe,"tagName","span");var de=o(407),fe=o(434),me=o(5),ge=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,null,[{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return o.textContent="@"+e.name,o.dataset.userid=e.userID.toString(),o.dataset.username=e.name,o.href=Object(me.f)(e.name),o}},{key:"value",value:function(e){return{name:e.dataset.username,userID:parseInt(e.dataset.userid||"",10)}}}]),t}(he.a);Object(h.a)(ge,"blotName","mention"),Object(h.a)(ge,"className","atMention"),Object(h.a)(ge,"tagName","a");var be=o(397),ve=o(383),je=function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),e.setAttribute("aria-label",Object(me.j)("@mention a user")),e.setAttribute("aria-autocomplete","list"),o}return Object(K.a)(t,e),Object(U.a)(t,null,[{key:"formats",value:function(){return!0}}]),Object(U.a)(t,[{key:"attach",value:function(){Object(V.a)(Object(W.a)(t.prototype),"attach",this).call(this),this.statics.requiredContainer&&this.parent.statics.blotName!==this.statics.requiredContainer&&this.wrap(this.statics.requiredContainer)}},{key:"replaceWith",value:function(e,t){return this.moveChildren(this.parent,this.next),this.remove(),this.parent.replaceWith(e,t)}},{key:"finalize",value:function(e){this.replaceWith("mention",e),this.quill&&this.quill.update(Q.a.sources.API)}},{key:"cancel",value:function(){this.replaceWith("inline",this.domNode.innerHTML),this.quill&&this.quill.update(Q.a.sources.SILENT)}},{key:"injectAccessibilityAttributes",value:function(e){var t=this.domNode,o=this.parent.domNode;o.setAttribute("id",e.ID),o.setAttribute("aria-expanded",!!e.activeItemID),o.setAttribute("aria-owns",e.suggestionListID),t.setAttribute("aria-controls",e.suggestionListID),e.activeItemIsLoader?(t.setAttribute("aria-label",Object(me.j)("Loading new @mention suggestions")),t.removeAttribute("aria-activedescendant")):(t.setAttribute("aria-activedescendant",e.activeItemID),t.removeAttribute("aria-describeby"))}},{key:"username",get:function(){return(this.domNode.textContent||"").replace("@","").replace('"',"")}},{key:"quill",get:function(){return this.scroll&&this.scroll.domNode.parentNode?Q.a.find(this.scroll.domNode.parentNode):null}}]),t}(J.a);Object(h.a)(je,"blotName","mention-autocomplete"),Object(h.a)(je,"className","atMentionAutoComplete"),Object(h.a)(je,"tagName","span"),Object(h.a)(je,"requiredContainer","mention-combobox");
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var ye=function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),e.setAttribute("role","combobox"),e.setAttribute("aria-haspopup","listbox"),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"optimize",value:function(e){Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e),0===this.children.length&&this.remove()}},{key:"replaceWith",value:function(e,o){var n="string"==typeof e?le.a.create(e,o):e;return Object(V.a)(Object(W.a)(t.prototype),"replaceWith",this).call(this,n)}}]),t}(be.a);Object(h.a)(ye,"blotName","mention-combobox"),Object(h.a)(ye,"className","atMentionComboBox"),Object(h.a)(ye,"tagName","span"),Object(h.a)(ye,"scope",le.a.Scope.BLOCK),Object(h.a)(ye,"allowedChildren",[].concat(Object(k.a)(be.a.allowedChildren),[je,J.a,he.a,ve.a]));var Oe=o(50),Se=o.n(Oe),Ce=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"optimize",value:function(e){Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e);var o=this.next;o instanceof t&&o.prev===this&&o.statics.blotName===this.constructor.blotName&&o.domNode.tagName===this.domNode.tagName&&(o.moveChildren(this),o.remove())}}],[{key:"formats",value:function(){}},{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return this.className&&o.classList.add(this.className),o}}]),t}(be.a);Object(h.a)(Ce,"scope",le.a.Scope.BLOCK_BLOT),Object(h.a)(Ce,"tagName","div"),Object(h.a)(Ce,"allowedChildren",[Ce]),Object(h.a)(Ce,"className",void 0);var _e=o(13);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function Ee(e){return function(e){function t(e){var o;if(Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"parent",void 0),Object(h.a)(Object(_e.a)(o),"useWrapperReplacement",!0),!o.statics.parentName)throw new Error("You must initialize with parentName");return o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"createWrapper",value:function(){var e=le.a.create(this.statics.parentName);if(!(e instanceof Ce))throw new Error("The provided static parentName did not instantiate an instance of a WrapperBlot.");return e}},{key:"attach",value:function(){if(Object(V.a)(Object(W.a)(t.prototype),"attach",this).call(this),!(Array.isArray(this.statics.parentName)?this.statics.parentName:[this.statics.parentName]).includes(this.parent.statics.blotName)){var e=this.createWrapper();this.wrap(e)}}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():Object(V.a)(Object(W.a)(t.prototype),"remove",this).call(this)}},{key:"optimize",value:function(e){Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e),0===this.children.length&&this.remove()}},{key:"getWrapper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.parent;return e&&t.getWrapper?t.getWrapper(!0):t}},{key:"replaceWith",value:function(e,o){var n=this;if(this.useWrapperReplacement)if(e===this.statics.blotName)Object(V.a)(Object(W.a)(t.prototype),"replaceWith",this).call(this,e,o);else{var r=this.getWrapper(!0);this.parent.children.forEach((function(t){t===n?t.replaceWithIntoScroll(e,o,r):t.insertInto(n.scroll,r)})),r.remove()}else Object(V.a)(Object(W.a)(t.prototype),"replaceWith",this).call(this,e,o)}},{key:"replaceWithIntoScroll",value:function(e,t,o){var n=le.a.create(e,t);this.moveChildren(n),n.insertInto(this.scroll,o)}}]),t}(e)}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var we=Ee(function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(function(e){function t(e){var o;if(Object(H.a)(this,t),!(o=Object(G.a)(this,Object(W.a)(t).call(this,e))).statics.className)throw new Error("Attempted to initialize a ClassFormatBlot without setting the static className");return o}return Object(K.a)(t,e),Object(U.a)(t,null,[{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return this.className&&o.classList.add(this.className),o}},{key:"formats",value:function(e){var t=this.className&&e.classList.contains(this.className),o=e.tagName.toLowerCase()===this.tagName.toLowerCase();return this.className?t&&o:o}}]),Object(U.a)(t,[{key:"formats",value:function(){return Object(h.a)({},this.statics.blotName,this.statics.formats(this.domNode))}}]),t}(Y.c))),xe=Ee(Ce);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */xe.allowedChildren=[we];var ke=xe,Le=o(6),Ie=o.n(Le),Ne={fill:"currentColor"};function Te(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Bold")),i.a.createElement("path",{d:"M6.511,18v-.62a4.173,4.173,0,0,0,.845-.093.885.885,0,0,0,.736-.79,5.039,5.039,0,0,0,.063-.884V8.452a6.585,6.585,0,0,0-.047-.876,1.116,1.116,0,0,0-.194-.527.726.726,0,0,0-.4-.263,3.658,3.658,0,0,0-.674-.1v-.62h4.975a7.106,7.106,0,0,1,3.6.752A2.369,2.369,0,0,1,16.68,8.964q0,1.843-2.651,2.6v.062a4.672,4.672,0,0,1,1.542.24,3.39,3.39,0,0,1,1.171.674,3.036,3.036,0,0,1,.744,1.023,3.125,3.125,0,0,1,.263,1.287,2.49,2.49,0,0,1-.38,1.379,3.05,3.05,0,0,1-1.092.992,7.794,7.794,0,0,1-3.8.775Zm6.076-.945q2.5,0,2.5-2.248a2.3,2.3,0,0,0-.9-2.015,3.073,3.073,0,0,0-1.2-.465,9.906,9.906,0,0,0-1.806-.139h-.744v3.1a1.664,1.664,0,0,0,.5,1.364A2.659,2.659,0,0,0,12.587,17.055Zm-1.24-5.8a4.892,4.892,0,0,0,1.21-.131,2.69,2.69,0,0,0,.868-.38,1.8,1.8,0,0,0,.743-1.6,2.107,2.107,0,0,0-.557-1.635,2.645,2.645,0,0,0-1.8-.5h-1.1q-.279,0-.279.264v3.983Z",style:Ne}))}function Re(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Italic")),i.a.createElement("path",{d:"M11.472,15.4a4.381,4.381,0,0,0-.186,1.085.744.744,0,0,0,.333.713,2.323,2.323,0,0,0,1.077.186L12.51,18H7.566l.17-.62a3.8,3.8,0,0,0,.791-.07,1.282,1.282,0,0,0,.566-.271,1.62,1.62,0,0,0,.41-.558,5.534,5.534,0,0,0,.326-.93L11.642,8.7a5.332,5.332,0,0,0,.233-1.271.577.577,0,0,0-.349-.612,3.714,3.714,0,0,0-1.186-.132l.171-.62h5.038l-.171.62a3.058,3.058,0,0,0-.852.1,1.246,1.246,0,0,0-.59.38,2.578,2.578,0,0,0-.441.774,11.525,11.525,0,0,0-.4,1.287Z",style:Ne}))}function Ae(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Strikethrough")),i.a.createElement("path",{d:"M12.258,13H6V12h4.2l-.05-.03a4.621,4.621,0,0,1-1.038-.805,2.531,2.531,0,0,1-.55-.892A3.285,3.285,0,0,1,8.4,9.2a3.345,3.345,0,0,1,.256-1.318,3.066,3.066,0,0,1,.721-1.046,3.242,3.242,0,0,1,1.1-.682,3.921,3.921,0,0,1,1.4-.24,3.641,3.641,0,0,1,1.271.217,4.371,4.371,0,0,1,1.194.7l.4-.7h.357l.171,3.085h-.574A3.921,3.921,0,0,0,13.611,7.32a2.484,2.484,0,0,0-1.7-.619,2.269,2.269,0,0,0-1.5.465,1.548,1.548,0,0,0-.558,1.255,1.752,1.752,0,0,0,.124.674,1.716,1.716,0,0,0,.4.574,4.034,4.034,0,0,0,.729.542,9.854,9.854,0,0,0,1.116.566,20.49,20.49,0,0,1,1.906.953q.232.135.435.27h4.6v1H15.675a2.263,2.263,0,0,1,.3.544,3.023,3.023,0,0,1,.186,1.093,3.236,3.236,0,0,1-1.177,2.541,4.014,4.014,0,0,1-1.334.721,5.393,5.393,0,0,1-1.7.256,4.773,4.773,0,0,1-1.588-.248,4.885,4.885,0,0,1-1.434-.837l-.434.76H8.132L7.9,14.358h.573a3.886,3.886,0,0,0,.411,1.255A3.215,3.215,0,0,0,10.7,17.155a3.872,3.872,0,0,0,1.294.21,2.786,2.786,0,0,0,1.813-.543,1.8,1.8,0,0,0,.667-1.473,1.752,1.752,0,0,0-.573-1.34,4.04,4.04,0,0,0-.83-.6Q12.723,13.217,12.258,13Z",style:Ne}))}function Me(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Paragraph Code Block")),i.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.818,14.032q0-1.27-1.818-1.271V11.455a2.429,2.429,0,0,0,1.371-.311,1.075,1.075,0,0,0,.447-.947V8.071A1.763,1.763,0,0,1,5.56,6.5,4,4,0,0,1,7.785,6V7.244a1.949,1.949,0,0,0-1.131.318,1.019,1.019,0,0,0-.352.844v2.031q0,1.359-1.566,1.626v.083q1.566.246,1.566,1.62V15.81a1.034,1.034,0,0,0,.348.847,1.836,1.836,0,0,0,1.135.3v1.251a3.89,3.89,0,0,1-2.273-.537,1.982,1.982,0,0,1-.694-1.692ZM9.009,15.14a1.05,1.05,0,0,1,.26-.766,1,1,0,0,1,.752-.267.992.992,0,0,1,.758.277,1.063,1.063,0,0,1,.26.756,1.089,1.089,0,0,1-.263.769.98.98,0,0,1-.755.283.973.973,0,0,1-.752-.28A1.088,1.088,0,0,1,9.009,15.14Zm3.848,0a1.054,1.054,0,0,1,.26-.766,1.185,1.185,0,0,1,1.511.01,1.063,1.063,0,0,1,.26.756,1.089,1.089,0,0,1-.263.769,1.151,1.151,0,0,1-1.508,0A1.093,1.093,0,0,1,12.857,15.14Zm6.105.991a1.811,1.811,0,0,1-.68,1.565,3.788,3.788,0,0,1-2.178.513V16.958a1.765,1.765,0,0,0,1.012-.263,1.009,1.009,0,0,0,.363-.885V14.019a1.994,1.994,0,0,1,.362-1.279,1.879,1.879,0,0,1,1.2-.594v-.083q-1.566-.266-1.565-1.626V8.406a1.084,1.084,0,0,0-.312-.844A1.69,1.69,0,0,0,16.1,7.244V6a3.583,3.583,0,0,1,2.191.523,2.044,2.044,0,0,1,.667,1.712V10.2a1.077,1.077,0,0,0,.434.971,2.356,2.356,0,0,0,1.289.287v1.306a2.342,2.342,0,0,0-1.282.29,1.087,1.087,0,0,0-.441.981Z"}))}function Pe(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Link")),i.a.createElement("path",{d:"M13.575,10.4a3.824,3.824,0,0,1,.266,5.107c-.17.211-.076.106-2.318,2.348a3.821,3.821,0,0,1-5.4-5.4l1.731-1.731a.327.327,0,0,1,.559.223,4.735,4.735,0,0,0,.129,1.033.325.325,0,0,1-.087.3L7.2,13.53a2.293,2.293,0,0,0,3.243,3.242L12.5,14.72a2.293,2.293,0,0,0-.623-3.685.329.329,0,0,1-.179-.337,1.412,1.412,0,0,1,.4-.829l.12-.12a.324.324,0,0,1,.375-.062A3.792,3.792,0,0,1,13.575,10.4ZM17.853,6.12a3.819,3.819,0,0,0-5.4,0C10.207,8.362,10.3,8.257,10.131,8.468a3.82,3.82,0,0,0,1.25,5.818.325.325,0,0,0,.375-.063l.12-.119a1.412,1.412,0,0,0,.4-.83.329.329,0,0,0-.179-.337,2.291,2.291,0,0,1-.623-3.684L13.53,7.2a2.293,2.293,0,1,1,3.242,3.243l-1.251,1.251a.322.322,0,0,0-.087.3,4.726,4.726,0,0,1,.129,1.032.328.328,0,0,0,.559.224c.316-.315.836-.837,1.731-1.732A3.819,3.819,0,0,0,17.853,6.12Z",style:Ne}))}function De(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Emoji")),i.a.createElement("path",{fill:"currentColor",d:"M12,4a8,8,0,1,0,8,8A8,8,0,0,0,12,4Zm0,14.644A6.644,6.644,0,1,1,18.644,12,6.651,6.651,0,0,1,12,18.644ZM10.706,10.2a1.25,1.25,0,1,0-1.249,1.25A1.249,1.249,0,0,0,10.706,10.2Zm3.837-1.249a1.25,1.25,0,1,0,1.25,1.249A1.249,1.249,0,0,0,14.543,8.953Zm.2,5.237a.357.357,0,0,0-.493.1,2.825,2.825,0,0,1-4.494,0,.355.355,0,1,0-.593.392,3.532,3.532,0,0,0,5.68,0A.354.354,0,0,0,14.74,14.19Z"}))}function ze(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Paragraph")),i.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15,6 L17,6 L17,18 L15,18 L15,6 Z M11,6 L13.0338983,6 L13.0338983,18 L11,18 L11,6 Z M11,13.8666667 C8.790861,13.8666667 7,12.1056533 7,9.93333333 C7,7.76101332 8.790861,6 11,6 C11,7.68571429 11,11.6190476 11,13.8666667 Z"}))}function Be(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("H2")),i.a.createElement("path",{d:"M12.3,17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607V7.006H12.3Zm8,0H13.526V15.783L16.1,13.192a22.007,22.007,0,0,0,1.514-1.657,3.978,3.978,0,0,0,.543-.92,2.475,2.475,0,0,0,.171-.923,1.4,1.4,0,0,0-.407-1.066,1.557,1.557,0,0,0-1.124-.39,3,3,0,0,0-1.111.212,5.239,5.239,0,0,0-1.241.766l-.868-1.06a5.612,5.612,0,0,1,1.62-1,4.744,4.744,0,0,1,1.675-.294,3.294,3.294,0,0,1,2.235.728,2.46,2.46,0,0,1,.841,1.959,3.453,3.453,0,0,1-.242,1.285,5.212,5.212,0,0,1-.746,1.254,17.041,17.041,0,0,1-1.671,1.747l-1.736,1.682v.068H20.3Z",style:Ne}))}function Fe(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("H3")),i.a.createElement("path",{d:"M10.658,7.006H12.3V17H10.658V12.5H6.051V17H4.417V7.006H6.051v4.088h4.607Zm8.93,5.533a3.016,3.016,0,0,0-1.806-.748v-.055a2.789,2.789,0,0,0,1.56-.851A2.315,2.315,0,0,0,19.9,9.3a2.131,2.131,0,0,0-.848-1.791,3.8,3.8,0,0,0-2.36-.65,5.251,5.251,0,0,0-3.2,1.012l.786,1.121a5.226,5.226,0,0,1,1.245-.625,3.76,3.76,0,0,1,1.1-.161,1.881,1.881,0,0,1,1.232.349,1.22,1.22,0,0,1,.417.991q0,1.654-2.4,1.654H14.99v1.306h.869a4.066,4.066,0,0,1,2,.376,1.267,1.267,0,0,1,.636,1.176,1.559,1.559,0,0,1-.574,1.333,2.89,2.89,0,0,1-1.738.43,5.794,5.794,0,0,1-1.369-.171,6.372,6.372,0,0,1-1.347-.485V16.6a6.532,6.532,0,0,0,2.8.54,4.676,4.676,0,0,0,2.9-.783,2.637,2.637,0,0,0,1.019-2.225A2.143,2.143,0,0,0,19.588,12.539Z",style:Ne}))}function qe(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("H4")),i.a.createElement("path",{style:Ne,d:"M12.3,17h-1.6v-4.5H6.1V17H4.4V7h1.6v4.1h4.6V7h1.6V17z"}),i.a.createElement("path",{style:Ne,d:"M20.8,14.9h-1.3v2.2h-1.6v-2.2h-4.6v-1.2l4.6-6.6h1.6v6.5h1.3V14.9z M17.9,13.6v-2.5c0-0.9,0-1.6,0.1-2.2h-0.1 c-0.1,0.3-0.3,0.7-0.6,1.1l-2.5,3.6H17.9z"}))}function He(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("H5")),i.a.createElement("path",{style:Ne,d:"M12.3,17H10.7V12.5H6.1V17H4.4V7H6v4.1h4.6V7h1.6V17Z"}),i.a.createElement("path",{style:Ne,d:"M17,10.7a3.649,3.649,0,0,1,2.4.8,2.792,2.792,0,0,1,.9,2.2,3.04,3.04,0,0,1-1,2.5,4.1,4.1,0,0,1-2.8.9,5.991,5.991,0,0,1-2.6-.5V15.2a5.023,5.023,0,0,0,1.3.5,6.882,6.882,0,0,0,1.3.2,2.348,2.348,0,0,0,1.6-.5,1.678,1.678,0,0,0,.6-1.4c0-1.2-.8-1.8-2.3-1.8a2.485,2.485,0,0,0-.8.1c-.3,0-.6.1-.8.1l-.8-.5L14.4,7h5.2V8.4H15.8l-.2,2.5c.2,0,.4-.1.6-.1S16.6,10.7,17,10.7Z"}))}function Ue(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Quote")),i.a.createElement("path",{d:"M10.531,17.286V12.755H8.122a9.954,9.954,0,0,1,.1-1.408,4.22,4.22,0,0,1,.388-1.286,2.62,2.62,0,0,1,.735-.918A1.815,1.815,0,0,1,10.49,8.8V6.755a3.955,3.955,0,0,0-2,.49A4.164,4.164,0,0,0,7.082,8.551a5.84,5.84,0,0,0-.817,1.9A9.65,9.65,0,0,0,6,12.755v4.531Zm7.469,0V12.755H15.592a9.954,9.954,0,0,1,.1-1.408,4.166,4.166,0,0,1,.388-1.286,2.606,2.606,0,0,1,.734-.918A1.819,1.819,0,0,1,17.959,8.8V6.755a3.958,3.958,0,0,0-2,.49,4.174,4.174,0,0,0-1.408,1.306,5.86,5.86,0,0,0-.816,1.9,9.649,9.649,0,0,0-.266,2.306v4.531Z",style:Ne}))}function Ge(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Paragraph Code Block")),i.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.11588626,16.5074223 L3.14440918,12.7070466 L3.14440918,11.6376386 L9.11588626,7.32465415 L9.11588626,9.04808032 L4.63575044,12.0883808 L9.11588626,14.7663199 L9.11588626,16.5074223 Z M14.48227,5.53936141 L11.1573124,18.4606386 L9.80043634,18.4606386 L13.131506,5.53936141 L14.48227,5.53936141 Z M15.1729321,14.7663199 L19.6530679,12.0883808 L15.1729321,9.04808032 L15.1729321,7.32465415 L21.1444092,11.6376386 L21.1444092,12.7070466 L15.1729321,16.5074223 L15.1729321,14.7663199 Z"}))}function We(e){return i.a.createElement("svg",{className:Ie()("spoiler-icon",e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Spoiler")),i.a.createElement("path",{fill:"currentColor",d:"M11.469 15.47c-2.795-.313-4.73-3.017-4.06-5.8l4.06 5.8zM12 16.611a9.65 9.65 0 0 1-8.333-4.722 9.569 9.569 0 0 1 3.067-3.183L5.778 7.34a11.235 11.235 0 0 0-3.547 3.703 1.667 1.667 0 0 0 0 1.692A11.318 11.318 0 0 0 12 18.278c.46 0 .92-.028 1.377-.082l-1.112-1.589a9.867 9.867 0 0 1-.265.004zm9.77-3.876a11.267 11.267 0 0 1-4.985 4.496l1.67 2.387a.417.417 0 0 1-.102.58l-.72.504a.417.417 0 0 1-.58-.102L5.545 4.16a.417.417 0 0 1 .102-.58l.72-.505a.417.417 0 0 1 .58.103l1.928 2.754A11.453 11.453 0 0 1 12 5.5c4.162 0 7.812 2.222 9.77 5.543.307.522.307 1.17 0 1.692zm-1.437-.846A9.638 9.638 0 0 0 12.828 7.2a1.944 1.944 0 1 0 3.339 1.354 4.722 4.722 0 0 1-1.283 5.962l.927 1.324a9.602 9.602 0 0 0 4.522-3.952z"}))}function Ve(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Embed")),i.a.createElement("path",{fill:"currentColor",d:"M4.5,5.5a1,1,0,0,0-1,1v11a1,1,0,0,0,1,1h15a1,1,0,0,0,1-1V6.5a1,1,0,0,0-1-1ZM4.5,4h15A2.5,2.5,0,0,1,22,6.5v11A2.5,2.5,0,0,1,19.5,20H4.5A2.5,2.5,0,0,1,2,17.5V6.5A2.5,2.5,0,0,1,4.5,4Zm5.592,12.04-1.184.92-3.5-4.5v-.92l3.5-4.5,1.184.92L6.95,12Zm3.816,0L17.05,12,13.908,7.96l1.184-.92,3.5,4.5v.92l-3.5,4.5Z",style:Ne}))}function Ke(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Image")),i.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M5,17V15l2.294-3.212a.3.3,0,0,1,.418-.07h0c.013.01.025.021.037.032L10,14l4.763-5.747a.3.3,0,0,1,.422-.041h0l.02.018L19,12v5ZM4.5,5.5a1,1,0,0,0-1,1v11a1,1,0,0,0,1,1h15a1,1,0,0,0,1-1V6.5a1,1,0,0,0-1-1ZM4.5,4h15A2.5,2.5,0,0,1,22,6.5v11A2.5,2.5,0,0,1,19.5,20H4.5A2.5,2.5,0,0,1,2,17.5V6.5A2.5,2.5,0,0,1,4.5,4Zm3,6.2A1.7,1.7,0,1,1,9.2,8.5h0A1.7,1.7,0,0,1,7.5,10.2Z"}))}function Ye(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Attachment")),i.a.createElement("path",{fill:"currentColor",d:"M17.25,9.045a.75.75,0,0,1,1.5,0v6.91A6.63,6.63,0,0,1,12,22.75a6.63,6.63,0,0,1-6.75-6.795V7.318A4.811,4.811,0,0,1,10.286,2.25a4.81,4.81,0,0,1,5.035,5.068v7.773c0,2.308-1.254,4.2-3.321,4.2s-3.321-1.9-3.321-4.2V9.045a.75.75,0,0,1,1.5,0v6.046c0,1.578.745,2.7,1.821,2.7s1.821-1.126,1.821-2.7V7.318A3.319,3.319,0,0,0,10.286,3.75,3.319,3.319,0,0,0,6.75,7.318v8.637A5.132,5.132,0,0,0,12,21.25a5.132,5.132,0,0,0,5.25-5.295Z",style:Ne}))}function Ze(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("List Unordered")),i.a.createElement("path",{fill:"currentColor",fillRule:"nonzero",d:"M10.5 7a1 1 0 1 1 0-2h8a1 1 0 0 1 0 2h-8zm0 6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm0 6a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zM4.7 7c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7zm0 6c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7zm0 6c-.11 0-.2-.448-.2-1s.09-1 .2-1h1.6c.11 0 .2.448.2 1s-.09 1-.2 1H4.7z"}))}function $e(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("List Ordered")),i.a.createElement("path",{fill:"currentColor",d:"M10.5 7a1 1 0 1 1 0-2h8a1 1 0 0 1 0 2h-8zM6.479 8h-.906V5.521l.009-.407.015-.445c-.15.15-.255.249-.314.296l-.492.395-.437-.545 1.38-1.098h.745V8zm4.021 5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm-3.266 1H4.24v-.63l1.075-1.087a9.93 9.93 0 0 0 .624-.678c.098-.126.168-.243.211-.35a.891.891 0 0 0 .065-.334c0-.172-.048-.3-.142-.384a.551.551 0 0 0-.38-.126c-.166 0-.327.038-.483.114-.156.077-.32.185-.49.326l-.491-.583c.21-.18.385-.307.524-.381.139-.075.29-.132.454-.172.164-.04.348-.06.55-.06.268 0 .505.05.71.147.205.097.364.234.477.41.114.176.17.377.17.603 0 .198-.034.383-.104.556-.07.172-.177.35-.322.531-.146.182-.402.44-.77.777l-.55.518v.041h1.866V14zm3.266 5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2h-8zm-3.433-2.325c0 .267-.08.495-.243.682-.162.188-.39.317-.682.387v.018c.345.043.607.148.785.315.177.167.266.392.266.675 0 .412-.15.733-.448.962-.299.23-.725.345-1.28.345-.465 0-.877-.078-1.236-.232v-.77c.166.084.348.152.547.205.2.052.397.079.592.079.299 0 .52-.051.662-.153.143-.101.214-.264.214-.489 0-.201-.082-.344-.246-.428-.164-.084-.426-.125-.785-.125h-.325v-.695h.33c.333 0 .575-.043.729-.13.153-.087.23-.236.23-.447 0-.324-.203-.486-.61-.486-.14 0-.283.023-.429.07a2.097 2.097 0 0 0-.485.243l-.419-.624c.391-.281.857-.422 1.398-.422.443 0 .793.09 1.05.27.257.18.385.43.385.75z"}))}function Xe(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Indent")),i.a.createElement("path",{fill:"currentColor",d:"M10.5 11a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zm0 4a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zM5.438 19h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438c-.517 0-.937.448-.937 1s.42 1 .938 1zM5.438 7h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438C4.92 5 4.5 5.448 4.5 6s.42 1 .938 1zM8.5 12l-3 3V9z"}))}function Qe(e){var t=F(!1);return i.a.createElement("svg",{className:Ie()("richEditorButton-icon",t.icon,e.className),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)("Outdent")),i.a.createElement("path",{fill:"currentColor",d:"M10.5 11a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zm0 4a1 1 0 1 1 0-2h8a1 1 0 1 1 0 2h-8zM5.438 19h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438c-.517 0-.937.448-.937 1s.42 1 .938 1zM5.438 7h13.125c.517 0 .937-.448.937-1s-.42-1-.938-1H5.438C4.92 5 4.5 5.448 4.5 6s.42 1 .938 1zM4.5 12l3-3v6z"}))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Je=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{contentEditable:!1,className:"spoiler-buttonContainer"},i.a.createElement("button",{title:Object(me.j)("Toggle Spoiler"),disabled:!0,className:"iconButton button-spoiler",type:"button"},i.a.createElement("span",{className:"spoiler-warning"},i.a.createElement("span",{className:"spoiler-warningMain"},i.a.createElement(We,{className:"spoiler-icon"}),i.a.createElement("span",{className:"spoiler-warningLabel"},Object(me.j)("Spoiler Warning"))))))}}]),t}(i.a.Component),et=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(we);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(h.a)(et,"blotName","spoiler-line"),Object(h.a)(et,"className","spoiler-line"),Object(h.a)(et,"tagName","p"),Object(h.a)(et,"parentName","spoiler-content");var tt=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(ke);Object(h.a)(tt,"className","spoiler-content"),Object(h.a)(tt,"blotName","spoiler-content"),Object(h.a)(tt,"parentName","spoiler");var ot=function(e){function t(e){var o;Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e));var n=document.createElement("div");return o.domNode.appendChild(n),Se.a.render(i.a.createElement(Je,null),n),o}return Object(K.a)(t,e),Object(U.a)(t,null,[{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return o.classList.add("isShowingSpoiler"),o}}]),Object(U.a)(t,[{key:"attach",value:function(){Object(V.a)(Object(W.a)(t.prototype),"attach",this).call(this)}},{key:"optimize",value:function(e){Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e)}}]),t}(Ce);Object(h.a)(ot,"className","spoiler"),Object(h.a)(ot,"blotName","spoiler"),Object(h.a)(ot,"allowedChildren",Object(k.a)(Ce.allowedChildren));
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var nt=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(we);Object(h.a)(nt,"blotName","blockquote-line"),Object(h.a)(nt,"className","blockquote-line"),Object(h.a)(nt,"tagName","p"),Object(h.a)(nt,"parentName","blockquote-content");var rt=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(ke);Object(h.a)(rt,"className","blockquote-content"),Object(h.a)(rt,"blotName","blockquote-content"),Object(h.a)(rt,"parentName","blockquote");var it=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(Ce);Object(h.a)(it,"className","blockquote"),Object(h.a)(it,"blotName","blockquote");var at,st,lt=o(376),ct=o(440),ut=o(390),ht=o(371),pt=o.n(ht),dt=o(388),ft=o(391);function mt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function gt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?mt(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):mt(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function bt(e){var t=e.getAttribute("data-depth"),o=e.getAttribute("data-type"),n=0;null!==t&&(n=parseInt(t,10));var r=st.BULLETED;return null!==o&&(r=o),{depth:n,type:r}}function vt(e,t){t&&(e.setAttribute("data-depth",t.depth),e.setAttribute("data-type",t.type))}!function(e){e.OL="OL",e.UL="UL",e.LI="LI"}(at||(at={})),function(e){e.ORDERED="ordered",e.BULLETED="bullet",e.CHECKBOX="checkbox"}(st||(st={}));var jt=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"optimize",value:function(e){this.optimizeAdjacentGroups(),Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e)}},{key:"optimizeAdjacentGroups",value:function(){var e=this.next;if(e instanceof t&&e.prev===this){var o=this.getValue(),n=e.getValue();if(!o||!n)return;if(n.depth===o.depth&&(n.type===o.type||o.depth>0))e.moveChildren(this),e.remove();else if(n.depth>o.depth){var r=this.children.tail;if(!(r instanceof St))return;e.children.forEach((function(e){r.addNestedChild(e,"end")}))}}}},{key:"getValue",value:function(){return bt(this.domNode)}}],[{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return vt(o,e),o}}]),t}(Ce),yt=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(jt);Object(h.a)(yt,"blotName","orderedListGroup"),Object(h.a)(yt,"className","orderedListGroup"),Object(h.a)(yt,"tagName",at.OL);var Ot=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),t}(jt);Object(h.a)(Ot,"blotName","unorderedListGroup"),Object(h.a)(Ot,"className","unorderedListGroup"),Object(h.a)(Ot,"tagName",at.UL);var St=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"split",value:function(e,o){if(!o&&(e===this.length()-1||0===e))return this;var n=this.getListContent(),r=this.getListGroup();if(n&&e<n.length()){var i=n.split(e,o);if(i instanceof Ct){var a=le.a.create(t.blotName,this.getValue());return i.insertInto(a),a.insertInto(this.parent,this.next),r&&r.insertInto(a),a}return this}return Object(V.a)(Object(W.a)(t.prototype),"split",this).call(this,e,o)}},{key:"insertAt",value:function(e,o,n){var r=this,i=this.getListContent()&&e<this.getListContent().length();if(o.includes("\n")&&i){var a=this.split(e,!0),s=a===this?this.next:a,l=(this.length(),"\n"===o?[""]:o.split("\n"));this.next&&s===this.next&&""===l[0]&&l.shift(),l[0]&&""!==l[0]&&this.getListContent().insertAt(e,l.shift()),l.map((function(e,t){var o=le.a.create(Ct.blotName,r.getValue());return""!==e&&o.insertAt(0,e,void 0),o})).forEach((function(e){var t=r.clone();t.appendChild(e),r.parent.insertBefore(t,s)}))}else Object(V.a)(Object(W.a)(t.prototype),"insertAt",this).call(this,e,o,n)}},{key:"insertBefore",value:function(e,o){e instanceof Ct||e instanceof jt?Object(V.a)(Object(W.a)(t.prototype),"insertBefore",this).call(this,e,o):(this.ensureListContent(),this.getListContent().insertBefore(e,o))}},{key:"addNestedChild",value:function(e,o){var n=this.getListGroup();n?n.getValue().depth<e.getValue().depth&&n.children.tail instanceof t?n.children.tail.addNestedChild(e,o):"start"===o?e.insertInto(n,n.children.head):"end"===o&&e.insertInto(n):e.insertInto(this)}},{key:"optimize",value:function(e){this.optimizeNesting(),this.optimizeUnwrapping(),this.ensureListContent(),Object(V.a)(Object(W.a)(t.prototype),"optimize",this).call(this,e)}},{key:"ensureListContent",value:function(){if(!this.getListContent()){var e=le.a.create(Ct.blotName,this.getValue());this.children.forEach((function(t){t instanceof jt||t.insertInto(e)})),this.insertBefore(e,this.children.head)}}},{key:"optimizeNesting",value:function(){var e=this.next;if(e instanceof t&&e.prev===this){var o=this.getValue(),n=e.getValue();if(!o||!n)return;if(n.depth>o.depth){var r=this.getListGroup(),i=e.getListGroup();if(r){e.insertInto(r);var a=gt({},n,{type:r.getValue().type});e.getListContent().format("list",a)}else e.insertInto(this);i&&(i.moveChildren(this.parent,this.next),i.remove())}}}},{key:"optimizeUnwrapping",value:function(){var e=this.parent,o=e.parent,n=o.parent;if(e instanceof jt&&o instanceof t&&n instanceof jt){var r=e.getValue(),i=n.getValue(),a=this.getValue();if(a.depth<r.depth){var s=gt({},a,{type:i.type});this.insertInto(n,o.next);var l=this.getListContent();l&&l.format(Ct.blotName,s)}}}},{key:"createWrapper",value:function(){var e=this.getValue();switch(e.type){case st.ORDERED:return le.a.create(yt.blotName,e);default:return le.a.create(Ot.blotName,e)}}},{key:"getValue",value:function(){return bt(this.domNode)}},{key:"getListGroup",value:function(){var e=this.children.tail;return e instanceof jt?e:null}},{key:"flattenSelfAndSiblings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent,o=arguments.length>1?arguments[1]:void 0,n=this.getListContent(),r=this.next;n&&n.getValue().depth>0&&(n.updateIndentValue(0),this.insertInto(e,o));var i=this.getListGroup();i&&(i.children.forEach((function(n){n instanceof t&&n.flattenSelfAndSiblings(e,o)})),i.remove()),r instanceof t&&r.flattenSelfAndSiblings(e,o)}},{key:"getListContent",value:function(){var e=this.children.head;return e instanceof Ct?e:null}}],[{key:"create",value:function(e){var o=Object(V.a)(Object(W.a)(t),"create",this).call(this,e);return vt(o,e),o}}]),t}(Ee(be.a));Object(h.a)(St,"scope",le.a.Scope.BLOCK_BLOT),Object(h.a)(St,"blotName","listItemWrapper"),Object(h.a)(St,"className","listItemWrapper"),Object(h.a)(St,"tagName",at.LI),Object(h.a)(St,"parentName",[Ot.blotName,yt.blotName]);var Ct=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"useWrapperReplacement",!1),Object(h.a)(Object(_e.a)(o),"flattenSelfAndSiblings",(function(){if(o.parent instanceof St){for(var e,t,n=o.parent;n!==o.scroll;)n instanceof jt&&(t=n),n instanceof St&&(e=n),n=n.parent;var r=e?e.next:void 0;o.parent.flattenSelfAndSiblings(t,r)}})),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"createWrapper",value:function(){var e=this.getValue();return le.a.create(St.blotName,e)}},{key:"updateIndentValue",value:function(e){e=Math.min(4,e),this.domNode.setAttribute("data-depth",e),this.parent.domNode.setAttribute("data-depth",e),this.cache={}}},{key:"canIndent",value:function(){var e=this.parent instanceof St&&this.parent.prev instanceof St,t=this.parent instanceof St&&this.parent.parent instanceof jt&&this.parent.parent.prev instanceof jt,o=this.getValue().depth<4;return(e||t)&&o}},{key:"canOutdent",value:function(){return this.getValue().depth>0||""===this.domNode.textContent}},{key:"indent",value:function(){this.canIndent()&&this.updateIndentValue(this.getValue().depth+1)}},{key:"outdent",value:function(){if(this.canOutdent()){var e=this.getValue();if(0===e.depth){if(0!==(this.domNode.textContent||"").length)return;this.breakUpGroupAndMoveToScroll()}this.updateIndentValue(e.depth-1)}}},{key:"replaceWith",value:function(e,o){if(e===t.blotName)return o?"object"===Object(q.a)(o)&&o.type!==this.getValue().type?this.breakUpGroupAndMoveToScroll(e,o):Object(V.a)(Object(W.a)(t.prototype),"replaceWith",this).call(this,e,o):this.breakUpGroupAndMoveToScroll();this.breakUpGroupAndMoveToScroll(e,o)}},{key:"breakUpGroupAndMoveToScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o="string"==typeof e?le.a.create(e,t):e;this.children.forEach((function(e){o.appendChild(e.clone())}));var n=this.parent;this.flattenSelfAndSiblings();var r=(n=this.parent).parent;if(null===n.prev){this.scroll.insertBefore(o,r);var i=n.getListGroup();i&&this.scroll.insertBefore(i,r),n.remove()}else{var a=r.split(n.offset(r));this.scroll.insertBefore(o,a),n.getListContent().remove()}return o}},{key:"getValue",value:function(){return bt(this.domNode)}}],[{key:"create",value:function(e){e=this.mapListValue(e);var t=document.createElement("p");return t.classList.add(this.className),vt(t,e),t}},{key:"getListDepth",value:function(e){for(var t=0,o=e.parentElement;o&&Object.values(at).includes(o.tagName);)o.tagName===at.LI&&t++,o=o.parentElement;return t}},{key:"formats",value:function(e){if(e.tagName===at.LI){var t=e.parentElement&&e.parentElement.tagName||at.UL;return{depth:this.getListDepth(e),type:t===at.OL?st.ORDERED:st.BULLETED}}if(e.classList.contains(this.className))return bt(e)}},{key:"mapListValue",value:function(e){if("object"===Object(q.a)(e))return gt({},e,{depth:Math.min(4,e.depth)});switch(e){case"bullet":return{type:st.BULLETED,depth:0};case"ordered":return{type:st.ORDERED,depth:0};default:return{type:st.BULLETED,depth:0}}}}]),t}(we);Object(h.a)(Ct,"blotName","list"),Object(h.a)(Ct,"className","listItem"),Object(h.a)(Ct,"parentName",St.blotName),Object(h.a)(Ct,"tagName",at.LI),yt.allowedChildren=[St],Ot.allowedChildren=[St],St.allowedChildren=[jt,Ct];
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var _t=function(){function e(t,o){var n=this;Object(H.a)(this,e),this.quill=t,this.range=o,Object(h.a)(this,"bold",(function(){n.handleInlineFormat(te.blotName)})),Object(h.a)(this,"italic",(function(){n.handleInlineFormat(ne.blotName)})),Object(h.a)(this,"strike",(function(){n.handleInlineFormat(ae.blotName)})),Object(h.a)(this,"codeInline",(function(){n.handleInlineFormat(ue.a.blotName)})),Object(h.a)(this,"link",(function(e){Object(b.l)(n.quill,re.a,n.range)?Object(b.b)(n.quill,re.a,n.range):n.quill.formatText(n.range.index,n.range.length,re.a.blotName,e,Q.a.sources.USER)})),Object(h.a)(this,"paragraph",(function(){e.BLOCK_FORMAT_NAMES.forEach((function(e){n.quill.formatLine(n.range.index,n.range.length,e,!1,Q.a.sources.API)})),n.quill.update(Q.a.sources.USER)})),Object(h.a)(this,"h2",(function(){n.quill.formatLine(n.range.index,n.range.length,$.blotName,2,Q.a.sources.USER)})),Object(h.a)(this,"h3",(function(){n.quill.formatLine(n.range.index,n.range.length,$.blotName,3,Q.a.sources.USER)})),Object(h.a)(this,"h4",(function(){n.quill.formatLine(n.range.index,n.range.length,$.blotName,4,Q.a.sources.USER)})),Object(h.a)(this,"h5",(function(){n.quill.formatLine(n.range.index,n.range.length,$.blotName,5,Q.a.sources.USER)})),Object(h.a)(this,"codeBlock",(function(){var t=n.quill.getLines(n.range.index,n.range.length);0===t.length&&(t=[n.quill.getLine(n.range.index)[0]]);var o=t[0],r=t[t.length-1],i=o.offset(n.quill.scroll),a=r.offset(n.quill.scroll)+r.length()-i,s={index:i,length:a};e.INLINE_FORMAT_NAMES.forEach((function(e){n.quill.formatText(i,a,e,!1,Q.a.sources.SILENT)}));var l=n.replaceInlineEmbeds(s);n.quill.formatLine(i,a+l,lt.a.blotName,!0,Q.a.sources.USER)})),Object(h.a)(this,"blockquote",(function(){n.quill.formatLine(n.range.index,n.range.length,nt.blotName,!0,Q.a.sources.USER)})),Object(h.a)(this,"spoiler",(function(){n.quill.formatLine(n.range.index,n.range.length,et.blotName,!0,Q.a.sources.USER)})),Object(h.a)(this,"bulletedList",(function(){var e={type:st.BULLETED,depth:0};n.quill.formatLine(n.range.index,n.range.length,Ct.blotName,e,Q.a.sources.USER)})),Object(h.a)(this,"orderedList",(function(){var e={type:st.ORDERED,depth:0};n.quill.formatLine(n.range.index,n.range.length,Ct.blotName,e,Q.a.sources.USER)})),Object(h.a)(this,"getListItems",(function(){if(0===n.range.length){var e=n.quill.scroll.descendant((function(e){return e instanceof Ct}),n.range.index)[0];return e?[e]:[]}return n.quill.scroll.descendants((function(e){return e instanceof Ct}),n.range.index,n.range.length)})),Object(h.a)(this,"indentList",(function(){var e=n.getListItems(),t=n.quill.getSelection();n.quill.history.cutoff(),e.forEach((function(e){e.indent(),n.quill.update(Q.a.sources.USER)})),n.quill.history.cutoff(),n.quill.setSelection(t)})),Object(h.a)(this,"outdentList",(function(){var e=n.getListItems(),t=n.quill.getSelection();n.quill.history.cutoff(),e.forEach((function(e){e.outdent(),n.quill.update(Q.a.sources.USER)})),n.quill.history.cutoff(),n.quill.setSelection(t)}))}return Object(U.a)(e,[{key:"handleInlineFormat",value:function(e){var t=!0===this.quill.getFormat(this.range)[e];this.quill.formatText(this.range.index,this.range.length,e,!t,Q.a.sources.USER),this.quill.update(Q.a.sources.USER)}},{key:"replaceInlineEmbeds",value:function(e){var t=this,o=this.quill.scroll.descendants(he.a,e.index,e.length),n=0;return o.forEach((function(e){var o=e.domNode.innerText||"";o=o.replace(/[\u200B-\u200D\uFEFF]/g,""),n+=o.length-1,e.replaceWith("text",o),t.quill.update(Q.a.sources.USER)})),n}}]),e}();function Et(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function wt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Et(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Et(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(h.a)(_t,"INLINE_FORMAT_NAMES",[te.blotName,ne.blotName,ae.blotName,ue.a.blotName,re.a.blotName]),Object(h.a)(_t,"BLOCK_FORMAT_NAMES",[lt.a.blotName,nt.blotName,et.blotName,$.blotName,Ct.blotName]);var xt,kt,Lt,It=function(){function e(t){var o=this;Object(H.a)(this,e),this.quill=t,Object(h.a)(this,"bindings",{}),Object(h.a)(this,"handleMultilineEnter",(function(e){var t=o.quill.getLine(e.index),n=Object(p.a)(t,1)[0],r=n.getWrapper();return n!==r.children.tail||(""!==n.domNode.textContent||(!n.prev||(Object(b.g)(o.quill,e),!1)))})),Object(h.a)(this,"handleCodeBlockEnter",(function(e){var t=o.quill.getLine(e.index),n=Object(p.a)(t,1)[0].domNode.textContent;return!/\n\n\n$/.test(n)||(Object(b.g)(o.quill,e,2),!1)})),Object(h.a)(this,"handleBlockStartDelete",(function(e){var t=o.quill.getLine(e.index),n=Object(p.a)(t,1)[0];return!Object(b.j)(n,o.quill)||(Object(b.n)(o.quill),!1)})),Object(h.a)(this,"clearFirstPositionMultiLineBlot",(function(e){var t=o.quill.getLine(e.index),n=Object(p.a)(t,1)[0],r=o.quill.getSelection(),i=e.index<r.index,a=e.index+e.length>r.index+r.length,s=0===r.index,l=s,c=n instanceof we||n instanceof lt.a||n instanceof ft.a;if((i||a||l)&&c){var u=new pt.a,h=e;s&&(u=u.insert("\n"),h.length+=1),o.quill.updateContents(u,dt.a.sources.USER),o.quill.setSelection(h),Object(b.n)(o.quill),o.quill.setSelection(h)}return!0})),Object(h.a)(this,"transformLinkOnlyLineToEmbed",(function(e){var t=o.quill.getLine(e.index)[0];if(e.index<t.offset()+t.length()-1)return!0;if("block"!==t.statics.blotName)return!0;var n=t.children.head.statics.blotName;if(t.children.length>1||!["text","link"].includes(n))return!0;var r=t.domNode.textContent||"";if(r=r.trim(),Object(me.e)(r)){var i=o.quill.getModule("embed/insertion"),a=t.offset();return o.quill.deleteText(a,t.length(),Q.a.sources.USER),o.quill.insertText(a,"\n",Q.a.sources.USER),o.quill.setSelection(a,0,Q.a.sources.USER),i.scrapeMedia(r),!1}return!0})),this.resetDefaultBindings(),this.addBlockNewLineHandlers(),this.addBlockArrowKeyHandlers(),this.addBlockBackspaceHandlers(),this.addLinkTransformKeyboardBindings(),this.overwriteFormatHandlers()}return Object(U.a)(e,[{key:"handleMultiLineBackspace",value:function(e){var t=this.quill.getLine(e.index),o=Object(p.a)(t,1)[0];if(o.prev||o.next)return!0;if(""!==o.getWrapper().domNode.textContent)return!0;var n=(new pt.a).retain(e.index).retain(1,Object(h.a)({},o.constructor.blotName,!1));return this.quill.updateContents(n,dt.a.sources.USER),!1}},{key:"handleCodeBlockBackspace",value:function(e){var t=this.quill.getLine(e.index);if("\n"!==Object(p.a)(t,1)[0].domNode.textContent)return!0;var o=(new pt.a).retain(e.index).retain(1,Object(h.a)({},lt.a.blotName,!1));return this.quill.updateContents(o,dt.a.sources.USER),!1}},{key:"insertNewlineBeforeRange",value:function(e){return 0===e.index&&Object(b.i)(this.quill),!0}},{key:"insertNewlineAfterRange",value:function(e){return e.index+1===this.quill.scroll.length()&&Object(b.h)(this.quill),!0}},{key:"resetDefaultBindings",value:function(){this.bindings.tab=!1,this.bindings["indent code-block"]=!1,this.bindings["outdent code-block"]=!1,this.bindings["remove tab"]=!1,this.bindings["code exit"]=!1,this.bindings.indent=!1,this.bindings.outdent=!1,this.bindings["outdent backspace"]=!1,this.bindings["list empty enter"]=!1,this.bindings["checklist enter"]=!1}},{key:"addLinkTransformKeyboardBindings",value:function(){this.bindings["transform text to embed"]={key:ut.a.keys.ENTER,collapsed:!0,handler:this.transformLinkOnlyLineToEmbed}}},{key:"addBlockNewLineHandlers",value:function(){var e=this;this.bindings["MutliLine Enter"]={key:ut.a.keys.ENTER,collapsed:!0,format:["spoiler-line","blockquote-line"],handler:this.handleMultilineEnter},this.bindings["CodeBlock Enter"]={key:ut.a.keys.ENTER,collapsed:!0,format:[lt.a.blotName],handler:this.handleCodeBlockEnter},this.bindings["List Enter"]={key:ut.a.keys.ENTER,collapsed:!0,format:[Ct.blotName],handler:function(t){var o=new _t(e.quill,t).getListItems(),n=!1;return o.forEach((function(e){""===e.domNode.textContent&&(e.outdent(),n=!0)})),!n||(e.quill.update(Q.a.sources.USER),e.quill.setSelection(t,Q.a.sources.API),!1)}}}},{key:"overwriteFormatHandlers",value:function(){this.bindings.bold=this.makeFormatHandler("bold"),this.bindings.italic=this.makeFormatHandler("italic"),this.bindings.underline=this.makeFormatHandler("underline")}},{key:"makeFormatHandler",value:function(e){var t=this;return{key:e[0].toUpperCase(),shortKey:!0,handler:function(o,n){Object(b.l)(t.quill,lt.a,o)||Object(b.l)(t.quill,ue.a,o)||t.quill.format(e,!n.format[e],Q.a.sources.USER)}}}},{key:"addBlockBackspaceHandlers",value:function(){var t=this;this.bindings["List Backspace"]={key:ut.a.keys.BACKSPACE,offset:0,collapsed:!0,format:[Ct.blotName],handler:function(e){return new _t(t.quill,e).getListItems()[0].replaceWith("block",""),t.quill.setSelection(e,Q.a.sources.SILENT),!0}},this.bindings["Block Backspace With Selection"]={key:ut.a.keys.BACKSPACE,collapsed:!1,handler:this.clearFirstPositionMultiLineBlot},this.bindings["Block Delete"]={key:ut.a.keys.BACKSPACE,offset:0,collapsed:!0,format:e.MULTI_LINE_BLOTS,handler:this.handleBlockStartDelete},this.bindings["MultiLine Backspace"]={key:ut.a.keys.BACKSPACE,collapsed:!0,format:["spoiler-line","blockquote-line"],handler:this.handleMultiLineBackspace},this.bindings["CodeBlock Backspace"]={key:ut.a.keys.BACKSPACE,collapsed:!0,format:[lt.a.blotName],handler:this.handleCodeBlockBackspace}}},{key:"addBlockArrowKeyHandlers",value:function(){var t={collapsed:!0,format:e.MULTI_LINE_BLOTS};this.bindings["Block Up"]=wt({},t,{key:ut.a.keys.UP,handler:this.insertNewlineBeforeRange}),this.bindings["Block Left"]=wt({},t,{key:ut.a.keys.LEFT,handler:this.insertNewlineBeforeRange}),this.bindings["Block Down"]=wt({},t,{key:ut.a.keys.DOWN,handler:this.insertNewlineAfterRange}),this.bindings["Block Right"]=wt({},t,{key:ut.a.keys.RIGHT,handler:this.insertNewlineAfterRange})}}]),e}();Object(h.a)(It,"MULTI_LINE_BLOTS",[et.blotName,nt.blotName,lt.a.blotName,Ct.blotName]),function(e){e.ENTER="Enter",e.SPACE=" "}(xt||(xt={})),function(e){e.INLINE="inline",e.BLOCK="block"}(kt||(kt={})),function(e){e.ENTER="Enter",e.SPACE=" ",e.PERIOD=".",e.COMMA=",",e.QUESTION="?",e.QUESTION_INVERT="¿",e.SLASH="/",e.ESCLAME="!",e.ESCLAME_INVERT="¡",e.QUOTE='"',e.APOSTOPH="'",e.STAR="*",e.COLON=":",e.SEMI_COLON=";"}(Lt||(Lt={}));var Nt=[].concat(Object(k.a)(Object.values(xt)),Object(k.a)(Object.values(Lt))),Tt=function(){function e(t){var o=this;Object(H.a)(this,e),this.quill=t,Object(h.a)(this,"ignoreTags",["PRE"]),Object(h.a)(this,"keyDownHandler",(function(e){if(Nt.includes(e.key)){var t=o.getFormattableText();if(t){var n=t.text,r=t.lineStart,i=!0,a=!1,s=void 0;try{for(var l,c=o.matchers[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;switch(u.type){case kt.INLINE:if(!Object.values(Lt).includes(e.key))continue;break;case kt.BLOCK:if(!Object.values(xt).includes(e.key))continue}if(n.match(u.pattern))return u.preventsDefault&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),o.quill.history.cutoff(),u.handler(n,o.quill.getSelection(),u.pattern,r),o.quill.history.cutoff(),!1}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}}})),Object(h.a)(this,"matchers",[{name:"header",type:kt.BLOCK,preventsDefault:!0,pattern:/^(#){2,5}$/g,handler:function(e,t,n){var r=n.exec(e);if(r){var i=r[0].length,a=(new pt.a).retain(t.index-i).delete(i).retain(1,Object(h.a)({},X.blotName,i));o.quill.updateContents(a,Q.a.sources.USER)}}},{name:"blockquote",type:kt.BLOCK,preventsDefault:!0,pattern:/^(>)/g,handler:function(e,t){var n=e.length,r=(new pt.a).retain(t.index-n).delete(n).retain(1,Object(h.a)({},nt.blotName,!0));o.quill.updateContents(r,Q.a.sources.USER)}},{name:"spoiler",type:kt.BLOCK,pattern:/^!>$/g,preventsDefault:!0,handler:function(e,t){var n=e.length,r=(new pt.a).retain(t.index-n).delete(n).retain(1,Object(h.a)({},et.blotName,!0)).delete(1);o.quill.updateContents(r,Q.a.sources.USER)}},{name:"code-block",type:kt.BLOCK,preventsDefault:!0,pattern:/^`{3}$/g,handler:function(e,t){var n=(new pt.a).retain(t.index-3).delete(4).insert("\n",{"code-block":!0});o.quill.updateContents(n,Q.a.sources.USER),o.quill.setSelection(t.index-3,0,Q.a.sources.USER)}},{name:"bolditalic",type:kt.INLINE,pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}$/g,handler:function(e,t,n,r){var i=n.exec(e);if(i){var a=i[0],s=i[1],l=r+i.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{bold:!0,italic:!0}),o.quill.format("bold",!1))}}},{name:"bold",type:kt.INLINE,pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}$/g,handler:function(e,t,n,r){var i=n.exec(e);if(i){var a=i[0],s=i[1],l=r+i.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{bold:!0}),o.quill.format("bold",!1))}}},{name:"italic",type:kt.INLINE,pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}$/g,handler:function(e,t,n,r){var i=n.exec(e);if(i){var a=i[0],s=i[1],l=r+i.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{italic:!0}),o.quill.format("italic",!1))}}},{name:"strikethrough",type:kt.INLINE,pattern:/(?:~~)(.+?)(?:~~)$/g,handler:function(e,t,n,r){var i=n.exec(e);if(i){var a=i[0],s=i[1],l=r+i.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,{strike:!0}),o.quill.format("strike",!1))}}},{name:"code",type:kt.INLINE,pattern:/(?:`)(.+?)(?:`)$/g,handler:function(e,t,n,r){var i=n.exec(e);if(i&&!o.quill.getFormat(t)[lt.a.blotName]){var a=i[0],s=i[1],l=r+i.index;e.match(/^([*_ \n]+)$/g)||(o.quill.deleteText(l,a.length),o.quill.insertText(l,s,Object(h.a)({},ue.a.blotName,!0)),o.quill.format(ue.a.blotName,!1),o.quill.insertText(o.quill.getSelection().index," "))}}}])}return Object(U.a)(e,[{key:"registerHandler",value:function(){this.quill.root.addEventListener("keydown",this.keyDownHandler)}},{key:"canFormatRange",value:function(e){var t=this.quill.getFormat(e),o=!1;return _t.INLINE_FORMAT_NAMES.forEach((function(e){t[e]&&(o=!0)})),!o}},{key:"getFormattableText",value:function(){var e=this.quill.getSelection();if(!e)return null;if(e.length>0)return null;var t=this.quill.getLine(e.index),o=Object(p.a)(t,2),n=o[0];o[1];if(!n.children)return null;var r=n.offset(this.quill.scroll),i=this.quill.getText(r,e.index-r),a=i.lastIndexOf(" ");if(a>=0){var s=0;n.children.forEachAt(0,e.index-r,(function e(t){t instanceof he.a?s++:t.children&&t.children.forEach(e)})),r+=a+s+1,i=i.substr(a+1)}return this.canFormatRange({index:r,length:i.length})?{text:i,lineStart:r}:null}}]),e}(),Rt=function e(t){var o=this;Object(H.a)(this,e),this.quill=t,Object(h.a)(this,"handleClick",(function(e){if(e.target===o.quill.root){var t=o.quill.scroll.children.tail;if(t instanceof de.a){var n=t.domNode.getBoundingClientRect().bottom;if(!(e.y<=n))new Y.c(Y.c.create("\n")).insertInto(o.quill.scroll),o.quill.update(Q.a.sources.USER),o.quill.setSelection(o.quill.scroll.length(),0,Q.a.sources.USER)}}})),this.quill.root.addEventListener("click",this.handleClick)};function At(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Mt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?At(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):At(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Pt=function(e){function t(e,o){var n;Object(H.a)(this,t);var r=F(!1),i=Mt({},o,{placeholder:"Create a new post...",scrollingContainer:"body"});n=Object(G.a)(this,Object(W.a)(t).call(this,e,i)),Object(h.a)(Object(_e.a)(n),"lastGoodSelection",void 0),n.applyLastSelectionHack(),n.quill.root.classList.add(r.text),n.quill.root.classList.add("richEditor-text"),n.quill.root.classList.add("userContent"),n.addModule("embed/insertion"),n.addModule("embed/focus");var a=new It(n.quill);return n.options.modules.keyboard.bindings=Mt({},n.options.modules.keyboard.bindings,{},a.bindings),new Tt(n.quill).registerHandler(),new Rt(n.quill),n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"applyLastSelectionHack",value:function(){var e=this;this.lastGoodSelection={index:0,length:0},this.quill.on(Q.a.events.EDITOR_CHANGE,(function(t,o,n,r){var i=e.quill.getSelection();i&&r!==Q.a.sources.SILENT&&(e.lastGoodSelection=i)})),this.quill.getLastGoodSelection=function(){return e.lastGoodSelection}}}]),t}(ct.a),Dt=o(384),zt=o(167),Bt=function(e){function t(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e,r)),Object(h.a)(Object(_e.a)(o),"lastSelection",{index:0,length:0}),Object(h.a)(Object(_e.a)(o),"editorRoot",void 0),Object(h.a)(Object(_e.a)(o),"formWrapper",void 0),Object(h.a)(Object(_e.a)(o),"escapeMobileFullScreen",(function(e){var t=window.getComputedStyle(o.editorRoot).getPropertyValue("position");if(o.editorRoot.classList.contains("isFocused")&&"fixed"===t&&ut.a.match(e,{key:ut.a.keys.ESCAPE,shiftKey:!1})){o.quill.root.focus();var r=new n.c(o.formWrapper).getNext();r&&(r.focus(),o.editorRoot.classList.toggle("isFocused",!1))}})),Object(h.a)(Object(_e.a)(o),"handleTab",(function(){var e=document.activeElement;o.quill.root.contains(document.activeElement)&&(e=o.quill.root);o.getEmbedBlotForFocusedElement(),ft.a;var t=new n.c(o.formWrapper,void 0,[o.quill.root]).getNext(e,!1,!1);return!!t&&(t===o.quill.root?o.focusFirstLine():t.focus(),!0)})),Object(h.a)(Object(_e.a)(o),"handleShiftTab",(function(){var e=document.activeElement;o.quill.root.contains(document.activeElement)&&(e=o.quill.root);var t=new n.c(o.formWrapper,void 0,[o.quill.root]).getNext(e,!0,!1);return!!t&&(t===o.quill.root?o.focusLastLine():t.focus(),!0)})),Object(h.a)(Object(_e.a)(o),"handleArrowKeyFromEmbed",(function(e,t){var n=t.offset(o.quill.scroll),r=n+t.length()===o.quill.scroll.length(),i=0===n,a=[ut.a.keys.LEFT,ut.a.keys.UP].includes(e),s=[ut.a.keys.RIGHT,ut.a.keys.DOWN].includes(e);if(i&&a)return Object(b.i)(o.quill),!0;if(r&&s)return Object(b.h)(o.quill),!0;var l=o.getNextBlotFromArrowKey(t,e);return!!l&&(o.arrowToBlot(l),!0)})),Object(h.a)(Object(_e.a)(o),"handleDeleteOnQuill",(function(){var e=o.quill.getSelection(),t=e&&o.quill.getLine(e.index)[0];if(!t)return!1;var n=t.prev,r=""===t.domNode.textContent;return!!(n instanceof ft.a&&r)&&(t.remove(),n.focus(),!0)})),Object(h.a)(Object(_e.a)(o),"keyDownListener",(function(e){if(!Object(zt.b)(e)&&o.editorRoot.contains(document.activeElement)){var t=o.getEmbedBlotForFocusedElement(),n=o.quill.getLine(o.lastSelection.index),r=Object(p.a)(n,1)[0],i=o.getNextBlotFromArrowKey(r,e.keyCode);if(o.isKeyCodeArrowKey(e.keyCode)&&!e.shiftKey&&!o.inActiveMention)if(t instanceof ft.a){if(o.handleArrowKeyFromEmbed(e.keyCode,t))return e.preventDefault(),void e.stopPropagation()}else o.quill.hasFocus()&&i instanceof ft.a&&(e.preventDefault(),e.stopPropagation(),i.focus());if(o.isKeyCodeDelete(e.keyCode))if(t instanceof ft.a)e.preventDefault(),e.stopPropagation(),t.remove(),Object(b.c)();else if(o.quill.hasFocus()){if(o.handleDeleteOnQuill())return e.preventDefault(),void e.stopPropagation()}ut.a.match(e,ut.a.keys.ENTER)&&t instanceof ft.a&&(e.preventDefault(),e.stopPropagation(),t.insertNewlineAfter())}})),Object(h.a)(Object(_e.a)(o),"tabListener",(function(e){if(o.formWrapper.contains(document.activeElement)){var t=!1;ut.a.match(e,{key:ut.a.keys.TAB,shiftKey:!0})?t=o.handleShiftTab():ut.a.match(e,{key:ut.a.keys.TAB,shiftKey:!1})&&(t=o.handleTab()),t&&(e.preventDefault(),e.stopPropagation())}})),o.editorRoot=o.quill.root.closest(".richEditor"),o.formWrapper=o.editorRoot.closest(".FormWrapper")||o.editorRoot.closest(".FormTitleWrapper"),!o.editorRoot)throw new Error("Cannot initialize the EmbedFocusModule without an editorRoot (.richEditor class)");if(!o.formWrapper)throw new Error("Cannot initialize the EmbedFocusModule without a FormWrapper (.FormWrapper or .FormTitleWrapper class)");return o.quill.root.setAttribute("tabindex",0),e.on("selection-change",(function(e,t,n){e&&n!==Q.a.sources.SILENT&&(o.lastSelection=e,o.editorRoot.classList.toggle("isFocused",!0))})),o.setupEmbedClickHandler(),o.quill.root.addEventListener("keydown",o.keyDownListener),o.formWrapper.addEventListener("keydown",o.tabListener),o.editorRoot.addEventListener("keydown",o.escapeMobileFullScreen),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"focusLastLine",value:function(){var e=this.quill.scroll.length()-1,t=Object(b.d)(this.quill,e,ft.a);t?t.focus():(this.quill.focus(),this.quill.setSelection(e,0,Q.a.sources.USER))}},{key:"focusFirstLine",value:function(){var e=this.quill.scroll.children.head;e instanceof ft.a?e.focus():(this.quill.focus(),this.quill.setSelection(0,0,Q.a.sources.USER))}},{key:"arrowToBlot",value:function(e){if(e instanceof ft.a)e.focus();else{var t=e.offset(this.quill.scroll);this.quill.setSelection(t,0)}}},{key:"getEmbedBlotForFocusedElement",value:function(){if(document.activeElement instanceof Element){var e=document.activeElement;if(!e.classList.contains("js-embed")){var t=e.closest(".js-embed");if(!t)return;e=t}return le.a.find(e)}}},{key:"getNextBlotFromArrowKey",value:function(e,t){if(!e)return null;switch(t){case ut.a.keys.DOWN:return e.next;case ut.a.keys.UP:return e.prev;case ut.a.keys.RIGHT:var o=e.offset()+e.length()-1;if(this.lastSelection.index===o)return e.next;break;case ut.a.keys.LEFT:if(this.lastSelection.index===e.offset())return e.prev}}},{key:"setupEmbedClickHandler",value:function(){Object(n.e)("click","a",(function(e,t){Object(zt.b)(e)||(e.preventDefault(),e.stopPropagation())}),this.quill.container),Object(n.e)("click",".js-embed",(function(e,t){if(!Object(zt.b)(e)){var o=le.a.find(t);o instanceof ft.a&&o.focus()}}),this.quill.container)}},{key:"isKeyCodeArrowKey",value:function(e){var t=ut.a.keys;return[t.UP,t.DOWN,t.LEFT,t.RIGHT].includes(e)}},{key:"isKeyCodeDelete",value:function(e){var t=ut.a.keys;return[t.BACKSPACE,t.DELETE].includes(e)}},{key:"inActiveMention",get:function(){var e={index:0,length:this.quill.scroll.length()-1};return Object(b.l)(this.quill,je,e)}}]),t}(Dt.a),Ft=o(31),qt=o(443),Ht=function(e){function t(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(H.a)(this,t),(o=Object(G.a)(this,Object(W.a)(t).call(this,e,r))).quill=e,Object(h.a)(Object(_e.a)(o),"maxUploads",Object(me.d)("upload.maxUploads",20)),Object(h.a)(Object(_e.a)(o),"createEmbed",(function(e){var t=le.a.create("embed-external",e),n=o.quill.getLastGoodSelection().index;Object(b.f)(o.quill,n,t),o.quill.update(Q.a.sources.USER),o.quill.setSelection(t.offset(o.quill.scroll)+t.length(),0)})),Object(h.a)(Object(_e.a)(o),"pasteHandler",(function(e){var t=Object(n.k)(e);t&&(Object(L.d)(t)?o.createImageEmbed(t):o.createFileEmbed(t))})),Object(h.a)(Object(_e.a)(o),"dragHandler",(function(e){var t=Object(n.j)(e);if(t){var r=Array.from(t);if(t.length>=o.maxUploads){var i=new Error("Can't upload more than ".concat(o.maxUploads," files at once."));throw o.createErrorEmbed(i),i}r.forEach((function(e){Object(L.d)(e)?o.createImageEmbed(e):o.createFileEmbed(e)}))}})),o.quill=e,o.setupImageUploads(),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"scrapeMedia",value:function(e){var t=new FormData;t.append("url",e);var o=Ft.a.post("/media/scrape",t).then((function(e){return e.data}));this.createEmbed({loaderData:{type:"link",link:e},dataPromise:o})}},{key:"createErrorEmbed",value:function(e){var t={error:e,type:fe.a.STANDARD},o=new fe.b(fe.b.create(t),t),n=this.quill.getLastGoodSelection().index;Object(b.f)(this.quill,n,o),this.quill.update(Q.a.sources.USER),this.quill.setSelection(o.offset(this.quill.scroll)+o.length(),0)}},{key:"createImageEmbed",value:function(e){var t=Object(Ft.d)(e).then((function(e){return e.embedType="image",e}));this.createEmbed({loaderData:{type:"image"},dataPromise:t})}},{key:"createFileEmbed",value:function(e){var t=new qt.a,o=Object(Ft.d)(e,{onUploadProgress:t.emit}).then((function(e){return e.embedType="file",e}));this.createEmbed({loaderData:{type:"file",file:e,progressEventEmitter:t},dataPromise:o})}},{key:"setupImageUploads",value:function(){this.quill.root.addEventListener("drop",this.dragHandler,!1),this.quill.root.addEventListener("paste",this.pasteHandler,!1)}}]),t}(Dt.a),Ut=o(137),Gt=o(382),Wt=o(441);function Vt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var Kt=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Yt=function(e){function t(e,o){var n;return Object(H.a)(this,t),n=Object(G.a)(this,Object(W.a)(t).call(this,e,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Vt(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Vt(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},o))),Object(h.a)(Object(_e.a)(n),"Z_KEYCODE",90),Object(h.a)(Object(_e.a)(n),"isCodeBlock",(function(e){return"object"===Object(q.a)(e)&&"attributes"in e&&"object"===Object(q.a)(e.attributes)&&Gt.b.blotName in e.attributes&&e.attributes[Gt.b.blotName]})),Object(h.a)(Object(_e.a)(n),"isEmbedInsert",(function(e){return n.isInsertOperation(e)&&de.a.blotName in e.insert})),Object(h.a)(Object(_e.a)(n),"isEmbedLoadedInsert",(function(e){return n.isEmbedInsert(e)&&"data"in e.insert[de.a.blotName]})),Object(h.a)(Object(_e.a)(n),"isInsertOperation",(function(e){return"object"===Object(q.a)(e)&&"insert"in e&&"object"===Object(q.a)(e.insert)})),Object(h.a)(Object(_e.a)(n),"undoKeyboardListener",(function(e){e.keyCode===n.Z_KEYCODE&&e[Kt]&&document.activeElement&&document.activeElement.classList.contains(Ut.a)&&(e.shiftKey?n.redo():n.undo())})),document.addEventListener("keydown",n.undoKeyboardListener,!0),n}return Object(K.a)(t,e),Object(U.a)(t,[{key:"actionIsEmbedCompletion",value:function(e,t){var o=this.operationsContain(t.ops,this.isEmbedLoadedInsert),n=this.operationsContain(e.ops,this.isEmbedLoadedInsert);return o||n}},{key:"operationsContain",value:function(e,t){if(!e)return!1;var o=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){if(t(i.value))return!0}}catch(e){n=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw r}}return!1}},{key:"record",value:function(e,o){this.operationsContain(e.ops,this.isEmbedInsert)&&this.cutoff(),this.operationsContain(e.ops,this.isCodeBlock)&&this.cutoff();var n=this.quill.getContents().diff(o);this.actionIsEmbedCompletion(n,e)||Object(V.a)(Object(W.a)(t.prototype),"record",this).call(this,e,o)}}]),t}(Wt.a),Zt=o(670),$t=o(466),Xt=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(Q.a.sources.USER);var t=this.quill.getSelection(),o=this.quill.hasFocus();this.quill.scroll.descendants(lt.a).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(Q.a.sources.SILENT),null!=t&&o&&this.quill.setSelection(t,Q.a.sources.SILENT)}}}],[{key:"register",value:function(){Object(V.a)(Object(W.a)(t),"register",this).call(this),Q.a.register(lt.a,!0)}}]),t}(o(442).b),Qt=!1;var Jt=o(126),eo=o.n(Jt),to=o(30),oo=o(80),no=[{insert:"\n"}];function ro(e){var t,o,a,s,l,c,u,p,d,m,g=i.a.createRef();return t=g,a=Object(r.useRef)(),s=f().setQuillInstance,Object(r.useEffect)((function(){if(Qt||(Qt=!0,Q.a.register({"formats/blockquote/line":nt,"formats/blockquote/content":rt,"formats/blockquote/wrapper":it,"formats/spoiler/line":et,"formats/spoiler/content":tt,"formats/spoiler/wrapper":ot,"formats/codeBlock":lt.a,"formats/header":X,"formats/list/unordedGroup":Ot,"formats/list/orderedGroup":yt,"formats/list/item":Ct,"formats/list/wrapper":St,"formats/embed-error":fe.b,"formats/embed-loading":$t.a,"formats/embed-external":de.a,"formats/mention":ge,"formats/mention-combobox":ye,"formats/mention-autocomplete":je,"formats/bold":te,"formats/codeInline":ue.a,"formats/italic":ne,"formats/link":re.a,"formats/strike":ae,"formats/emoji":pe,"formats/indent":ce,"themes/vanilla":Pt,"modules/embed/insertion":Ht,"modules/embed/focus":Bt,"modules/history":Yt,"modules/clipboard":Zt.a,"modules/syntax":Xt},!0),["blots/inline","formats/bold","formats/italic","formats/strike","formats/link","formats/codeInline"].forEach((function(e){var t=Q.a.import(e);t.order=[].concat(Object(k.a)(t.order),[ue.a.blotName])})),["blots/block","formats/list/item","formats/header","formats/bold","formats/italic","formats/strike"].forEach((function(e){var t=Q.a.import(e);t.allowedChildren=[].concat(Object(k.a)(t.allowedChildren),[ye])}))),t.current){var e=new Q.a(t.current,{theme:"vanilla",modules:{syntax:{highlight:function(){}}}});return e.setContents(no),s(e),a.current=e,window.quill=e,function(){s(null),window.quill=null}}}),[o,s]),a.current,l=e.legacyTextArea,c=f(),u=c.legacyMode,p=c.quill,Object(r.useEffect)((function(){if(u&&l&&p){var e=l.value;e&&Object(b.m)(p,JSON.parse(e))}}),[u,l,p]),Object(r.useEffect)((function(){if(u&&l&&p){var e=eo()((function(){requestAnimationFrame((function(){l.value=JSON.stringify(p.getContents().ops)}))}),1e3/60);p.on(Q.a.events.TEXT_CHANGE,e);var t=function(){Object(b.m)(p,[]),p.setSelection(null,Q.a.sources.USER)},o=p.container.closest("form");return o&&o.addEventListener("X-ClearCommentForm",t),function(){p.off(Q.a.events.TEXT_CHANGE,e),o&&o.removeEventListener("X-ClearCommentForm",t)}}}),[u,l,p]),function(e){var t=f(),o=t.legacyMode,n=t.quill;Object(r.useEffect)((function(){if(o&&e&&Object(L.a)()&&n){var t=function(e){e.stopPropagation(),e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("Text"),o=JSON.parse(t);n.setContents(o)};return e.addEventListener("paste",t),function(){e.addEventListener("paste",t)}}}),[o,n,e])}(e.legacyTextArea),function(e){var t=f(),o=t.legacyMode,n=t.quill,i=F(o),a=Object(oo.a)(),s=Object(r.useMemo)((function(){return Ie()("richEditor-text","userContent",i.text,Object(h.a)({},a.root,!o))}),[i.text,a.root,o]);Object(r.useEffect)((function(){n&&(n.root.classList.value+=" "+s)}),[n,s]),Object(r.useEffect)((function(){n&&e&&n.root.setAttribute("placeholder",e)}),[n,e])}(e.placeholder),function(){var e=f(),t=e.quill,o=e.isLoading,n=Object(to.d)(o);Object(r.useEffect)((function(){t&&(!n&&o?t.disable():n&&!o&&t.enable())}),[o,t,n])}(),function(){var e=f(),t=e.quill,o=e.initialValue,n=e.reinitialize,i=Object(to.d)(o),a=Object(to.d)(n);Object(r.useEffect)((function(){t&&o&&o.length>0&&i!==o&&a!==n&&t.setContents(o)}),[t,o,n,i,a])}(),function(){var e=f(),t=e.operationsQueue,o=e.quill,n=e.clearOperationsQueue;Object(r.useEffect)((function(){t&&o&&0!==t.length&&(t.forEach((function(e){var t=o.scroll.length();if("string"==typeof e)o.clipboard.dangerouslyPasteHTML(t,e),"\n"===o.getText(0,1)&&o.updateContents([{delete:1}]);else{var n=t>1?{retain:t}:{delete:1};o.updateContents([n].concat(Object(k.a)(e)))}})),n&&n())}),[o,t,n])}(),function(){var e=f().quill;Object(r.useEffect)((function(){var t=Object(n.e)("click",".js-quoteButton",(function(t,o){if(e){t.preventDefault();var n=e.getModule("embed/insertion"),r=o.getAttribute("data-scrape-url")||"";n.scrapeMedia(r),e.root.scrollIntoView&&e.root.scrollIntoView({behavior:"smooth"})}}));return function(){Object(n.n)(t)}}),[e])}(),d=io(),m=Object(r.useCallback)((function(){d(Q.a.events.SELECTION_CHANGE,null,null,Q.a.sources.USER)}),[d]),Object(r.useEffect)((function(){return document.addEventListener(b.a,m),function(){document.removeEventListener(b.a,m)}}),[m]),function(){var e=f().quill,t=io();Object(r.useEffect)((function(){if(e)return t(Q.a.events.TEXT_CHANGE,null,null,Q.a.sources.API),e.on(Q.a.events.EDITOR_CHANGE,t),function(){e.off(Q.a.events.EDITOR_CHANGE,t)}}),[e,t])}(),i.a.createElement("div",{className:"richEditor-textWrap",ref:g})}function io(){var e=f(),t=e.onChange,o=e.quill,n=C(),i=Object(r.useCallback)((function(){return o?(X.resetCounters(),o.scroll.descendants((function(e){return e instanceof X}),0,o.scroll.length()).forEach((function(e){return e.setGeneratedID()})),o.update(Q.a.sources.API),o.getContents().ops):[]}),[o]);return Object(r.useCallback)(eo()((function(e,r,a,s){if(o){t&&e===Q.a.events.TEXT_CHANGE&&s!==Q.a.sources.SILENT&&t(i());var l=!1;e===Q.a.events.SELECTION_CHANGE?l=!0:s!==Q.a.sources.SILENT&&(l=!0),l&&n.updateSelection(o.getSelection())}}),1e3/60),[o,t,i])}var ao=o(14);
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function so(e){function t(t){var o=f(),n=C();return i.a.createElement(e,Object(ao.a)({},o,n,t))}return t.displayName=e.displayName||e.name||"Component",t}var lo=o(74),co=o(59),uo=o(143),ho=o.n(uo),po=so(function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"quill",void 0),Object(h.a)(Object(_e.a)(o),"windowResizeListener",(function(){ho()((function(){o.setState({quillWidth:o.quill.root.offsetWidth})}),200)()})),o.quill=e.quill,o.state={quillWidth:o.quill.root.offsetWidth},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.extractValuesFromProps(this.props),n=this.extractValuesFromProps(e),r=!1;e.isActive&&o.selectionIndex!==n.selectionIndex&&(r=!0),e.isActive&&o.selectionLength!==n.selectionLength&&(r=!0);for(var i=0,a=Object.keys(o.otherProps);i<a.length;i++){var s=a[i];o.otherProps[s]!==n.otherProps[s]&&(r=!0)}return this.state.quillWidth!==t.quillWidth&&(r=!0),r}},{key:"render",value:function(){var e=P(),t=this.props.isActive?{x:this.getXCoordinates(this.props.legacyMode?0:-e.scrollContainer.overshoot),y:this.getYCoordinates()}:{x:null,y:null};return this.props.children(t)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.windowResizeListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.windowResizeListener)}},{key:"extractValuesFromProps",value:function(e){return{selectionIndex:e.selectionIndex,selectionLength:e.selectionLength,otherProps:Object(co.a)(e,["selectionIndex","selectionLength"])}}},{key:"getBounds",value:function(e,t){var o=this.props,n=o.selectionIndex,r=o.selectionLength;if(null===n||null===r)return null;var i,a=this.quill.getLines(n,r);if(a.length<=1)i=this.quill.getBounds(n,r);else{var s=a[a.length-1],l=this.quill.getIndex(s),c=Math.min(s.length()-1,n+r-l);i=this.quill.getBounds(l,c)}return i.y+=t,i.x+=e,i}},{key:"getXCoordinates",value:function(e){var t=this.getBounds(e);if(!t||!this.props.flyoutWidth)return null;var o=this.state.quillWidth,n=this.props.flyoutWidth,r=t.left,i=t.right;if("center"===(this.props.horizontalAlignment||"center")){var a=n/2,s=a+-6,l=o-a- -6,c=Math.round((r+i)/2),u=Math.max(s,Math.min(l,c))-a;return{position:u,nubPosition:c-u}}var h=r,p=o-n-6,d=Math.min(p,Math.max(h,r));return{position:d,nubPosition:d}}},{key:"getYCoordinates",value:function(){var e=this.getBounds();if(null==e||null==this.props.flyoutHeight)return null;var t=P(),o=this.props,n=o.flyoutHeight,r=o.nubHeight,i=o.verticalAlignment,a=this.props.legacyMode?0:t.spacing.paddingTop,s=e.top-n+a,l=n-1,c=!0;return(e.top<=2*t.menuButton.size||"below"===i)&&(s=e.bottom+a,r&&(l=1-2*r,c=!1)),{position:s,nubPosition:l,nubPointsDown:c}}}]),t}(i.a.Component));function fo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var mo=Object(T.c)((function(){var e=Object(N.b)(),t=P(),o=Object(T.b)("nub");return{root:o({position:"relative",display:"block",width:Object(I.F)(t.nub.width),height:Object(I.F)(t.nub.width),borderTop:Object(I.z)({width:t.menu.borderWidth}),borderRight:Object(I.z)({width:t.menu.borderWidth}),boxShadow:e.overlay.dropShadow,background:Object(I.h)(t.colors.bg)}),position:o("position",function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?fo(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):fo(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({position:"absolute",display:"flex",alignItems:"flex-start",justifyContent:"center",overflow:"hidden",width:Object(I.F)(2*t.nub.width),height:Object(I.F)(2*t.nub.width)},Object(I.G)(),{transform:Object(R.l)("-50%"),pointerEvents:"none"}))}})),go=Object(T.c)((function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=P(),t=Object(T.b)("inlineToolbar"),o=e.menu.offset/2,n=t({$nest:{"&.isUp":{transform:"translateY(-12px)",$nest:{".richEditor-nubPosition":{bottom:0,zIndex:10},".richEditor-nub":{transform:"translateY(-50%) rotate(135deg)",marginBottom:Object(I.F)(o)}}},"&.isDown":{transform:"translateY(12px)",$nest:{".richEditor-nubPosition":{bottom:Object(R.h)(100)},".richEditor-nub":{transform:"translateY(50%) rotate(-45deg)",marginTop:Object(I.F)(o),boxShadow:"none"}}}}});return{root:n}})),bo=so(function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"flyoutRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"nubRef",i.a.createRef()),o.state={flyoutHeight:null,flyoutWidth:null,nubHeight:null},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.isVisible,n=t.selection,r=go(this.props.legacyMode);return i.a.createElement(po,Object(ao.a)({},this.state,{selectionIndex:n.index,selectionLength:n.length,isActive:o,className:r.root}),(function(t){var n=t.x,a=t.y,s=mo(),l={visibility:"hidden",position:"absolute",top:0},c={},u=Ie()("richEditor-inlineToolbarContainer","richEditor-toolbarContainer",r.root);return n&&a&&o&&(l={position:"absolute",top:a?a.position:0,left:n?n.position:0,zIndex:5,visibility:"visible"},c={left:n&&n.nubPosition?n.nubPosition:0,top:a&&a.nubPosition?a.nubPosition:0},u+=a&&a.nubPointsDown?" isUp":" isDown"),i.a.createElement("div",{className:u,style:l,ref:e.flyoutRef},e.props.children,i.a.createElement("div",{style:c,className:Ie()("richEditor-nubPosition",s.position),ref:e.nubRef},i.a.createElement("div",{className:Ie()("richEditor-nub",s.root)})))}))}},{key:"componentDidMount",value:function(){Object(M.b)();var e=P();this.setState({flyoutWidth:this.flyoutRef.current?this.flyoutRef.current.offsetWidth:null,flyoutHeight:this.flyoutRef.current?this.flyoutRef.current.offsetHeight:null,nubHeight:e.nub.width||12})}}]),t}(i.a.PureComponent)),vo=o(166),jo=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=F(!1);return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:e.iconWrap}),this.props.icon)}}]),t}(i.a.PureComponent),yo=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"buttonRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"onClick",(function(e){o.props.isDisabled?e.preventDefault():o.props.onClick(e)})),Object(h.a)(Object(_e.a)(o),"handleKeyPress",(function(e){switch(e.key){case"ArrowRight":case"ArrowDown":e.stopPropagation(),e.preventDefault(),o.props.focusNextItem();break;case"ArrowUp":case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.props.focusPrevItem()}})),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=F(this.props.legacyMode),t=this.props,o=t.label,n=(t.isDisabled,t.isActive),r=(t.onClick,t.icon),a=t.role,s=Ie()("richEditor-button","richEditor-formatButton","richEditor-menuItem",e.button,e.menuItem,{isActive:n}),l={role:a,"aria-label":o};return"menuitem"===a?l["aria-pressed"]=n:l["aria-checked"]=n,i.a.createElement("button",Object(ao.a)({},l,{className:s,type:"button",onClick:this.onClick,onKeyDown:this.handleKeyPress,ref:this.buttonRef}),i.a.createElement(jo,{icon:r}))}},{key:"focus",value:function(){this.buttonRef.current&&this.buttonRef.current.focus()}}]),t}(i.a.PureComponent),Oo=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"menuItemRefs",[]),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props.menuItemData,o=t.length-1,n=F(this.props.legacyMode);return i.a.createElement("div",{className:Ie()("richEditor-menu",this.props.className),role:"menu",style:Object(vo.a)(!!this.props.renderAbove,!!this.props.renderLeft,!!this.props.legacyMode),"aria-orientation":this.props.orientation,onKeyDown:this.props.onKeyDown},i.a.createElement("div",{className:Ie()("richEditor-menuItems",n.menuItems)},this.props.menuItemData.map((function(t,n){var r=0===n?o:n-1,a=n===o?0:n+1;return i.a.createElement(yo,Object(ao.a)({},t,{role:e.props.itemRole,key:n,focusNextItem:function(){var t=e.menuItemRefs[a];t&&t.focus()},focusPrevItem:function(){var t=e.menuItemRefs[r];t&&t.focus()},ref:function(t){return e.menuItemRefs.push(t)},legacyMode:e.props.legacyMode}))}))))}},{key:"focusFirstItem",value:function(){}},{key:"focusLastItem",value:function(){}}]),t}(i.a.Component);
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Object(h.a)(Oo,"defaultProps",{itemRole:"menuitem",orientation:"horizontal"});
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var So=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"formatBold",(function(e){e.preventDefault(),o.props.formatter.bold()})),Object(h.a)(Object(_e.a)(o),"formatItalic",(function(e){e.preventDefault(),o.props.formatter.italic()})),Object(h.a)(Object(_e.a)(o),"formatStrike",(function(e){e.preventDefault(),o.props.formatter.strike()})),Object(h.a)(Object(_e.a)(o),"formatCode",(function(e){e.preventDefault(),o.props.formatter.codeInline()})),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=go(!!this.props.legacyMode);return i.a.createElement(Oo,{menuItemData:this.menuItemData,className:Ie()("richEditor-inlineToolbarContainer",this.props.className,e.root)})}},{key:"menuItemData",get:function(){var e=this.props,t=e.activeFormats,o=e.onLinkClick;return[{label:Object(me.j)("Format as Bold"),icon:i.a.createElement(Te,null),isActive:!0===t.bold,onClick:this.formatBold},{label:Object(me.j)("Format as Italic"),icon:i.a.createElement(Re,null),isActive:!0===t.italic,onClick:this.formatItalic},{label:Object(me.j)("Format as Strikethrough"),icon:i.a.createElement(Ae,null),isActive:!0===t.strike,onClick:this.formatStrike},{label:Object(me.j)("Format as Inline Code"),icon:i.a.createElement(Me,null),isActive:!0===t.code,onClick:this.formatCode},{label:Object(me.j)("Format as Link"),icon:i.a.createElement(Pe,null),isActive:"string"==typeof t.link,onClick:o}]}}]),t}(i.a.PureComponent),Co=o(164),_o=Object(T.c)((function(){var e=P(),t=(Object(N.b)(),Object(A.a)(),Object(T.b)("insertLink"));return{root:t({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"center",maxWidth:Object(I.F)(e.insertLink.width),width:Object(R.h)(100),paddingLeft:0,overflow:"hidden"}),input:t("input",{zIndex:2,$nest:{"&, &.InputBox":{border:Object(R.f)("0"),marginBottom:Object(R.f)("0"),flexGrow:1,maxWidth:Object(R.b)("100% - ".concat(Object(I.F)(e.menuButton.size-(e.menuButton.size-12)/2)))}}})}})),Eo=so(function(e){function t(e){var o;return Object(H.a)(this,t),(o=Object(G.a)(this,Object(W.a)(t).call(this,e))).state={linkValue:"",cachedRange:{index:0,length:0},showFormatMenu:!1,showLinkMenu:!1},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=F(this.props.legacyMode),t=_o(),o=Object(lo.a)();return i.a.createElement("div",{className:Ie()("richEditor-menu","insertLink","likeDropDownContent",t.root,o.likeDropDownContent),role:"dialog","aria-label":Object(me.j)("Insert Url")},i.a.createElement("input",{value:this.props.inputValue,onChange:this.props.onInputChange,ref:this.props.inputRef,onKeyDown:this.props.onInputKeyDown,className:Ie()("InputBox","inputText","insertLink-input",t.input),placeholder:Object(me.j)("Paste or type url")}),i.a.createElement(Co.a,{className:Ie()("richEditor-close",e.close),onClick:this.props.onCloseClick}))}}]),t}(i.a.PureComponent)),wo=so(function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"quill",void 0),Object(h.a)(Object(_e.a)(o),"linkInput",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"selfRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"focusWatcher",void 0),Object(h.a)(Object(_e.a)(o),"ignoreLinkToolbarFocusRequirement",!1),Object(h.a)(Object(_e.a)(o),"handleFocusChange",(function(e){o.setState({menuHasFocus:e})})),Object(h.a)(Object(_e.a)(o),"commandKHandler",(function(){var e=o.props.lastGoodSelection,t=Object(b.l)(o.quill,lt.a,e);if(o.isOneLineOrLess&&!o.isLinkMenuVisible&&!t)if(Object(b.l)(o.quill,re.a,e))o.formatter.link(),o.reset();else{var n=o.quill.getText(e.index,e.length);Object(me.e)(n)&&o.setState({inputValue:n}),o.toggleLinkMenu()}})),Object(h.a)(Object(_e.a)(o),"toggleLinkMenu",(function(e){e&&e.preventDefault(),"string"==typeof o.props.activeFormats.link?(o.setState({isLinkMenuOpen:!1}),o.formatter.link()):(o.ignoreLinkToolbarFocusRequirement=!0,o.setState({isLinkMenuOpen:!0},(function(){o.linkInput.current.focus(),o.ignoreLinkToolbarFocusRequirement=!1})))})),Object(h.a)(Object(_e.a)(o),"escFunction",(function(e){27===e.keyCode&&(o.isLinkMenuVisible?(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o.clearLinkInput()):o.isFormatMenuVisible&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),o.cancel()))})),Object(h.a)(Object(_e.a)(o),"onCloseClick",(function(e){e.preventDefault(),o.clearLinkInput()})),Object(h.a)(Object(_e.a)(o),"reset",(function(){o.props.lastGoodSelection&&o.quill.setSelection(o.props.lastGoodSelection,dt.a.sources.USER),o.setState({inputValue:""})})),Object(h.a)(Object(_e.a)(o),"cancel",(function(){var e=o.props.lastGoodSelection,t={index:e.index+e.length,length:0};o.setState({inputValue:""}),o.quill.setSelection(t)})),Object(h.a)(Object(_e.a)(o),"onInputKeyDown",(function(e){ut.a.match(e.nativeEvent,"enter")&&(e.preventDefault(),o.formatter.link(o.state.inputValue),o.clearLinkInput()),o.escFunction(e.nativeEvent)})),Object(h.a)(Object(_e.a)(o),"onInputChange",(function(e){o.setState({inputValue:e.target.value})})),o.quill=e.quill,o.state={inputValue:"",isLinkMenuOpen:!1,menuHasFocus:!1},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.lastGoodSelection,o=e.lastGoodSelection;o.index===t.index&&o.length===t.length||this.setState({isLinkMenuOpen:!1})}},{key:"render",value:function(){var e=Object(lo.a)(),t=this.props.activeFormats,o=this.isFormatMenuVisible?i.a.createElement("span",{"aria-live":"assertive",role:"alert",className:"sr-only"},Object(me.j)("Inline Menu Available")):null;return i.a.createElement("div",{ref:this.selfRef},i.a.createElement(bo,{selection:this.props.lastGoodSelection,isVisible:this.isFormatMenuVisible},o,i.a.createElement(So,{formatter:this.formatter,onLinkClick:this.toggleLinkMenu,activeFormats:t,lastGoodSelection:this.props.lastGoodSelection,className:Ie()("likeDropDownContent",e.likeDropDownContent)})),i.a.createElement(bo,{selection:this.props.lastGoodSelection,isVisible:this.isLinkMenuVisible},i.a.createElement(Eo,{inputRef:this.linkInput,inputValue:this.state.inputValue,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,onCloseClick:this.onCloseClick})))}},{key:"componentDidMount",value:function(){this.quill.root.addEventListener("keydown",this.escFunction,!1),this.focusWatcher=new n.b(this.selfRef.current,this.handleFocusChange),this.focusWatcher.start(),this.quill.getModule("keyboard").addBinding({key:"k",metaKey:!0},{},this.commandKHandler)}},{key:"componentWillUnmount",value:function(){this.quill.root.removeEventListener("keydown",this.escFunction,!1),this.focusWatcher.stop()}},{key:"clearLinkInput",value:function(){this.setState({isLinkMenuOpen:!1,inputValue:""}),this.quill.focus(),this.quill.setSelection(this.props.lastGoodSelection)}},{key:"formatter",get:function(){return new _t(this.quill,this.props.lastGoodSelection)}},{key:"isLinkMenuVisible",get:function(){var e=Object(b.l)(this.quill,lt.a,this.props.lastGoodSelection);return this.state.isLinkMenuOpen&&(this.hasFocus||this.ignoreLinkToolbarFocusRequirement)&&this.isOneLineOrLess&&!e&&this.selectionHasContent}},{key:"isFormatMenuVisible",get:function(){var e=this.props.lastGoodSelection.length>0,t=Object(b.l)(this.quill,lt.a,this.props.lastGoodSelection);return!this.isLinkMenuVisible&&this.hasFocus&&e&&this.isOneLineOrLess&&!t&&this.selectionHasContent}},{key:"selectionHasContent",get:function(){var e=this.props.lastGoodSelection,t=this.quill.getText(e.index,e.length);return!!t&&"\n"!==t}},{key:"isOneLineOrLess",get:function(){var e=this.props.lastGoodSelection;return this.quill.getLines(e.index||0,e.length||0).length<=1}},{key:"hasFocus",get:function(){return this.state.menuHasFocus||this.quill.hasFocus()}}]),t}(i.a.PureComponent)),xo=o(165),ko=o.n(xo),Lo=o(671),Io=o.n(Lo),No=o(57),To=o(17),Ro=o(127),Ao=o(94);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Mo(e){var t=e.isActive,o=e.matchedString,n=e.mentionData,r=e.onClick,a=e.onMouseEnter,s=n.photoUrl,l=n.name,c=n.domID,u=F(!1),h=Ie()("richEditor-menuItem","atMentionList-item",u.menuItem,{isActive:t}),p=!1,d=Object(L.l)(l,o).map((function(e,t){return 0!==Intl.Collator("en",{usage:"search",sensitivity:"base",ignorePunctuation:!0,numeric:!0}).compare(e,o)||p?e:(p=!0,i.a.createElement("mark",{className:"atMentionList-mark",key:t},e))}));return i.a.createElement("li",{id:c,className:h,role:"option","aria-selected":t,onClick:r,onMouseEnter:a},i.a.createElement("button",{type:"button",className:"atMentionList-suggestion"},i.a.createElement("span",{className:"atMentionList-user"},i.a.createElement("span",{className:"atMentionList-photoWrap"},i.a.createElement("img",{src:s,alt:l,className:"atMentionList-photo"})),i.a.createElement("span",{className:"atMentionList-userName"},d))))}function Po(e){var t=e.loadingData,o=e.onMouseEnter,n=e.isActive,r=t.domID,a=F(!1),s=Ie()("richEditor-menuItem","atMentionList-item","atMentionList-loader",a.menuItem,{isActive:n});return i.a.createElement("li",{id:r,className:s,role:"option","aria-selected":n,onMouseEnter:o},i.a.createElement("button",{type:"button",className:"atMentionList-suggestion",disabled:!0},i.a.createElement("span",{className:"atMentionList-user atMentionList-loader"},i.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},i.a.createElement("img",{alt:name,className:"atMentionList-photo ProfilePhoto"})),i.a.createElement("span",{className:"atMentionList-userName"},Object(me.j)("Loading...")))))}function Do(){var e=F(!1),t=Ie()("richEditor-menuItem","atMentionList-item","atMentionList-spacer",e.menuItem);return i.a.createElement("li",{"aria-hidden":"true",className:t,style:{visibility:"hidden"}},i.a.createElement("button",{type:"button",className:"atMentionList-suggestion"},i.a.createElement("span",{className:"atMentionList-user atMentionList-loader"},i.a.createElement("span",{className:"PhotoWrap atMentionList-photoWrap"},i.a.createElement("img",{alt:name,className:"atMentionList-photo ProfilePhoto"})),i.a.createElement("span",{className:"atMentionList-userName"}))))}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var zo=so(function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"state",{flyoutWidth:null,flyoutHeight:null}),Object(h.a)(Object(_e.a)(o),"flyoutRef",i.a.createRef()),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.activeItemId,n=t.id,r=t.onItemClick,a=t.matchedString,s=t.mentionProps,l=t.showLoader,c=t.mentionSelection,u=Object(lo.a)(),h=s.length>0||l,p=Ie()("richEditor-menu","atMentionList-items","likeDropDownContent",u.likeDropDownContent),d=h&&(!!c||this.hasFocusedElement);return i.a.createElement(po,{horizontalAlignment:"start",verticalAlignment:"below",flyoutWidth:this.state.flyoutWidth,flyoutHeight:this.state.flyoutHeight,isActive:d,selectionIndex:c?c.index:0,selectionLength:c?c.length:0},(function(t){var c=t.x,u=t.y,d={visibility:"hidden",position:"absolute",zIndex:-1};c&&u&&(d={position:"absolute",top:u.position,left:c.position,zIndex:10,visibility:"visible"});var f=s.map((function(e){if(null==e.mentionData)return null;var t=e.mentionData.domID===o;return i.a.createElement(Mo,{mentionData:e.mentionData,key:e.mentionData.domID,onMouseEnter:e.onMouseEnter,onClick:r,isActive:t,matchedString:a})}));if(l){var m={domID:e.props.loaderID},g=m.domID===o;f.push(i.a.createElement(Po,{loadingData:m,isActive:g,key:"Loading",matchedString:a}))}return i.a.createElement("span",{style:d,className:"atMentionList",ref:e.flyoutRef},i.a.createElement("ul",{id:n,"aria-label":Object(me.j)("@mention user suggestions"),className:p+(h?"":" isHidden"),role:"listbox"},h&&f),i.a.createElement("div",{className:p,style:{visibility:"hidden"}},i.a.createElement(Do,null)))}))}},{key:"componentDidMount",value:function(){this.setState({flyoutWidth:this.flyoutRef.current?this.flyoutRef.current.offsetWidth:null,flyoutHeight:this.flyoutRef.current?this.flyoutRef.current.offsetHeight:null})}},{key:"hasFocusedElement",get:function(){return!!this.flyoutRef.current&&(document.activeElement===this.flyoutRef.current||this.flyoutRef.current.contains(document.activeElement))}}]),t}(i.a.PureComponent)),Bo=function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"quill",void 0),Object(h.a)(Object(_e.a)(o),"ID",ko()("mentionList-")),Object(h.a)(Object(_e.a)(o),"loaderID",ko()("mentionList-noResults-")),Object(h.a)(Object(_e.a)(o),"comboBoxID",ko()("mentionComboBox-")),Object(h.a)(Object(_e.a)(o),"isConvertingMention",!1),Object(h.a)(Object(_e.a)(o),"MENTION_COMPLETION_CHARACTERS",[".","!","?"," ","\n"]),Object(h.a)(Object(_e.a)(o),"onItemClick",(function(e){e.preventDefault(),o.confirmActiveMention()})),Object(h.a)(Object(_e.a)(o),"keyDownListener",(function(e){var n=o.props,r=n.suggestions,i=n.activeSuggestionIndex,a=n.activeSuggestionID,s=n.isLoading,l=null!==o.props.mentionSelection;if(r&&r.status===To.a.SUCCESS&&r.data)if(o.quill.hasFocus()&&l&&!o.hasApiResponse)ut.a.match(e,ut.a.keys.ENTER)&&o.cancelActiveMention();else if(o.quill.hasFocus()&&l){var c=i+1,u=i-1,h=Math.min(t.SUGGESTION_LIMIT,r.data.length),p=s?h:h-1,d=a===o.loaderID,f=function(e){return s&&e===p?o.loaderID:r.data[e].domID};switch(!0){case ut.a.match(e,ut.a.keys.DOWN):var m=i===p?0:c,g=f(m);o.props.suggestionActions.setActive(g,m),e.preventDefault(),e.stopPropagation();break;case ut.a.match(e,ut.a.keys.UP):var b=0===i?p:u,v=f(b);o.props.suggestionActions.setActive(v,b),e.preventDefault(),e.stopPropagation();break;case ut.a.match(e,ut.a.keys.ENTER):r.data.length>0&&!d?(o.confirmActiveMention(),e.preventDefault(),e.stopPropagation()):o.cancelActiveMention();break;case ut.a.match(e,ut.a.keys.TAB):d||(o.confirmActiveMention(),e.preventDefault(),e.stopPropagation());break;case ut.a.match(e,ut.a.keys.ESCAPE):o.cancelActiveMention(),e.preventDefault(),e.stopPropagation()}}})),Object(h.a)(Object(_e.a)(o),"injectComboBoxAccessibility",(function(){var e=o.state.autoCompleteBlot,t=o.props,n=t.activeSuggestionID;t.activeSuggestionIndex;e&&e.injectAccessibilityAttributes({ID:o.comboBoxID,activeItemID:n,suggestionListID:o.ID,activeItemIsLoader:n===o.loaderID})})),Object(h.a)(Object(_e.a)(o),"onDocumentClick",(function(e){o.quill.root.contains(e.target)||o.cancelActiveMention()})),Object(h.a)(Object(_e.a)(o),"onTextChange",(function(e,t,n){if(n===Q.a.sources.USER){var r=e.ops&&e.ops.length>0?e.ops[e.ops.length-1]:null;if(r&&r.insert&&o.MENTION_COMPLETION_CHARACTERS.includes(r.insert)){var i=o.props.suggestions,a=i&&i.status===To.a.SUCCESS&&i.data?i.data:[];if(1===a.length&&o.props.lastSuccessfulUsername===a[0].name)return void window.requestAnimationFrame((function(){o.confirmActiveMention(r.insert)}))}}})),o.quill=e.quill,o.state={autoCompleteBlot:null},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDownListener,!0),document.addEventListener("click",this.onDocumentClick,!1),this.quill.on("text-change",this.onTextChange)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDownListener,!0),document.removeEventListener("click",this.onDocumentClick,!1),this.quill.off("text-change",this.onTextChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props.mentionSelection,o=e.mentionSelection;if(!Io()(t,o)&&t){var n=this.quill.getText(t.index,t.length).replace("@","");this.props.suggestionActions.loadUsers(n)}var r=this.props.suggestions;if(r){var i=r&&r.status===To.a.LOADING,a=r&&r.status===To.a.SUCCESS&&r.data&&r.data.length>0;if(t&&(i||a)){if(!this.state.autoCompleteBlot){var s=this.createAutoCompleteBlot();this.setState({autoCompleteBlot:s})}return void this.injectComboBoxAccessibility()}}if(this.state.autoCompleteBlot){var l=this.quill.getSelection();this.cancelActiveMention(),this.quill.hasFocus()&&this.quill.setSelection(l)}}},{key:"render",value:function(){var e=this.props,t=e.suggestions,o=e.lastSuccessfulUsername,n=e.activeSuggestionID,r=e.isLoading,a=t&&t.status===To.a.SUCCESS&&t.data?t.data:[];return i.a.createElement(zo,{onItemClick:this.onItemClick,mentionProps:this.createMentionProps(a),matchedString:o||"",activeItemId:n,id:this.ID,loaderID:this.loaderID,showLoader:r})}},{key:"createAutoCompleteBlot",value:function(){var e=this.props,t=e.currentSelection,o=e.mentionSelection;return t&&o?(this.quill.formatText(o.index,o.length,"mention-autocomplete",!0,Q.a.sources.API),this.quill.setSelection(t.index,0,Q.a.sources.API),Object(b.d)(this.quill,t.index-1,je)):null}},{key:"createMentionProps",value:function(e){var o=this;return e.slice(0,t.SUGGESTION_LIMIT).map((function(e,t){return{mentionData:e,onMouseEnter:function(){o.props.suggestionActions.setActive(e.domID,t)}}}))}},{key:"cancelActiveMention",value:function(){this.state.autoCompleteBlot&&!this.isConvertingMention&&(this.isConvertingMention=!0,this.state.autoCompleteBlot.cancel()),this.isConvertingMention=!1,this.setState({autoCompleteBlot:null})}},{key:"confirmActiveMention",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=this.state.autoCompleteBlot,o=this.props,n=o.suggestions,r=o.activeSuggestionIndex;if(t instanceof je&&!this.isConvertingMention&&n&&n.status===To.a.SUCCESS&&n.data){this.isConvertingMention=!0;var i=n.data[r],a=t.offset(this.quill.scroll);t.finalize(i),this.quill.insertText(a+1,e,Q.a.sources.SILENT),this.quill.setSelection(a+2,0,Q.a.sources.SILENT),this.cancelActiveMention()}}},{key:"hasApiResponse",get:function(){var e=this.props.suggestions;return e&&e.status===To.a.SUCCESS}}]),t}(i.a.Component);Object(h.a)(Bo,"SUGGESTION_LIMIT",5);var Fo=Object(No.b)(Ro.a.mapStateToProps,(function(e){return{suggestionActions:new Ao.a(e,Ft.a)}}))(so(Bo));
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function qo(){var e=f(),t=e.quill,o=e.isLoading;return!t||o?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(wo,null),i.a.createElement(Fo,null))}
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Ho=o(110),Uo=function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"ID",void 0),Object(h.a)(Object(_e.a)(o),"componentID",void 0),Object(h.a)(Object(_e.a)(o),"menuID",void 0),Object(h.a)(Object(_e.a)(o),"buttonID",void 0),Object(h.a)(Object(_e.a)(o),"selfRef",void 0),Object(h.a)(Object(_e.a)(o),"toggleButtonRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"handleClick",void 0),o.ID=o.props.parentID+"".concat(o.props.parentID,"-dropDown"),o.componentID=o.ID+"-component",o.menuID=o.ID+"-menu",o.buttonID=o.ID+"-button",o.handleClick=function(e){o.props.setRovingIndex(),o.props.toggleMenu((function(){o.props.open?o.props.selectFirstElement():o.toggleButtonRef.current&&o.toggleButtonRef.current.focus()}))},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,o=e.isMenuVisible,n=(e.toggleMenu,e.children,e.icon);if(open){var r=F(this.props.legacyMode);return i.a.createElement("div",{id:this.componentID,ref:this.selfRef,className:Ie()(t)},i.a.createElement("button",{type:"button",role:"menuitem",id:this.buttonID,"aria-label":this.props.accessibleButtonLabel,title:this.props.accessibleButtonLabel,"aria-controls":this.menuID,"aria-expanded":o,"aria-haspopup":"menu",onClick:this.handleClick,className:Ie()(r.button,this.props.open?r.topLevelButtonActive:""),tabIndex:this.props.tabIndex,ref:this.toggleButtonRef},i.a.createElement(jo,{icon:n}),i.a.createElement(Ho.a,null,this.props.accessibleButtonLabel)))}return null}},{key:"componentDidMount",value:function(){this.props.open||0!==this.props.tabIndex||this.toggleButtonRef.current&&this.toggleButtonRef.current.focus()}},{key:"componentDidUpdate",value:function(){this.props.open||0!==this.props.tabIndex||this.toggleButtonRef.current&&this.toggleButtonRef.current.focus()}},{key:"getMenuContentsID",value:function(){return this.menuID}}]),t}(i.a.PureComponent),Go=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"buttonRef",i.a.createRef()),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=F(!!this.props.legacyMode);return i.a.createElement("button",{type:"button",disabled:this.props.isDisabled,title:this.props.title,"aria-label":this.props.title,onClick:function(t){e.props.setRovingIndex(),e.props.formatParagraphHandler(),e.props.closeMenuAndSetCursor()},className:Ie()(this.props.className,t.button),ref:this.buttonRef,tabIndex:this.props.tabIndex},i.a.createElement(Ho.a,null,Object(me.j)("Paragraph")),i.a.createElement(jo,{icon:i.a.createElement("span",{"aria-hidden":!0},i.a.createElement(ze,null))}))}},{key:"componentDidMount",value:function(){this.props.isMenuVisible&&0===this.props.tabIndex&&this.buttonRef.current&&this.buttonRef.current.focus()}},{key:"componentDidUpdate",value:function(){this.props.isMenuVisible&&0===this.props.tabIndex&&this.buttonRef.current&&this.buttonRef.current.focus()}}]),t}(i.a.PureComponent);function Wo(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var Vo,Ko=Object(T.c)((function(){var e=Object(N.b)(),t=P(),o=Object(T.b)("paragraphMenuCheckRadio");return{group:o("group",{marginBottom:Object(I.F)(9)}),checkRadio:o("checkRadio",function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Wo(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Wo(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(D.d)(),{},Object(I.d)(),{border:0,display:"flex",alignItems:"center",width:Object(R.h)(100),minHeight:Object(I.F)(30),userSelect:"none",padding:0,outline:0,$nest:{"&:hover":{backgroundColor:Object(I.h)(e.states.hover.color),zIndex:1},"&:active":{backgroundColor:Object(I.h)(e.states.active.color),zIndex:1},"&:focus":{backgroundColor:Object(I.h)(e.states.focus.color),zIndex:1}}})),check:o("check",{}),radio:o("radio",{}),checked:o("checked",{}),separator:o("separator",{}),icon:o("icon",{width:Object(I.F)(t.menuButton.size),flexBasis:Object(I.F)(t.menuButton.size)}),checkRadioLabel:o("checkRadioLabel",{flexGrow:1,maxWidth:Object(R.b)("100% - ".concat(Object(I.F)(2*t.menuButton.size))),textAlign:"left"}),checkRadioSelected:o("checkRadioSelected",{width:Object(I.F)(t.menuButton.size),flexBasis:Object(I.F)(t.menuButton.size)})}})),Yo=o(41),Zo=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=Ko(),t=this.props,o=t.checked,n=t.type,r=t.icon,a=t.text,s=t.onClick,l=n===Vo.RADIO,c=Object(N.b)(),u=Object(M.e)({width:Object(I.F)(c.icon.sizes.default),height:Object(I.F)(c.icon.sizes.default)}),h=Object(M.e)({color:Object(I.h)(c.mainColors.primary)});return i.a.createElement("button",{className:Ie()(e.checkRadio,l?e.radio:e.check,o?e.checked:""),role:l?"menuitemradio":"menuitemcheckbox","aria-checked":o,type:"button",onClick:s,disabled:this.props.disabled,tabIndex:this.props.disabled?-1:0,"data-firstletter":a.toLowerCase().substr(0,1)},i.a.createElement("span",{className:e.icon},r),i.a.createElement("span",{className:e.checkRadioLabel},a),o&&i.a.createElement("span",{className:e.checkRadioSelected},i.a.createElement(Yo.b,{className:Ie()(h,u)})))}}]),t}(i.a.PureComponent),$o=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=Ko();return this.props.items&&this.props.items.length>0?i.a.createElement("div",{"aria-label":this.props.label,role:"group",className:Ie()(t.group,this.props.className)},this.props.items.map((function(t,o){return i.a.createElement(Zo,{checked:t.checked,icon:t.icon,text:t.text,type:Vo.RADIO,onClick:function(n){e.props.handleClick(t,o)},disabled:t.disabled||!!e.props.disabled,key:"checkRadio-".concat(o)})}))):null}}]),t}(i.a.PureComponent),Xo=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=F(!1);return i.a.createElement($o,{className:Ie()(t.paragraphMenuPanel,this.props.className),handleClick:function(t,o){e.props.items[o].formatFunction(),e.props.setRovingIndex(),e.props.closeMenuAndSetCursor()},label:Object(me.j)("Headings"),items:this.props.items,disabled:this.props.disabled})}}]),t}(i.a.Component),Qo=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=F(!!this.props.legacyMode);return i.a.createElement("div",{className:Ie()(this.props.className,e.separator)},i.a.createElement(Ho.a,null,i.a.createElement("hr",{role:"separator"})))}}]),t}(i.a.Component),Jo=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=F(!1),o=Ko(),n=!!this.props.disabled||!this.props.canIndent,r=!!this.props.disabled||!this.props.canOutdent,a=Object(me.j)("Indent"),s=Object(me.j)("Outdent");return i.a.createElement(i.a.Fragment,null,i.a.createElement($o,{className:t.paragraphMenuPanel,label:Object(me.j)("List Types"),items:this.props.items,handleClick:function(t,o){e.props.items[o].formatFunction(),e.props.setRovingIndex(),e.props.closeMenuAndSetCursor()},disabled:!!this.props.disabled}),i.a.createElement(Qo,null),i.a.createElement("div",{className:o.group},i.a.createElement("button",{className:Ie()(o.checkRadio),type:"button",onClick:this.props.indent,disabled:n,tabIndex:n?-1:0,"data-firstletter":a.toLowerCase().substr(0,1)},i.a.createElement("span",{className:o.icon},i.a.createElement(Xe,null)),i.a.createElement("span",{className:o.checkRadioLabel},a)),i.a.createElement("button",{className:Ie()(o.checkRadio),type:"button",onClick:this.props.outdent,disabled:r,tabIndex:r?-1:0,"data-firstletter":s.toLowerCase().substr(0,1)},i.a.createElement("span",{className:o.icon},i.a.createElement(Qe,null)),i.a.createElement("span",{className:o.checkRadioLabel},s))))}}]),t}(i.a.Component),en=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=F(!1);return i.a.createElement($o,{className:Ie()(t.paragraphMenuPanel,this.props.className),handleClick:function(t,o){e.props.items[o].formatFunction(),e.props.closeMenuAndSetCursor()},label:Object(me.j)("Special Formats"),items:this.props.items,disabled:this.props.disabled})}}]),t}(i.a.Component),tn=function(e){function t(){var e,o;Object(H.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(i))),Object(h.a)(Object(_e.a)(o),"state",{headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!1}),Object(h.a)(Object(_e.a)(o),"itemCount",void 0),Object(h.a)(Object(_e.a)(o),"openTabFunctions",void 0),Object(h.a)(Object(_e.a)(o),"menuBarLetterIndex",[]),Object(h.a)(Object(_e.a)(o),"hasMenuOpen",(function(){return o.state.specialBlockMenuOpen||o.state.headingMenuOpen||o.state.listMenuOpen})),Object(h.a)(Object(_e.a)(o),"toggleHeadingsMenu",(function(){o.setState({headingMenuOpen:!o.state.headingMenuOpen,listMenuOpen:!1,specialBlockMenuOpen:!1})})),Object(h.a)(Object(_e.a)(o),"openHeadingsMenu",(function(e){o.setState({headingMenuOpen:!0,listMenuOpen:!1,specialBlockMenuOpen:!1},e)})),Object(h.a)(Object(_e.a)(o),"toggleListsMenu",(function(){o.setState({headingMenuOpen:!1,listMenuOpen:!o.state.listMenuOpen,specialBlockMenuOpen:!1})})),Object(h.a)(Object(_e.a)(o),"openListsMenu",(function(e){o.setState({headingMenuOpen:!1,listMenuOpen:!0,specialBlockMenuOpen:!1},e)})),Object(h.a)(Object(_e.a)(o),"toggleSpecialBlockMenu",(function(){o.setState({headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!o.state.specialBlockMenuOpen})})),Object(h.a)(Object(_e.a)(o),"openSpecialBlockMenu",(function(e){o.setState({headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!0},e)})),Object(h.a)(Object(_e.a)(o),"closeMenuAndSetCursor",(function(){o.closeAllSubMenus(),o.props.close()})),Object(h.a)(Object(_e.a)(o),"closeAllSubMenus",(function(){o.setState({headingMenuOpen:!1,listMenuOpen:!1,specialBlockMenuOpen:!1})})),Object(h.a)(Object(_e.a)(o),"selectFirstElementInOpenPanel",(function(){if(o.props.panelsRef&&o.props.panelsRef.current){var e=new n.c(o.props.panelsRef.current).getInitial();e&&e.focus()}})),Object(h.a)(Object(_e.a)(o),"selectLastElementInOpenPanel",(function(){if(o.props.panelsRef&&o.props.panelsRef.current){var e=new n.c(o.props.panelsRef.current).getLast();e&&e.focus()}})),Object(h.a)(Object(_e.a)(o),"selectCurrentTab",(function(){if(o.props.menusRef&&o.props.menusRef.current){var e=new n.c(o.props.menusRef.current).getInitial();e&&e.focus()}})),Object(h.a)(Object(_e.a)(o),"tabIndex",(function(e){return o.props.rovingIndex===e?0:-1})),Object(h.a)(Object(_e.a)(o),"moveRovingIndexForward",(function(e){var t=(o.props.rovingIndex+1)%o.itemCount;o.props.setRovingIndex(t,e)})),Object(h.a)(Object(_e.a)(o),"moveRovingIndexBackwards",(function(e){var t=(o.props.rovingIndex-1+o.itemCount)%o.itemCount;o.props.setRovingIndex(t,e)})),Object(h.a)(Object(_e.a)(o),"handleMenuBarKeyDown",(function(e){switch("".concat(e.key).concat(e.shiftKey?"-Shift":"")){case"Escape":o.hasMenuOpen()&&(e.stopPropagation(),o.closeAllSubMenus(),o.selectCurrentTab());break;case"Home":o.hasMenuOpen()||(e.stopPropagation(),e.preventDefault(),o.closeAllSubMenus(),o.props.setRovingIndex(0));break;case"End":o.hasMenuOpen()||(e.stopPropagation(),e.preventDefault(),o.closeAllSubMenus(),o.props.setRovingIndex(o.itemCount-1));break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),o.hasMenuOpen()?o.moveRovingIndexForward((function(){o.openTabFunctions[o.props.rovingIndex]()})):o.moveRovingIndexForward();break;case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.hasMenuOpen()?o.moveRovingIndexBackwards((function(){o.openTabFunctions[o.props.rovingIndex]()})):o.moveRovingIndexBackwards();break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),o.openTabFunctions[o.props.rovingIndex]((function(){o.selectLastElementInOpenPanel()}));break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),o.openTabFunctions[o.props.rovingIndex]((function(){o.selectFirstElementInOpenPanel()}));break;default:o.menuBarLetterIndex.forEach((function(t,n){e.key.toLowerCase()!==t.toLowerCase()||o.props.setRovingIndex(n)}))}})),Object(h.a)(Object(_e.a)(o),"handleMenuKeyDown",(function(e){switch("".concat(e.key).concat(e.shiftKey?"-Shift":"")){case"ArrowDown":if(o.hasMenuOpen()&&o.props.panelsRef.current){e.preventDefault(),e.stopPropagation();var t=new n.c(o.props.panelsRef.current);if(t){var r=t.getNext(document.activeElement,!1,!0);r&&r.focus()}}break;case"ArrowUp":if(o.hasMenuOpen()&&o.props.panelsRef.current){e.preventDefault(),e.stopPropagation();var i=new n.c(o.props.panelsRef.current);if(i){var a=i.getNext(document.activeElement,!0,!0);a&&a.focus()}}break;case"Home":o.hasMenuOpen()&&(e.preventDefault(),o.selectFirstElementInOpenPanel());break;case"End":o.hasMenuOpen()&&(e.preventDefault(),o.selectLastElementInOpenPanel());break;default:if(o.props.panelsRef.current){var s=new n.c(o.props.panelsRef.current).getAll(o.props.panelsRef.current);s&&s.length>0&&s.reverse().forEach((function(t){var o=t.dataset.firstletter||null;o&&o===e.key.toLowerCase()&&t.focus()}))}}})),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.menuActiveFormats,n=t.formatter,r=F(this.props.legacyMode),a=Object(N.b)(),s=Object(M.e)({width:Object(I.F)(a.icon.sizes.default),height:Object(I.F)(a.icon.sizes.default)}),l=[{component:Xo,accessibleInstructions:Object(me.j)("Headings Menu"),label:Object(me.j)("Headings Menu"),toggleMenu:this.toggleHeadingsMenu,icon:this.props.topLevelIcons.headingMenuIcon,activeFormats:o.headings,open:this.state.headingMenuOpen,openMenu:this.openHeadingsMenu,items:[{formatFunction:n.h2,icon:i.a.createElement(Be,{className:"iconStyle"}),text:Object(me.j)("Heading 2"),checked:o.headings.heading2},{formatFunction:n.h3,icon:i.a.createElement(Fe,{className:"iconStyle"}),text:Object(me.j)("Heading 3"),checked:o.headings.heading3},{formatFunction:n.h4,icon:i.a.createElement(qe,{className:"iconStyle"}),text:Object(me.j)("Heading 4"),checked:o.headings.heading4},{formatFunction:n.h5,icon:i.a.createElement(He,{className:"iconStyle"}),text:Object(me.j)("Heading 5"),checked:o.headings.heading5}]},{component:Jo,accessibleInstructions:Object(me.j)("Lists Menu"),label:Object(me.j)("Lists Menu"),toggleMenu:this.toggleListsMenu,icon:this.props.topLevelIcons.listMenuIcon,activeFormats:o.lists,open:this.state.listMenuOpen,openMenu:this.openListsMenu,items:[{formatFunction:n.bulletedList,icon:i.a.createElement(Ze,{className:s}),text:Object(me.j)("Bulleted List"),checked:o.lists.unordered,disabled:!!o.lists.depth&&o.lists.depth>0&&o.lists.ordered},{formatFunction:n.orderedList,icon:i.a.createElement($e,{className:s}),text:Object(me.j)("Ordered List"),checked:o.lists.ordered,disabled:!!o.lists.depth&&o.lists.depth>0&&o.lists.unordered}],indent:n.indentList,outdent:n.outdentList,canIndent:o.lists.canIndent,canOutdent:o.lists.canOutdent},{component:en,accessibleInstructions:Object(me.j)("Toggle Special Formats Menu"),label:Object(me.j)("Special Formats"),toggleMenu:this.toggleSpecialBlockMenu,icon:this.props.topLevelIcons.specialBlockMenuIcon,activeFormats:o.specialFormats,open:this.state.specialBlockMenuOpen,openMenu:this.openSpecialBlockMenu,items:[{formatFunction:n.blockquote,icon:i.a.createElement(Ue,{className:s}),text:Object(me.j)("Quote"),checked:o.specialFormats.blockQuote},{formatFunction:n.codeBlock,icon:i.a.createElement(Ge,{className:s}),text:Object(me.j)("Code Block"),checked:o.specialFormats.codeBlock},{formatFunction:n.spoiler,icon:i.a.createElement(We,{className:s}),text:Object(me.j)("Spoiler"),checked:o.specialFormats.spoiler}]}];this.itemCount=l.length+1;var c=[];this.openTabFunctions=[];var u=l.map((function(t,o){var n=t.component;e.openTabFunctions[o]=t.openMenu,e.menuBarLetterIndex[o]=t.label.substr(0,1),c[o]=i.a.createElement("div",{id:n.get,role:"menu",className:t.open?void 0:Object(M.e)(Object(I.C)()),"aria-hidden":!t.open,key:"menuBarPanel-".concat(o)},i.a.createElement(n,Object(ao.a)({},t,{setRovingIndex:function(){e.props.setRovingIndex(o)},disabled:!t.open,closeMenu:e.props.close,closeMenuAndSetCursor:e.closeMenuAndSetCursor})));return i.a.createElement(Uo,{accessibleButtonLabel:"Toggle Heading Menu",className:t.className,index:o,parentID:e.props.parentID,isMenuVisible:e.props.isMenuVisible,toggleMenu:t.toggleMenu,icon:t.icon,tabComponent:t.component,key:"".concat(t.label,"-").concat(o),activeFormats:t.activeFormats,setRovingIndex:function(){e.props.setRovingIndex(o)},legacyMode:e.props.legacyMode,tabIndex:e.tabIndex(o),open:t.open,selectFirstElement:e.selectLastElementInOpenPanel})})),h=l.length;this.openTabFunctions[c.length]=this.closeAllSubMenus;var p=Object(me.j)("Paragraph (Removes paragraph style and sets to plain paragraph)");return this.menuBarLetterIndex[c.length]=p.substr(0,1),i.a.createElement("div",{onKeyDown:this.handleMenuBarKeyDown},i.a.createElement("div",{role:"menubar","aria-label":this.props.label,className:Ie()(r.menuBar,this.props.className),ref:this.props.menusRef},i.a.createElement("div",{className:r.menuBarToggles},u,i.a.createElement(Go,{title:p,formatParagraphHandler:n.paragraph,setRovingIndex:function(){e.props.setRovingIndex(0)},tabIndex:this.tabIndex(h),closeMenuAndSetCursor:this.closeMenuAndSetCursor,isMenuVisible:this.props.isMenuVisible}))),i.a.createElement("div",{ref:this.props.panelsRef,onKeyDownCapture:this.handleMenuKeyDown},c))}}]),t}(i.a.PureComponent),on=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props.activeFormats,t=i.a.createElement(ze,null);return e.headings.heading2?t=i.a.createElement(Be,null):e.headings.heading3?t=i.a.createElement(Fe,null):e.headings.heading4?t=i.a.createElement(qe,null):e.headings.heading5?t=i.a.createElement(He,null):e.lists.ordered?t=i.a.createElement($e,null):e.lists.unordered?t=i.a.createElement(Ze,null):e.specialFormats.blockQuote?t=i.a.createElement(Ue,null):e.specialFormats.codeBlock?t=i.a.createElement(Ge,null):e.specialFormats.spoiler&&(t=i.a.createElement(We,null)),t}}]),t}(i.a.Component);!function(e){e.CHECK="checkbox",e.RADIO="radiobutton",e.SEPARATOR="separator"}(Vo||(Vo={}));var nn=function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"quill",void 0),Object(h.a)(Object(_e.a)(o),"ID",void 0),Object(h.a)(Object(_e.a)(o),"componentID",void 0),Object(h.a)(Object(_e.a)(o),"menuID",void 0),Object(h.a)(Object(_e.a)(o),"buttonID",void 0),Object(h.a)(Object(_e.a)(o),"selfRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"buttonRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"menusRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"panelsRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"focusWatcher",void 0),Object(h.a)(Object(_e.a)(o),"topLevelIcons",(function(e){var t=i.a.createElement(Be,null);e.headings.heading3?t=i.a.createElement(Fe,null):e.headings.heading4?t=i.a.createElement(qe,null):e.headings.heading5&&(t=i.a.createElement(He,null));var o=i.a.createElement(Ue,null);e.specialFormats.codeBlock?o=i.a.createElement(Ge,null):e.specialFormats.spoiler&&(o=i.a.createElement(We,null));var n=i.a.createElement(Ze,null);return e.lists.ordered&&(n=i.a.createElement($e,null)),{headingMenuIcon:t,listMenuIcon:n,specialBlockMenuIcon:o}})),Object(h.a)(Object(_e.a)(o),"setRovingIndex",(function(e,t){o.setState({rovingTabIndex:e},(function(){t&&t()}))})),Object(h.a)(Object(_e.a)(o),"pilcrowClickHandler",(function(e){e.preventDefault(),o.setState({hasFocus:!o.state.hasFocus},(function(){if(o.state.hasFocus&&o.menusRef.current){var e=o.menusRef.current,t=new n.c(e).getInitial();t&&t.focus()}}))})),Object(h.a)(Object(_e.a)(o),"close",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.setState({hasFocus:!1});var t=o.props.lastGoodSelection;if(e)o.buttonRef&&o.buttonRef.current&&o.buttonRef.current.focus();else{var n={index:t.index+t.length,length:0};o.quill.setSelection(n)}})),Object(h.a)(Object(_e.a)(o),"handleEscape",(function(e){"Escape"===e.key&&o.state.hasFocus&&(e.preventDefault(),o.close())})),Object(h.a)(Object(_e.a)(o),"handleMenuBarKeyDown",(function(e){switch(e.key){case"Escape":e.preventDefault(),o.state.hasFocus&&(e.preventDefault(),o.close())}})),o.quill=e.quill,o.ID=ko()("paragraphMenu")+"-formattingMenus",o.componentID=o.ID+"-component",o.menuID=o.ID+"-menu",o.buttonID=o.ID+"-button",o.state={hasFocus:!1,rovingTabIndex:0},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.focusWatcher=new n.b(this.selfRef.current,(function(t){t||e.setState({hasFocus:!1})})),this.focusWatcher.start()}},{key:"componentWillUnmount",value:function(){this.focusWatcher.stop()}},{key:"render",value:function(){var e,t=F(this.props.legacyMode),o=F(this.props.legacyMode),n=Ie()({isOpen:this.isMenuVisible},t.paragraphMenuHandle,this.props.mobile?t.paragraphMenuHandleMobile:"");this.props.mobile||(!this.isPilcrowVisible&&!this.isMenuVisible||Object(b.k)(this.quill,this.props.lastGoodSelection))&&(n+=" isHidden");var r=new _t(this.quill,this.props.lastGoodSelection),a=function(e,t){var o=!0;[X.blotName,nt.blotName,lt.a.blotName,et.blotName,Ct.blotName].forEach((function(e){e in t&&(o=!1)}));var n="object"===Object(q.a)(t.header)?t.header.level:null,r=t[Ct.blotName],i=function(e){return r&&"object"===Object(q.a)(r)&&r.type===e},a=e.getListItems()[0];return{paragraph:o,headings:{heading2:2===t.header||2===n,heading3:3===t.header||3===n,heading4:4===t.header||4===n,heading5:5===t.header||5===n},specialFormats:{blockQuote:!0===t[nt.blotName],codeBlock:!0===t[lt.a.blotName],spoiler:!0===t[et.blotName]},lists:{ordered:i(st.ORDERED),unordered:i(st.BULLETED),depth:a?a.getValue().depth:null,canIndent:!!a&&a.canIndent(),canOutdent:!!a&&a.canOutdent()}}}(r,this.props.activeFormats),s=this.topLevelIcons(a);return i.a.createElement("div",{id:this.componentID,style:this.pilcrowStyles,className:Ie()({isMenuInset:!this.props.legacyMode},this.props.mobile?o.paragraphMenuMobile:o.paragraphMenu),onKeyDown:this.handleMenuBarKeyDown,ref:this.selfRef},i.a.createElement("button",{type:"button",id:this.buttonID,ref:this.buttonRef,"aria-label":Object(me.j)("Toggle Paragraph Format Menu"),"aria-controls":this.menuID,"aria-expanded":this.isMenuVisible,disabled:this.props.disabled,className:Ie()(n,(e={},Object(h.a)(e,o.button,this.props.mobile),Object(h.a)(e,o.menuItem,this.props.mobile),e)),"aria-haspopup":"menu",onClick:this.pilcrowClickHandler,onKeyDown:this.handleEscape},i.a.createElement(jo,{icon:i.a.createElement(on,{activeFormats:a})})),i.a.createElement("div",{id:this.menuID,className:Ie()(this.dropDownClasses,o.menuBar,this.isMenuVisible?"":Object(M.e)(Object(I.C)())),style:this.toolbarStyles,role:"menu"},i.a.createElement(tn,{menusRef:this.menusRef,panelsRef:this.panelsRef,parentID:this.ID,label:"Paragraph Format Menu",isMenuVisible:this.isMenuVisible,lastGoodSelection:this.props.lastGoodSelection,legacyMode:this.props.legacyMode,close:this.close,formatter:r,menuActiveFormats:a,rovingIndex:this.state.rovingTabIndex,setRovingIndex:this.setRovingIndex,topLevelIcons:s})))}},{key:"isPilcrowVisible",get:function(){return this.props.currentSelection}},{key:"isMenuVisible",get:function(){return!!this.props.lastGoodSelection&&this.state.hasFocus}},{key:"pilcrowStyles",get:function(){if(!this.props.lastGoodSelection)return{};var e=this.quill.getBounds(this.props.lastGoodSelection.index,this.props.lastGoodSelection.length);return{top:(e.top+e.bottom)/2-this.verticalOffset}}},{key:"verticalOffset",get:function(){return this.props.legacyMode?t.LEGACY_EXTRA_OFFSET:-1*P().modernFrame.padding+t.DEFAULT_OFFSET}},{key:"dropDownClasses",get:function(){if(!this.props.lastGoodSelection)return"";var e=this.quill.getBounds(this.props.lastGoodSelection.index,this.props.lastGoodSelection.length),t=this.quill.scroll.domNode.getBoundingClientRect(),o=F(this.props.legacyMode),n=Object(lo.a)();return Ie()(o.position,o.menuBar,n.likeDropDownContent,this.props.renderAbove||t.height>=170&&t.height-e.bottom<=170?"isUp":"isDown")}},{key:"toolbarStyles",get:function(){return this.isMenuVisible&&!Object(b.k)(this.quill,this.props.lastGoodSelection)?{}:{visibility:"hidden",position:"absolute",zIndex:-1}}}]),t}(i.a.PureComponent);Object(h.a)(nn,"DEFAULT_OFFSET",-1),Object(h.a)(nn,"LEGACY_EXTRA_OFFSET",-1);var rn=so(nn);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function an(){var e=f(),t=e.isLoading,o=e.quill,n=Object(m.c)(),r=n===m.b.MOBILE||n===m.b.XS;return!o||t||r?null:i.a.createElement(rn,null)}var sn=o(180),ln=o(87),cn=function(e){function t(){return Object(H.a)(this,t),Object(G.a)(this,Object(W.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return this.hasPermission()?this.props.children:this.props.fallback||null}},{key:"componentDidMount",value:function(){this.props.currentUser.status===To.a.PENDING&&this.props.requestData()}},{key:"componentDidCatch",value:function(e,t){Object(L.f)(e,t)}},{key:"hasPermission",value:function(){var e=this.props,t=e.currentUser,o=e.permission;return Array.isArray(o)||(o=[o]),t.status===To.a.SUCCESS&&!!t.data&&(t.data.isAdmin||this.arrayContainsOneOf(o,t.data.permissions))}},{key:"arrayContainsOneOf",value:function(e,t){return e.some((function(e){return t.indexOf(e)>=0}))}}]),t}(i.a.Component);var un=Object(No.b)(sn.a,(function(e){return{requestData:new ln.a(e,Ft.a).getMe}}))(cn),hn=so(function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"inputRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"isMimeTypeImage",(function(e){return e.startsWith("image/")})),Object(h.a)(Object(_e.a)(o),"onFakeButtonClick",(function(e){o.inputRef&&o.inputRef.current&&o.inputRef.current.click()})),Object(h.a)(Object(_e.a)(o),"onInputChange",(function(){var e=o.inputRef&&o.inputRef.current&&o.inputRef.current.files&&o.inputRef.current.files,t=o.props.quill&&o.props.quill.getModule("embed/insertion"),n=Object(me.d)("upload.maxUploads",20);if(e&&t){var r=Array.from(e);if(r.length>=n){var i=new Error("Can't upload more than ".concat(n," files at once."));throw t.createErrorEmbed(i),i}r.forEach((function(e){"image"===o.props.type&&Object(L.d)(e)?t.createImageEmbed(e):t.createFileEmbed(e)}))}})),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=F(this.props.legacyMode);return i.a.createElement("button",{className:Ie()("richEditor-button","richEditor-embedButton","richEditor-buttonUpload",e.button),type:"button","aria-pressed":"false",disabled:this.props.disabled,onClick:this.onFakeButtonClick},i.a.createElement(jo,{icon:this.icon}),i.a.createElement("input",{ref:this.inputRef,onChange:this.onInputChange,className:Ie()("richEditor-upload",e.upload),multiple:!0,type:"file",accept:this.inputAccepts}))}},{key:"icon",get:function(){switch(this.props.type){case"file":return i.a.createElement(Ye,null);case"image":return i.a.createElement(Ke,null)}}},{key:"inputAccepts",get:function(){var e=this;switch(this.props.type){case"file":return this.props.allowedMimeTypes.filter((function(t){return!e.isMimeTypeImage(t)})).join(", ");case"image":return this.props.allowedMimeTypes.filter(this.isMimeTypeImage).join(",")}}}]),t}(i.a.Component)),pn=o(213),dn=o(365),fn=o.n(dn),mn=o(361),gn=o.n(mn),bn=o(362),vn=o.n(bn),jn=o(366),yn=o.n(jn),On=o(367),Sn=o.n(On);function Cn(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function _n(e){this.setState(function(t){var o=this.constructor.getDerivedStateFromProps(e,t);return null!=o?o:null}.bind(this))}function En(e,t){try{var o=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(o,n)}finally{this.props=o,this.state=n}}function wn(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var o=null,n=null,r=null;if("function"==typeof t.componentWillMount?o="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(o="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==o||null!==n||null!==r){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==o?"\n  "+o:"")+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Cn,t.componentWillReceiveProps=_n),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=En;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,o){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:o;s.call(this,e,t,n)}}return e}Cn.__suppressDeprecationWarning=!0,_n.__suppressDeprecationWarning=!0,En.__suppressDeprecationWarning=!0;var xn=o(457),kn=o.n(xn),Ln=o(375),In=o.n(Ln);function Nn(e){var t=e.cellCount,o=e.cellSize,n=e.computeMetadataCallback,r=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof o&&"number"!=typeof a||o===a)||(n(r),l>=0&&l===s&&c())}var Tn=o(430),Rn=o.n(Tn),An=(o(38),function(){function e(t){var o=t.cellCount,n=t.cellSizeGetter,r=t.estimatedCellSize;gn()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=n,this._cellCount=o,this._estimatedCellSize=r}return vn()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,o=e.estimatedCellSize,n=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=o,this._cellSizeGetter=n}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),o=t.offset+t.size,n=this._lastMeasuredIndex+1;n<=e;n++){var r=this._cellSizeGetter({index:n});if(void 0===r||isNaN(r))throw Error("Invalid size returned for cell "+n+" of value "+r);null===r?(this._cellSizeAndPositionData[n]={offset:o,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[n]={offset:o,size:r},o+=r,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,o=void 0===t?"auto":t,n=e.containerSize,r=e.currentOffset,i=e.targetIndex;if(n<=0)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,l=s-n+a.size,c=void 0;switch(o){case"start":c=s;break;case"end":c=l;break;case"center":c=s-(n-a.size)/2;break;default:c=Math.max(l,Math.min(s,r))}var u=this.getTotalSize();return Math.max(0,Math.min(u-n,c))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,o=e.offset;if(0===this.getTotalSize())return{};var n=o+t,r=this._findNearestCell(o),i=this.getSizeAndPositionOfCell(r);o=i.offset+i.size;for(var a=r;o<n&&a<this._cellCount-1;)a++,o+=this.getSizeAndPositionOfCell(a).size;return{start:r,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,o){for(;t<=e;){var n=t+Math.floor((e-t)/2),r=this.getSizeAndPositionOfCell(n).offset;if(r===o)return n;r<o?t=n+1:r>o&&(e=n-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var o=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=o,o*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),o=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(o,0,e):this._exponentialSearch(o,e)}}]),e}()),Mn=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},Pn=function(){function e(t){var o=t.maxScrollSize,n=void 0===o?Mn():o,r=Rn()(t,["maxScrollSize"]);gn()(this,e),this._cellSizeAndPositionManager=new An(r),this._maxScrollSize=n}return vn()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,o=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:r});return Math.round(i*(r-n))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,o=void 0===t?"auto":t,n=e.containerSize,r=e.currentOffset,i=e.targetIndex;r=this._safeOffsetToOffset({containerSize:n,offset:r});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n,currentOffset:r,targetIndex:i});return this._offsetToSafeOffset({containerSize:n,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,o=e.offset;return o=this._safeOffsetToOffset({containerSize:t,offset:o}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:o})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,o=e.offset,n=e.totalSize;return n<=t?0:o/(n-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,o=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(n===r)return o;var i=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:n});return Math.round(i*(r-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,o=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(n===r)return o;var i=this._getOffsetPercentage({containerSize:t,offset:o,totalSize:r});return Math.round(i*(n-t))}}]),e}(),Dn=o(431),zn=o.n(Dn);function Bn(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(o){var n=o.callback,r=o.indices,i=zn()(r),a=!e||i.every((function(e){var t=r[e];return Array.isArray(t)?t.length>0:t>=0})),s=i.length!==zn()(t).length||i.some((function(e){var o=t[e],n=r[e];return Array.isArray(n)?o.join(",")!==n.join(","):o!==n}));t=r,a&&s&&n(r)}}var Fn=1;function qn(e){var t=e.cellSize,o=e.cellSizeAndPositionManager,n=e.previousCellsCount,r=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,h=e.size,p=e.sizeJustIncreasedFromZero,d=e.updateScrollIndexCallback,f=o.getCellCount(),m=u>=0&&u<f;m&&(h!==s||p||!r||"number"==typeof t&&t!==r||c!==i||u!==a)?d(u):!m&&f>0&&(h<s||f<n)&&l>o.getTotalSize()-h&&d(f-1)}var Hn=o(458),Un=o.n(Hn),Gn=o(720),Wn=o.n(Gn),Vn=void 0,Kn=(Vn="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Vn.webkitRequestAnimationFrame||Vn.mozRequestAnimationFrame||Vn.oRequestAnimationFrame||Vn.msRequestAnimationFrame||function(e){return Vn.setTimeout(e,1e3/60)},Yn=Vn.cancelAnimationFrame||Vn.webkitCancelAnimationFrame||Vn.mozCancelAnimationFrame||Vn.oCancelAnimationFrame||Vn.msCancelAnimationFrame||function(e){Vn.clearTimeout(e)},Zn=Kn,$n=Yn,Xn=function(e){return $n(e.id)},Qn=function(e,t){var o=void 0;Wn.a.resolve().then((function(){o=Date.now()}));var n={id:Zn((function r(){Date.now()-o>=t?e.call():n.id=Zn(r)}))};return n},Jn="observed",er="requested",tr=function(e){function t(e){gn()(this,t);var o=yn()(this,(t.__proto__||fn()(t)).call(this,e));o._onGridRenderedMemoizer=Bn(),o._onScrollMemoizer=Bn(!1),o._deferredInvalidateColumnIndex=null,o._deferredInvalidateRowIndex=null,o._recomputeScrollLeftFlag=!1,o._recomputeScrollTopFlag=!1,o._horizontalScrollBarSize=0,o._verticalScrollBarSize=0,o._scrollbarPresenceChanged=!1,o._renderedColumnStartIndex=0,o._renderedColumnStopIndex=0,o._renderedRowStartIndex=0,o._renderedRowStopIndex=0,o._styleCache={},o._cellCache={},o._debounceScrollEndedCallback=function(){o._disablePointerEventsTimeoutId=null,o.setState({isScrolling:!1,needToResetStyleCache:!1})},o._invokeOnGridRenderedHelper=function(){var e=o.props.onSectionRendered;o._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:o._columnStartIndex,columnOverscanStopIndex:o._columnStopIndex,columnStartIndex:o._renderedColumnStartIndex,columnStopIndex:o._renderedColumnStopIndex,rowOverscanStartIndex:o._rowStartIndex,rowOverscanStopIndex:o._rowStopIndex,rowStartIndex:o._renderedRowStartIndex,rowStopIndex:o._renderedRowStopIndex}})},o._setScrollingContainerRef=function(e){o._scrollingContainer=e},o._onScroll=function(e){e.target===o._scrollingContainer&&o.handleScrollEvent(e.target)};var n=new Pn({cellCount:e.columnCount,cellSizeGetter:function(o){return t._wrapSizeGetter(e.columnWidth)(o)},estimatedCellSize:t._getEstimatedColumnSize(e)}),r=new Pn({cellCount:e.rowCount,cellSizeGetter:function(o){return t._wrapSizeGetter(e.rowHeight)(o)},estimatedCellSize:t._getEstimatedRowSize(e)});return o.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:r,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Fn,scrollDirectionVertical:Fn,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(o._initialScrollTop=o._getCalculatedScrollTop(e,o.state)),e.scrollToColumn>0&&(o._initialScrollLeft=o._getCalculatedScrollLeft(e,o.state)),o}return Sn()(t,e),vn()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,o=void 0===t?this.props.scrollToAlignment:t,n=e.columnIndex,r=void 0===n?this.props.scrollToColumn:n,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=In()({},this.props,{scrollToAlignment:o,scrollToColumn:r,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,o=void 0===t?0:t,n=e.scrollTop,r=void 0===n?0:n;if(!(r<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,c=i.width,u=this.state.instanceProps,h=u.scrollbarSize,p=u.rowSizeAndPositionManager.getTotalSize(),d=u.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,d-c+h),o),m=Math.min(Math.max(0,p-l+h),r);if(this.state.scrollLeft!==f||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?Fn:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?Fn:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:Jn};a||(g.scrollTop=m),s||(g.scrollLeft=f),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:d,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,o=e.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,r=void 0===n?0:n,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(o),l.rowSizeAndPositionManager.resetCell(r),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===Fn?o<=a:o>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===Fn?r<=s:r>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,o=e.rowIndex,n=this.props.columnCount,r=this.props;n>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(In()({},r,{scrollToColumn:t})),void 0!==o&&this._updateScrollTopForScrollToRow(In()({},r,{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var e=this.props,o=e.getScrollbarSize,n=e.height,r=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,l=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=In()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=o(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof r&&r>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var h=n>0&&l>0;i>=0&&h&&this._updateScrollLeftForScrollToColumn(),s>=0&&h&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var o=this,n=this.props,r=n.autoHeight,i=n.autoWidth,a=n.columnCount,s=n.height,l=n.rowCount,c=n.scrollToAlignment,u=n.scrollToColumn,h=n.scrollToRow,p=n.width,d=this.state,f=d.scrollLeft,m=d.scrollPositionChangeReason,g=d.scrollTop,b=d.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===er&&(!i&&f>=0&&(f!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=f),!r&&g>=0&&(g!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=g));var j=(0===e.width||0===e.height)&&s>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):qn({cellSizeAndPositionManager:b.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:c,scrollToIndex:u,size:p,sizeJustIncreasedFromZero:j,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):qn({cellSizeAndPositionManager:b.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:c,scrollToIndex:h,size:s,sizeJustIncreasedFromZero:j,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||g!==t.scrollTop){var y=b.rowSizeAndPositionManager.getTotalSize(),O=b.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:g,totalColumnsWidth:O,totalRowsHeight:y})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Xn(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,o=e.autoHeight,n=e.autoWidth,i=e.className,a=e.containerProps,s=e.containerRole,l=e.containerStyle,c=e.height,u=e.id,h=e.noContentRenderer,p=e.role,d=e.style,f=e.tabIndex,m=e.width,g=this.state,b=g.instanceProps,v=g.needToResetStyleCache,j=this._isScrolling(),y={boxSizing:"border-box",direction:"ltr",height:o?"auto":c,position:"relative",width:n?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};v&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var O=b.columnSizeAndPositionManager.getTotalSize(),S=b.rowSizeAndPositionManager.getTotalSize(),C=S>c?b.scrollbarSize:0,_=O>m?b.scrollbarSize:0;_===this._horizontalScrollBarSize&&C===this._verticalScrollBarSize||(this._horizontalScrollBarSize=_,this._verticalScrollBarSize=C,this._scrollbarPresenceChanged=!0),y.overflowX=O+C<=m?"hidden":"auto",y.overflowY=S+_<=c?"hidden":"auto";var E=this._childrenToDisplay,w=0===E.length&&c>0&&m>0;return r.createElement("div",In()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Ie()("ReactVirtualized__Grid",i),id:u,onScroll:this._onScroll,role:p,style:In()({},y,d),tabIndex:f}),E.length>0&&r.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:In()({width:t?"auto":O,height:S,maxWidth:O,maxHeight:S,overflow:"hidden",pointerEvents:j?"none":"",position:"relative"},l)},E),w&&h())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=e.cellRenderer,n=e.cellRangeRenderer,r=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,h=e.width,p=e.isScrollingOptOut,d=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,b=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&h>0){var j=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:b}),y=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),O=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:h,offset:b}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=j.start,this._renderedColumnStopIndex=j.stop,this._renderedRowStartIndex=y.start,this._renderedRowStopIndex=y.stop;var C=l({direction:"horizontal",cellCount:r,overscanCellsCount:s,scrollDirection:d,startIndex:"number"==typeof j.start?j.start:0,stopIndex:"number"==typeof j.stop?j.stop:-1}),_=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:f,startIndex:"number"==typeof y.start?y.start:0,stopIndex:"number"==typeof y.stop?y.stop:-1}),E=C.overscanStartIndex,w=C.overscanStopIndex,x=_.overscanStartIndex,k=_.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var L=x;L<=k;L++)if(!i.has(L,0)){E=0,w=r-1;break}if(!i.hasFixedWidth())for(var I=E;I<=w;I++)if(!i.has(0,I)){x=0,k=u-1;break}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:E,columnStopIndex:w,deferredMeasurementCache:i,horizontalOffsetAdjustment:O,isScrolling:v,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:x,rowStopIndex:k,scrollLeft:b,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:j,visibleRowIndices:y}),this._columnStartIndex=E,this._columnStopIndex=w,this._rowStartIndex=x,this._rowStopIndex=k}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Xn(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Qn(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,o=e.scrollLeft,n=e.scrollTop,r=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var o=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:o,scrollTop:n,scrollWidth:r})},indices:{scrollLeft:o,scrollTop:n}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var o=e.scrollLeft,n=e.scrollTop,r=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:n});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollLeftForScrollToColumnStateUpdate(e,o);n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,o)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var r=this._columnStartIndex;r<=this._columnStopIndex;r++){var i=n+"-"+r;this._styleCache[i]=e[i],o&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollTopForScrollToRowStateUpdate(e,o);n&&(n.needToResetStyleCache=!1,this.setState(n))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var n={};0===e.columnCount&&0!==o.scrollLeft||0===e.rowCount&&0!==o.scrollTop?(n.scrollLeft=0,n.scrollTop=0):(e.scrollLeft!==o.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==o.scrollTop&&e.scrollToRow<0)&&kn()(n,t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var r=o.instanceProps;n.needToResetStyleCache=!1,e.columnWidth===r.prevColumnWidth&&e.rowHeight===r.prevRowHeight||(n.needToResetStyleCache=!0),r.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),r.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==r.prevColumnCount&&0!==r.prevRowCount||(r.prevColumnCount=0,r.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===r.prevIsScrolling&&kn()(n,{isScrolling:!1});var i=void 0,a=void 0;return Nn({cellCount:r.prevColumnCount,cellSize:"number"==typeof r.prevColumnWidth?r.prevColumnWidth:null,computeMetadataCallback:function(){return r.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:r.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollLeftForScrollToColumnStateUpdate(e,o)}}),Nn({cellCount:r.prevRowCount,cellSize:"number"==typeof r.prevRowHeight?r.prevRowHeight:null,computeMetadataCallback:function(){return r.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:r.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,o)}}),r.prevColumnCount=e.columnCount,r.prevColumnWidth=e.columnWidth,r.prevIsScrolling=!0===e.isScrolling,r.prevRowCount=e.rowCount,r.prevRowHeight=e.rowHeight,r.prevScrollToColumn=e.scrollToColumn,r.prevScrollToRow=e.scrollToRow,r.scrollbarSize=e.getScrollbarSize(),void 0===r.scrollbarSize?(r.scrollbarSizeMeasured=!1,r.scrollbarSize=0):r.scrollbarSizeMeasured=!0,n.instanceProps=r,In()({},n,i,a)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,o=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:er};return"number"==typeof o&&o>=0&&(r.scrollDirectionHorizontal=o>t.scrollLeft?Fn:-1,r.scrollLeft=o),"number"==typeof n&&n>=0&&(r.scrollDirectionVertical=n>t.scrollTop?Fn:-1,r.scrollTop=n),"number"==typeof o&&o>=0&&o!==t.scrollLeft||"number"==typeof n&&n>=0&&n!==t.scrollTop?r:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var o=e.columnCount,n=e.height,r=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=t.scrollLeft,l=t.instanceProps;if(o>0){var c=o-1,u=i<0?c:Math.min(c,i),h=l.rowSizeAndPositionManager.getTotalSize(),p=l.scrollbarSizeMeasured&&h>n?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:a-p,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,o){var n=o.scrollLeft,r=t._getCalculatedScrollLeft(e,o);return"number"==typeof r&&r>=0&&n!==r?t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:r,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var o=e.height,n=e.rowCount,r=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=t.scrollTop,l=t.instanceProps;if(n>0){var c=n-1,u=i<0?c:Math.min(c,i),h=l.columnSizeAndPositionManager.getTotalSize(),p=l.scrollbarSizeMeasured&&h>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:o-p,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,o){var n=o.scrollTop,r=t._getCalculatedScrollTop(e,o);return"number"==typeof r&&r>=0&&n!==r?t._getScrollToPositionStateUpdate({prevState:o,scrollLeft:-1,scrollTop:r}):null}}]),t}(r.PureComponent);tr.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,o=e.cellRenderer,n=e.columnSizeAndPositionManager,r=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,l=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,h=e.rowSizeAndPositionManager,p=e.rowStartIndex,d=e.rowStopIndex,f=e.styleCache,m=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,b=e.visibleRowIndices,v=[],j=n.areOffsetsAdjusted()||h.areOffsetsAdjusted(),y=!l&&!j,O=p;O<=d;O++)for(var S=h.getSizeAndPositionOfCell(O),C=r;C<=i;C++){var _=n.getSizeAndPositionOfCell(C),E=C>=g.start&&C<=g.stop&&O>=b.start&&O<=b.stop,w=O+"-"+C,x=void 0;y&&f[w]?x=f[w]:a&&!a.has(O,C)?x={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(x={height:S.size,left:_.offset+s,position:"absolute",top:S.offset+m,width:_.size},f[w]=x);var k={columnIndex:C,isScrolling:l,isVisible:E,key:w,parent:u,rowIndex:O,style:x},L=void 0;!c&&!l||s||m?L=o(k):(t[w]||(t[w]=o(k)),L=t[w]),null!=L&&!1!==L&&v.push(L)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:Un.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,o=e.overscanCellsCount,n=e.scrollDirection,r=e.startIndex,i=e.stopIndex;return n===Fn?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(t-1,i+o)}:{overscanStartIndex:Math.max(0,r-o),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},tr.propTypes=null,wn(tr);var or=tr,nr=1;function rr(e){var t=e.cellCount,o=e.overscanCellsCount,n=e.scrollDirection,r=e.startIndex,i=e.stopIndex;return o=Math.max(1,o),n===nr?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(t-1,i+o)}:{overscanStartIndex:Math.max(0,r-o),overscanStopIndex:Math.min(t-1,i+1)}}var ir=function(e){function t(){var e,o,n,r;gn()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(a))),n.state={scrollToColumn:0,scrollToRow:0},n._columnStartIndex=0,n._columnStopIndex=0,n._rowStartIndex=0,n._rowStopIndex=0,n._onKeyDown=function(e){var t=n.props,o=t.columnCount,r=t.disabled,i=t.mode,a=t.rowCount;if(!r){var s=n._getScrollState(),l=s.scrollToColumn,c=s.scrollToRow,u=n._getScrollState(),h=u.scrollToColumn,p=u.scrollToRow;switch(e.key){case"ArrowDown":p="cells"===i?Math.min(p+1,a-1):Math.min(n._rowStopIndex+1,a-1);break;case"ArrowLeft":h="cells"===i?Math.max(h-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":h="cells"===i?Math.min(h+1,o-1):Math.min(n._columnStopIndex+1,o-1);break;case"ArrowUp":p="cells"===i?Math.max(p-1,0):Math.max(n._rowStartIndex-1,0)}h===l&&p===c||(e.preventDefault(),n._updateScrollState({scrollToColumn:h,scrollToRow:p}))}},n._onSectionRendered=function(e){var t=e.columnStartIndex,o=e.columnStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;n._columnStartIndex=t,n._columnStopIndex=o,n._rowStartIndex=r,n._rowStopIndex=i},r=o,yn()(n,r)}return Sn()(t,e),vn()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,o=e.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.children,n=this._getScrollState(),i=n.scrollToColumn,a=n.scrollToRow;return r.createElement("div",{className:t,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,o=e.scrollToRow,n=this.props,r=n.isControlled,i=n.onScrollToChange;"function"==typeof i&&i({scrollToColumn:t,scrollToRow:o}),r||this.setState({scrollToColumn:t,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?null:e.scrollToColumn!==t.scrollToColumn||e.scrollToRow!==t.scrollToRow?{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow}:null}}]),t}(r.PureComponent);ir.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},ir.propTypes=null,wn(ir);var ar=o(464),sr=function(e){function t(){var e,o,n,r;gn()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(a))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,o=e.disableWidth,r=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,p=i-u-h,d=a-l-c;(!t&&n.state.height!==p||!o&&n.state.width!==d)&&(n.setState({height:i-u-h,width:a-l-c}),r({height:i,width:a}))}},n._setRef=function(e){n._autoSizer=e},r=o,yn()(n,r)}return Sn()(t,e),vn()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(ar.a)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.className,n=e.disableHeight,i=e.disableWidth,a=e.style,s=this.state,l=s.height,c=s.width,u={overflow:"visible"},h={};return n||(u.height=0,h.height=l),i||(u.width=0,h.width=c),r.createElement("div",{className:o,ref:this._setRef,style:In()({},u,a)},t(h))}}]),t}(r.PureComponent);sr.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},sr.propTypes=null;var lr=sr,cr=function(e){function t(){var e,o,n,r;gn()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(a))),n._measure=function(){var e=n.props,t=e.cache,o=e.columnIndex,r=void 0===o?0:o,i=e.parent,a=e.rowIndex,s=void 0===a?n.props.index||0:a,l=n._getCellMeasurements(),c=l.height,u=l.width;c===t.getHeight(s,r)&&u===t.getWidth(s,r)||(t.set(s,r,u,c),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:r,rowIndex:s}))},r=o,yn()(n,r)}return Sn()(t,e),vn()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=Object(Oe.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var o=t.style.width,n=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var r=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return o&&(t.style.width=o),n&&(t.style.height=n),{height:r,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,o=e.columnIndex,n=void 0===o?0:o,r=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,n)){var s=this._getCellMeasurements(),l=s.height,c=s.width;t.set(a,n,c,l),r&&"function"==typeof r.invalidateCellSizeAfterRender&&r.invalidateCellSizeAfterRender({columnIndex:n,rowIndex:a})}}}]),t}(r.PureComponent);cr.__internalCellMeasurerFlag=!1,cr.propTypes=null;var ur=30,hr=100;!function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gn()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var o=e.index,n=t._keyMapper(0,o);return t._columnWidthCache.hasOwnProperty(n)?t._columnWidthCache[n]:t._defaultWidth},this.rowHeight=function(e){var o=e.index,n=t._keyMapper(o,0);return t._rowHeightCache.hasOwnProperty(n)?t._rowHeightCache[n]:t._defaultHeight};var n=o.defaultHeight,r=o.defaultWidth,i=o.fixedHeight,a=o.fixedWidth,s=o.keyMapper,l=o.minHeight,c=o.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===a,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||pr,this._defaultHeight=Math.max(this._minHeight,"number"==typeof n?n:ur),this._defaultWidth=Math.max(this._minWidth,"number"==typeof r?r:hr)}vn()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._keyMapper(e,t);delete this._cellHeightCache[o],delete this._cellWidthCache[o],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var o=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(o)?Math.max(this._minHeight,this._cellHeightCache[o]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var o=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(o)?Math.max(this._minWidth,this._cellWidthCache[o]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(o)}},{key:"set",value:function(e,t,o,n){var r=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[r]=n,this._cellWidthCache[r]=o,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var o=0,n=0;n<this._rowCount;n++)o=Math.max(o,this.getWidth(n,t));var r=this._keyMapper(0,t);this._columnWidthCache[r]=o}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function pr(e,t){return e+"-"+t}var dr={OBSERVED:"observed",REQUESTED:"requested"},fr=function(e){function t(){var e;gn()(this,t);for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];var i=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(n)));return i.state={isScrolling:!1,scrollLeft:0,scrollTop:0},i._calculateSizeAndPositionDataOnNextUpdate=!1,i._onSectionRenderedMemoizer=Bn(),i._onScrollMemoizer=Bn(!1),i._invokeOnSectionRenderedHelper=function(){var e=i.props,t=e.cellLayoutManager,o=e.onSectionRendered;i._onSectionRenderedMemoizer({callback:o,indices:{indices:t.getLastRenderedIndices()}})},i._setScrollingContainerRef=function(e){i._scrollingContainer=e},i._updateScrollPositionForScrollToCell=function(){var e=i.props,t=e.cellLayoutManager,o=e.height,n=e.scrollToAlignment,r=e.scrollToCell,a=e.width,s=i.state,l=s.scrollLeft,c=s.scrollTop;if(r>=0){var u=t.getScrollPositionForCell({align:n,cellIndex:r,height:o,scrollLeft:l,scrollTop:c,width:a});u.scrollLeft===l&&u.scrollTop===c||i._setScrollPosition(u)}},i._onScroll=function(e){if(e.target===i._scrollingContainer){i._enablePointerEventsAfterDelay();var t=i.props,o=t.cellLayoutManager,n=t.height,r=t.isScrollingChange,a=t.width,s=i._scrollbarSize,l=o.getTotalSize(),c=l.height,u=l.width,h=Math.max(0,Math.min(u-a+s,e.target.scrollLeft)),p=Math.max(0,Math.min(c-n+s,e.target.scrollTop));if(i.state.scrollLeft!==h||i.state.scrollTop!==p){var d=e.cancelable?dr.OBSERVED:dr.REQUESTED;i.state.isScrolling||r(!0),i.setState({isScrolling:!0,scrollLeft:h,scrollPositionChangeReason:d,scrollTop:p})}i._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:p,totalWidth:u,totalHeight:c})}},i._scrollbarSize=Un()(),void 0===i._scrollbarSize?(i._scrollbarSizeMeasured=!1,i._scrollbarSize=0):i._scrollbarSizeMeasured=!0,i}return Sn()(t,e),vn()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,o=e.scrollLeft,n=e.scrollToCell,r=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Un()(),this._scrollbarSizeMeasured=!0,this.setState({})),n>=0?this._updateScrollPositionForScrollToCell():(o>=0||r>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:r}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:r||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var o=this.props,n=o.height,r=o.scrollToAlignment,i=o.scrollToCell,a=o.width,s=this.state,l=s.scrollLeft,c=s.scrollPositionChangeReason,u=s.scrollTop;c===dr.REQUESTED&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),n===e.height&&r===e.scrollToAlignment&&i===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,o=e.cellCount,n=e.cellLayoutManager,i=e.className,a=e.height,s=e.horizontalOverscanSize,l=e.id,c=e.noContentRenderer,u=e.style,h=e.verticalOverscanSize,p=e.width,d=this.state,f=d.isScrolling,m=d.scrollLeft,g=d.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==n||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=n,this._calculateSizeAndPositionDataOnNextUpdate=!1,n.calculateSizeAndPositionData());var b=n.getTotalSize(),v=b.height,j=b.width,y=Math.max(0,m-s),O=Math.max(0,g-h),S=Math.min(j,m+p+s),C=Math.min(v,g+a+h),_=a>0&&p>0?n.cellRenderers({height:C-O,isScrolling:f,width:S-y,x:y,y:O}):[],E={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:p,willChange:"transform"},w=v>a?this._scrollbarSize:0,x=j>p?this._scrollbarSize:0;return E.overflowX=j+w<=p?"hidden":"auto",E.overflowY=v+x<=a?"hidden":"auto",r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Ie()("ReactVirtualized__Collection",i),id:l,onScroll:this._onScroll,role:"grid",style:In()({},E,u),tabIndex:0},o>0&&r.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:v,maxHeight:v,maxWidth:j,overflow:"hidden",pointerEvents:f?"none":"",width:j}},_),0===o&&c())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,o=e.scrollLeft,n=e.scrollTop,r=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var o=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:r,scrollLeft:o,scrollTop:n,scrollWidth:i})},indices:{scrollLeft:o,scrollTop:n}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,o=e.scrollTop,n={scrollPositionChangeReason:dr.REQUESTED};t>=0&&(n.scrollLeft=t),o>=0&&(n.scrollTop=o),(t>=0&&t!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(n)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),t}(r.PureComponent);fr.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},fr.propTypes={},wn(fr);var mr=fr,gr=function(){function e(t){var o=t.height,n=t.width,r=t.x,i=t.y;gn()(this,e),this.height=o,this.width=n,this.x=r,this.y=i,this._indexMap={},this._indices=[]}return vn()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),e}(),br=100,vr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br;gn()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return vn()(e,[{key:"getCellIndices",value:function(e){var t=e.height,o=e.width,n=e.x,r=e.y,i={};return this.getSections({height:t,width:o,x:n,y:r}).forEach((function(e){return e.getCellIndices().forEach((function(e){i[e]=e}))})),zn()(i).map((function(e){return i[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,o=e.width,n=e.x,r=e.y,i=Math.floor(n/this._sectionSize),a=Math.floor((n+o-1)/this._sectionSize),s=Math.floor(r/this._sectionSize),l=Math.floor((r+t-1)/this._sectionSize),c=[],u=i;u<=a;u++)for(var h=s;h<=l;h++){var p=u+"."+h;this._sections[p]||(this._sections[p]=new gr({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:h*this._sectionSize})),c.push(this._sections[p])}return c}},{key:"getTotalSectionCount",value:function(){return zn()(this._sections).length}},{key:"toString",value:function(){var e=this;return zn()(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,o=e.index;this._cellMetadata[o]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:o})}))}}]),e}();function jr(e){var t=e.align,o=void 0===t?"auto":t,n=e.cellOffset,r=e.cellSize,i=e.containerSize,a=e.currentOffset,s=n,l=s-i+r;switch(o){case"start":return s;case"end":return l;case"center":return s-(i-r)/2;default:return Math.max(l,Math.min(s,a))}}var yr=function(e){function t(e,o){gn()(this,t);var n=yn()(this,(t.__proto__||fn()(t)).call(this,e,o));return n._cellMetadata=[],n._lastRenderedCellIndices=[],n._cellCache=[],n._isScrollingChange=n._isScrollingChange.bind(n),n._setCollectionViewRef=n._setCollectionViewRef.bind(n),n}return Sn()(t,e),vn()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=Rn()(this.props,[]);return r.createElement(mr,In()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,o=e.cellSizeAndPositionGetter,n=e.sectionSize,r=[],i=new vr(n),a=0,s=0,l=0;l<t;l++){var c=o({index:l});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell "+l+":\n        x:"+c.x+", y:"+c.y+", width:"+c.width+", height:"+c.height);a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),r[l]=c,i.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:r,height:a,sectionManager:i,width:s}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,o=e.cellIndex,n=e.height,r=e.scrollLeft,i=e.scrollTop,a=e.width,s=this.props.cellCount;if(o>=0&&o<s){var l=this._cellMetadata[o];r=jr({align:t,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:r,targetIndex:o}),i=jr({align:t,cellOffset:l.y,cellSize:l.height,containerSize:n,currentOffset:i,targetIndex:o})}return{scrollLeft:r,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,o=e.height,n=e.isScrolling,r=e.width,i=e.x,a=e.y,s=this.props,l=s.cellGroupRenderer,c=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:r,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:c,cellSizeAndPositionGetter:function(e){var o=e.index;return t._sectionManager.getCellMetadata({index:o})},indices:this._lastRenderedCellIndices,isScrolling:n})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(r.PureComponent);yr.defaultProps={"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,o=e.cellRenderer,n=e.cellSizeAndPositionGetter,r=e.indices,i=e.isScrolling;return r.map((function(e){var r=n({index:e}),a={index:e,isScrolling:i,key:e,style:{height:r.height,left:r.x,position:"absolute",top:r.y,width:r.width}};return i?(e in t||(t[e]=o(a)),t[e]):o(a)})).filter((function(e){return!!e}))}};yr.propTypes={};var Or=function(e){function t(e,o){gn()(this,t);var n=yn()(this,(t.__proto__||fn()(t)).call(this,e,o));return n._registerChild=n._registerChild.bind(n),n}return Sn()(t,e),vn()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,o=t.columnMaxWidth,n=t.columnMinWidth,r=t.columnCount,i=t.width;o===e.columnMaxWidth&&n===e.columnMinWidth&&r===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,o=e.columnMaxWidth,n=e.columnMinWidth,r=e.columnCount,i=e.width,a=n||1,s=o?Math.min(o,i):i,l=i/r;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),t({adjustedWidth:Math.min(i,l*r),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(r.PureComponent);Or.propTypes={};var Sr=function(e){function t(e,o){gn()(this,t);var n=yn()(this,(t.__proto__||fn()(t)).call(this,e,o));return n._loadMoreRowsMemoizer=Bn(),n._onRowsRendered=n._onRowsRendered.bind(n),n._registerChild=n._registerChild.bind(n),n}return Sn()(t,e),vn()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=Bn(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,o=this.props.loadMoreRows;e.forEach((function(e){var n=o(e);n&&n.then((function(){var o,n,r,i,a;o={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},n=o.lastRenderedStartIndex,r=o.lastRenderedStopIndex,i=o.startIndex,a=o.stopIndex,i>r||a<n||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;o?o.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,o=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=o,this._doStuff(t,o)}},{key:"_doStuff",value:function(e,t){var o=this,n=this.props,r=n.isRowLoaded,i=n.minimumBatchSize,a=n.rowCount,s=n.threshold,l=function(e){for(var t=e.isRowLoaded,o=e.minimumBatchSize,n=e.rowCount,r=e.startIndex,i=e.stopIndex,a=[],s=null,l=null,c=r;c<=i;c++){t({index:c})?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,null===s&&(s=c))}if(null!==l){for(var u=Math.min(Math.max(l,s+o-1),n-1),h=l+1;h<=u&&!t({index:h});h++)l=h;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var p=a[0];p.stopIndex-p.startIndex+1<o&&p.startIndex>0;){var d=p.startIndex-1;if(t({index:d}))break;p.startIndex=d}return a}({isRowLoaded:r,minimumBatchSize:i,rowCount:a,startIndex:Math.max(0,e-s),stopIndex:Math.min(a-1,t+s)}),c=l.reduce((function(e,t){return e.concat([t.startIndex,t.stopIndex])}),[]);this._loadMoreRowsMemoizer({callback:function(){o._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:c}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(r.PureComponent);Sr.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};Sr.propTypes={};var Cr=o(735),_r=o.n(Cr),Er=function(e){function t(){var e,o,n,r;gn()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(a))),n._cellRenderer=function(e){var t=e.parent,o=e.rowIndex,r=e.style,i=e.isScrolling,a=e.isVisible,s=e.key,l=n.props.rowRenderer;return _r()(r,"width").writable&&(r.width="100%"),l({index:o,style:r,isScrolling:i,isVisible:a,key:s,parent:t})},n._setRef=function(e){n.Grid=e},n._onScroll=function(e){var t=e.clientHeight,o=e.scrollHeight,r=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:o,scrollTop:r})},n._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,o=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:o,startIndex:r,stopIndex:i})},r=o,yn()(n,r)}return Sn()(t,e),vn()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,o=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:o,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,r=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,o=e.noRowsRenderer,n=e.scrollToIndex,i=e.width,a=Ie()("ReactVirtualized__List",t);return r.createElement(or,In()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),t}(r.PureComponent);Er.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:rr,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},Er.propTypes=null;var wr=o(738),xr=o.n(wr),kr=o(739),Lr=o.n(kr);var Ir={ge:function(e,t,o,n,r){return"function"==typeof o?function(e,t,o,n,r){for(var i=o+1;t<=o;){var a=t+o>>>1;r(e[a],n)>=0?(i=a,o=a-1):t=a+1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t,o):function(e,t,o,n){for(var r=o+1;t<=o;){var i=t+o>>>1;e[i]>=n?(r=i,o=i-1):t=i+1}return r}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},gt:function(e,t,o,n,r){return"function"==typeof o?function(e,t,o,n,r){for(var i=o+1;t<=o;){var a=t+o>>>1;r(e[a],n)>0?(i=a,o=a-1):t=a+1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t,o):function(e,t,o,n){for(var r=o+1;t<=o;){var i=t+o>>>1;e[i]>n?(r=i,o=i-1):t=i+1}return r}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},lt:function(e,t,o,n,r){return"function"==typeof o?function(e,t,o,n,r){for(var i=t-1;t<=o;){var a=t+o>>>1;r(e[a],n)<0?(i=a,t=a+1):o=a-1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t,o):function(e,t,o,n){for(var r=t-1;t<=o;){var i=t+o>>>1;e[i]<n?(r=i,t=i+1):o=i-1}return r}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},le:function(e,t,o,n,r){return"function"==typeof o?function(e,t,o,n,r){for(var i=t-1;t<=o;){var a=t+o>>>1;r(e[a],n)<=0?(i=a,t=a+1):o=a-1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t,o):function(e,t,o,n){for(var r=t-1;t<=o;){var i=t+o>>>1;e[i]<=n?(r=i,t=i+1):o=i-1}return r}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)},eq:function(e,t,o,n,r){return"function"==typeof o?function(e,t,o,n,r){for(;t<=o;){var i=t+o>>>1,a=r(e[i],n);if(0===a)return i;a<=0?t=i+1:o=i-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t,o):function(e,t,o,n){for(;t<=o;){var r=t+o>>>1,i=e[r];if(i===n)return r;i<=n?t=r+1:o=r-1}return-1}(e,void 0===o?0:0|o,void 0===n?e.length-1:0|n,t)}},Nr=0,Tr=1;function Rr(e,t,o,n,r){this.mid=e,this.left=t,this.right=o,this.leftPoints=n,this.rightPoints=r,this.count=(t?t.count:0)+(o?o.count:0)+n.length}var Ar=Rr.prototype;function Mr(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function Pr(e,t){var o=Wr(t);e.mid=o.mid,e.left=o.left,e.right=o.right,e.leftPoints=o.leftPoints,e.rightPoints=o.rightPoints,e.count=o.count}function Dr(e,t){var o=e.intervals([]);o.push(t),Pr(e,o)}function zr(e,t){var o=e.intervals([]),n=o.indexOf(t);return n<0?Nr:(o.splice(n,1),Pr(e,o),Tr)}function Br(e,t,o){for(var n=0;n<e.length&&e[n][0]<=t;++n){var r=o(e[n]);if(r)return r}}function Fr(e,t,o){for(var n=e.length-1;n>=0&&e[n][1]>=t;--n){var r=o(e[n]);if(r)return r}}function qr(e,t){for(var o=0;o<e.length;++o){var n=t(e[o]);if(n)return n}}function Hr(e,t){return e-t}function Ur(e,t){var o=e[0]-t[0];return o||e[1]-t[1]}function Gr(e,t){var o=e[1]-t[1];return o||e[0]-t[0]}function Wr(e){if(0===e.length)return null;for(var t=[],o=0;o<e.length;++o)t.push(e[o][0],e[o][1]);t.sort(Hr);var n=t[t.length>>1],r=[],i=[],a=[];for(o=0;o<e.length;++o){var s=e[o];s[1]<n?r.push(s):n<s[0]?i.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(Ur),c.sort(Gr),new Rr(n,Wr(r),Wr(i),l,c)}function Vr(e){this.root=e}Ar.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},Ar.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?Dr(this,e):this.left.insert(e):this.left=Wr([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?Dr(this,e):this.right.insert(e):this.right=Wr([e]);else{var o=Ir.ge(this.leftPoints,e,Ur),n=Ir.ge(this.rightPoints,e,Gr);this.leftPoints.splice(o,0,e),this.rightPoints.splice(n,0,e)}},Ar.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?zr(this,e):2===(i=this.left.remove(e))?(this.left=null,this.count-=1,Tr):(i===Tr&&(this.count-=1),i):Nr;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?zr(this,e):2===(i=this.right.remove(e))?(this.right=null,this.count-=1,Tr):(i===Tr&&(this.count-=1),i):Nr;if(1===this.count)return this.leftPoints[0]===e?2:Nr;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var o=this,n=this.left;n.right;)o=n,n=n.right;if(o===this)n.right=this.right;else{var r=this.left,i=this.right;o.count-=n.count,o.right=n.left,n.left=r,n.right=i}Mr(this,n),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Mr(this,this.left):Mr(this,this.right);return Tr}for(r=Ir.ge(this.leftPoints,e,Ur);r<this.leftPoints.length&&this.leftPoints[r][0]===e[0];++r)if(this.leftPoints[r]===e){this.count-=1,this.leftPoints.splice(r,1);for(i=Ir.ge(this.rightPoints,e,Gr);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),Tr}return Nr},Ar.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(o=this.left.queryPoint(e,t))return o;return Br(this.leftPoints,e,t)}if(e>this.mid){var o;if(this.right)if(o=this.right.queryPoint(e,t))return o;return Fr(this.rightPoints,e,t)}return qr(this.leftPoints,t)},Ar.queryInterval=function(e,t,o){var n;if(e<this.mid&&this.left&&(n=this.left.queryInterval(e,t,o)))return n;if(t>this.mid&&this.right&&(n=this.right.queryInterval(e,t,o)))return n;return t<this.mid?Br(this.leftPoints,t,o):e>this.mid?Fr(this.rightPoints,e,o):qr(this.leftPoints,o)};var Kr=Vr.prototype;Kr.insert=function(e){this.root?this.root.insert(e):this.root=new Rr(e[0],null,null,[e],[e])},Kr.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==Nr}return!1},Kr.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},Kr.queryInterval=function(e,t,o){if(e<=t&&this.root)return this.root.queryInterval(e,t,o)},Object.defineProperty(Kr,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Kr,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Yr=function(){function e(){var t;gn()(this,e),this._columnSizeMap={},this._intervalTree=t&&0!==t.length?new Vr(Wr(t)):new Vr(null),this._leftMap={}}return vn()(e,[{key:"estimateTotalHeight",value:function(e,t,o){var n=e-this.count;return this.tallestColumnSize+Math.ceil(n/t)*o}},{key:"range",value:function(e,t,o){var n=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=Lr()(e,3),r=t[0],i=(t[1],t[2]);return o(i,n._leftMap[i],r)}))}},{key:"setPosition",value:function(e,t,o,n){this._intervalTree.insert([o,o+n,e]),this._leftMap[e]=t;var r=this._columnSizeMap,i=r[t];r[t]=void 0===i?o+n:Math.max(i,o+n)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var o in e){var n=e[o];t=0===t?n:Math.min(t,n)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var o in e){var n=e[o];t=Math.max(t,n)}return t}}]),e}(),Zr=function(e){function t(){var e,o,n,r;gn()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(a))),n.state={isScrolling:!1,scrollTop:0},n._invalidateOnUpdateStartIndex=null,n._invalidateOnUpdateStopIndex=null,n._positionCache=new Yr,n._startIndex=null,n._startIndexMemoized=null,n._stopIndex=null,n._stopIndexMemoized=null,n._debounceResetIsScrollingCallback=function(){n.setState({isScrolling:!1})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){var t=n.props.height,o=e.target.scrollTop,r=Math.min(Math.max(0,n._getEstimatedTotalHeight()-t),o);o===r&&(n._debounceResetIsScrolling(),n.state.scrollTop!==r&&n.setState({isScrolling:!0,scrollTop:r}))},r=o,yn()(n,r)}return Sn()(t,e),vn()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new Yr,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Yr,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Xn(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,t=this.props,o=t.autoHeight,n=t.cellCount,i=t.cellMeasurerCache,a=t.cellRenderer,s=t.className,l=t.height,c=t.id,u=t.keyMapper,h=t.overscanByPixels,p=t.role,d=t.style,f=t.tabIndex,m=t.width,g=t.rowDirection,b=this.state,v=b.isScrolling,j=b.scrollTop,y=[],O=this._getEstimatedTotalHeight(),S=this._positionCache.shortestColumnSize,C=this._positionCache.count,_=0,E=void 0;if(this._positionCache.range(Math.max(0,j-h),l+2*h,(function(t,o,n){var r;void 0===E?(_=t,E=t):(_=Math.min(_,t),E=Math.max(E,t)),y.push(a({index:t,isScrolling:v,key:u(t),parent:e,style:(r={height:i.getHeight(t)},xr()(r,"ltr"===g?"left":"right",o),xr()(r,"position","absolute"),xr()(r,"top",n),xr()(r,"width",i.getWidth(t)),r)}))})),S<j+l+h&&C<n)for(var w=Math.min(n-C,Math.ceil((j+l+h-S)/i.defaultHeight*m/i.defaultWidth)),x=C;x<C+w;x++)E=x,y.push(a({index:x,isScrolling:v,key:u(x),parent:this,style:{width:i.getWidth(x)}}));return this._startIndex=_,this._stopIndex=E,r.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Ie()("ReactVirtualized__Masonry",s),id:c,onScroll:this._onScroll,role:p,style:In()({boxSizing:"border-box",direction:"ltr",height:o?"auto":l,overflowX:"hidden",overflowY:O<l?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},d),tabIndex:f},r.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:O,maxWidth:"100%",maxHeight:O,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"}},y))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Xn(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Qn(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,o=e.cellMeasurerCache,n=e.width,r=Math.max(1,Math.floor(n/o.defaultWidth));return this._positionCache.estimateTotalHeight(t,r,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,o=e.onScroll,n=this.state.scrollTop;this._onScrollMemoized!==n&&(o({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:n}),this._onScrollMemoized=n)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var o=this.props,n=o.cellMeasurerCache,r=o.cellPositioner,i=e;i<=t;i++){var a=r(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,n.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(r.PureComponent);function $r(){}Zr.defaultProps={autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:$r,onScroll:$r,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Zr.propTypes=null;wn(Zr);var Xr=function(){function e(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gn()(this,e),this.columnWidth=function(e){var o=e.index;t._cellMeasurerCache.columnWidth({index:o+t._columnIndexOffset})},this.rowHeight=function(e){var o=e.index;t._cellMeasurerCache.rowHeight({index:o+t._rowIndexOffset})};var n=o.cellMeasurerCache,r=o.columnIndexOffset,i=void 0===r?0:r,a=o.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=n,this._columnIndexOffset=i,this._rowIndexOffset=s}return vn()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,o,n){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,o,n)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}(),Qr=function(e){function t(e,o){gn()(this,t);var n=yn()(this,(t.__proto__||fn()(t)).call(this,e,o));Jr.call(n);var r=e.deferredMeasurementCache,i=e.fixedColumnCount,a=e.fixedRowCount;return n._maybeCalculateCachedStyles(!0),r&&(n._deferredMeasurementCacheBottomLeftGrid=a>0?new Xr({cellMeasurerCache:r,columnIndexOffset:0,rowIndexOffset:a}):r,n._deferredMeasurementCacheBottomRightGrid=i>0||a>0?new Xr({cellMeasurerCache:r,columnIndexOffset:i,rowIndexOffset:a}):r,n._deferredMeasurementCacheTopRightGrid=i>0?new Xr({cellMeasurerCache:r,columnIndexOffset:i,rowIndexOffset:0}):r),n}return Sn()(t,e),vn()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,r=void 0===n?0:n;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,r=void 0===n?0:n,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,o-a),c=Math.max(0,r-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:c}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:c}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:r}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:r}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,o=e.scrollTop;if(t>0||o>0){var n={};t>0&&(n.scrollLeft=t),o>0&&(n.scrollTop=o),this.setState(n)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,o=e.onSectionRendered,n=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),a=Rn()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var s=this.state,l=s.scrollLeft,c=s.scrollTop;return r.createElement("div",{style:this._containerOuterStyle},r.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid(In()({},a,{onScroll:t,scrollLeft:l}))),r.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(In()({},a,{onScroll:t,scrollTop:c})),this._renderBottomRightGrid(In()({},a,{onScroll:t,onSectionRendered:o,scrollLeft:l,scrollToColumn:n,scrollToRow:i,scrollTop:c}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,o=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof o){for(var n=0,r=0;r<t;r++)n+=o({index:r});this._leftGridWidth=n}else this._leftGridWidth=o*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,o=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof o){for(var n=0,r=0;r<t;r++)n+=o({index:r});this._topGridHeight=n}else this._topGridHeight=o*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,o=t.columnWidth,n=t.enableFixedColumnScroll,r=t.enableFixedRowScroll,i=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,l=t.rowHeight,c=t.style,u=t.styleBottomLeftGrid,h=t.styleBottomRightGrid,p=t.styleTopLeftGrid,d=t.styleTopRightGrid,f=t.width,m=e||i!==this._lastRenderedHeight||f!==this._lastRenderedWidth,g=e||o!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,b=e||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(e||m||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=In()({height:i,overflow:"visible",width:f},c)),(e||m||b)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:f},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:f}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=In()({left:0,overflowX:"hidden",overflowY:n?"auto":"hidden",position:"absolute"},u)),(e||g||h!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=In()({left:this._getLeftGridWidth(this.props),position:"absolute"},h)),(e||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=In()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(e||g||d!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=In()({left:this._getLeftGridWidth(this.props),overflowX:r?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},d)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=l,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=h,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=d,this._lastRenderedWidth=f}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,o=e.fixedColumnCount,n=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!o)return null;var l=s?1:0,c=this._getBottomGridHeight(e),u=this._getLeftGridWidth(e),h=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,p=a?u+h:u,d=r.createElement(or,In()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:c,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-n)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:p}));return a?r.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:In()({},this._bottomLeftGridStyle,{height:c,width:u,overflowY:"hidden"})},d):d}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,o=e.fixedColumnCount,n=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,s=e.scrollToRow;return r.createElement(or,In()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-n),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-o,scrollToRow:s-n,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,o=e.fixedRowCount;return t&&o?r.createElement(or,In()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,o=e.enableFixedRowScroll,n=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,s=e.hideTopRightGridScrollbar,l=this.state,c=l.showHorizontalScrollbar,u=l.scrollbarSize;if(!i)return null;var h=c?1:0,p=this._getTopGridHeight(e),d=this._getRightGridWidth(e),f=c?u:0,m=p,g=this._topRightGridStyle;s&&(m=p+f,g=In()({},this._topRightGridStyle,{left:0}));var b=r.createElement(or,In()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-n)+h,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:g,tabIndex:null,width:d}));return s?r.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:In()({},this._topRightGridStyle,{height:p,width:d,overflowX:"hidden"})},b):b}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(r.PureComponent);Qr.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Jr=function(){var e=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(t){e._bottomLeftGrid=t},this._bottomRightGridRef=function(t){e._bottomRightGrid=t},this._cellRendererBottomLeftGrid=function(t){var o=t.rowIndex,n=Rn()(t,["rowIndex"]),i=e.props,a=i.cellRenderer,s=i.fixedRowCount;return o===i.rowCount-s?r.createElement("div",{key:n.key,style:In()({},n.style,{height:20})}):a(In()({},n,{parent:e,rowIndex:o+s}))},this._cellRendererBottomRightGrid=function(t){var o=t.columnIndex,n=t.rowIndex,r=Rn()(t,["columnIndex","rowIndex"]),i=e.props,a=i.cellRenderer,s=i.fixedColumnCount,l=i.fixedRowCount;return a(In()({},r,{columnIndex:o+s,parent:e,rowIndex:n+l}))},this._cellRendererTopRightGrid=function(t){var o=t.columnIndex,n=Rn()(t,["columnIndex"]),i=e.props,a=i.cellRenderer,s=i.columnCount,l=i.fixedColumnCount;return o===s-l?r.createElement("div",{key:n.key,style:In()({},n.style,{width:20})}):a(In()({},n,{columnIndex:o+l,parent:e}))},this._columnWidthRightGrid=function(t){var o=t.index,n=e.props,r=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,s=e.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&o===r-i?l:"function"==typeof a?a({index:o+i}):a},this._onScroll=function(t){var o=t.scrollLeft,n=t.scrollTop;e.setState({scrollLeft:o,scrollTop:n});var r=e.props.onScroll;r&&r(t)},this._onScrollbarPresenceChange=function(t){var o=t.horizontal,n=t.size,r=t.vertical,i=e.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(o!==a||r!==s){e.setState({scrollbarSize:n,showHorizontalScrollbar:o,showVerticalScrollbar:r});var l=e.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:o,size:n,vertical:r})}},this._onScrollLeft=function(t){var o=t.scrollLeft;e._onScroll({scrollLeft:o,scrollTop:e.state.scrollTop})},this._onScrollTop=function(t){var o=t.scrollTop;e._onScroll({scrollTop:o,scrollLeft:e.state.scrollLeft})},this._rowHeightBottomGrid=function(t){var o=t.index,n=e.props,r=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,s=e.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&o===i-r?l:"function"==typeof a?a({index:o+r}):a},this._topLeftGridRef=function(t){e._topLeftGrid=t},this._topRightGridRef=function(t){e._topRightGrid=t}};Qr.propTypes={},wn(Qr);var ei=function(e){function t(e,o){gn()(this,t);var n=yn()(this,(t.__proto__||fn()(t)).call(this,e,o));return n.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},n._onScroll=n._onScroll.bind(n),n}return Sn()(t,e),vn()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,o=t.clientHeight,n=t.clientWidth,r=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:o,clientWidth:n,onScroll:this._onScroll,scrollHeight:r,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,o=e.clientWidth,n=e.scrollHeight,r=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:o,scrollHeight:n,scrollLeft:r,scrollTop:i,scrollWidth:a})}}]),t}(r.PureComponent);ei.propTypes={};function ti(e){var t=e.className,o=e.columns,n=e.style;return r.createElement("div",{className:t,role:"row",style:n},o)}ti.propTypes=null;var oi={ASC:"ASC",DESC:"DESC"};function ni(e){var t=e.sortDirection,o=Ie()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===oi.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===oi.DESC});return r.createElement("svg",{className:o,width:18,height:18,viewBox:"0 0 24 24"},t===oi.ASC?r.createElement("path",{d:"M7 14l5-5 5 5z"}):r.createElement("path",{d:"M7 10l5 5 5-5z"}),r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function ri(e){var t=e.dataKey,o=e.label,n=e.sortBy,i=e.sortDirection,a=n===t,s=[r.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:o},o)];return a&&s.push(r.createElement(ni,{key:"SortIndicator",sortDirection:i})),s}function ii(e){var t=e.className,o=e.columns,n=e.index,i=e.key,a=e.onRowClick,s=e.onRowDoubleClick,l=e.onRowMouseOut,c=e.onRowMouseOver,u=e.onRowRightClick,h=e.rowData,p=e.style,d={"aria-rowindex":n+1};return(a||s||l||c||u)&&(d["aria-label"]="row",d.tabIndex=0,a&&(d.onClick=function(e){return a({event:e,index:n,rowData:h})}),s&&(d.onDoubleClick=function(e){return s({event:e,index:n,rowData:h})}),l&&(d.onMouseOut=function(e){return l({event:e,index:n,rowData:h})}),c&&(d.onMouseOver=function(e){return c({event:e,index:n,rowData:h})}),u&&(d.onContextMenu=function(e){return u({event:e,index:n,rowData:h})})),r.createElement("div",In()({},d,{className:t,key:i,role:"row",style:p}),o)}ni.propTypes={},ri.propTypes=null,ii.propTypes=null;var ai=function(e){function t(){return gn()(this,t),yn()(this,(t.__proto__||fn()(t)).apply(this,arguments))}return Sn()(t,e),t}(r.Component);ai.defaultProps={cellDataGetter:function(e){var t=e.dataKey,o=e.rowData;return"function"==typeof o.get?o.get(t):o[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:oi.ASC,flexGrow:0,flexShrink:1,headerRenderer:ri,style:{}};ai.propTypes={};var si=function(e){function t(e){gn()(this,t);var o=yn()(this,(t.__proto__||fn()(t)).call(this,e));return o.state={scrollbarWidth:0},o._createColumn=o._createColumn.bind(o),o._createRow=o._createRow.bind(o),o._onScroll=o._onScroll.bind(o),o._onSectionRendered=o._onSectionRendered.bind(o),o._setRef=o._setRef.bind(o),o}return Sn()(t,e),vn()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,o=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:o}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,o=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,o=void 0===t?0:t,n=e.rowIndex,r=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,o=t.children,n=t.className,i=t.disableHeader,a=t.gridClassName,s=t.gridStyle,l=t.headerHeight,c=t.headerRowRenderer,u=t.height,h=t.id,p=t.noRowsRenderer,d=t.rowClassName,f=t.rowStyle,m=t.scrollToIndex,g=t.style,b=t.width,v=this.state.scrollbarWidth,j=i?u:u-l,y="function"==typeof d?d({index:-1}):d,O="function"==typeof f?f({index:-1}):f;return this._cachedColumnStyles=[],r.Children.toArray(o).forEach((function(t,o){var n=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[o]=In()({},n,{overflow:"hidden"})})),r.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":r.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Ie()("ReactVirtualized__Table",n),id:h,role:"grid",style:g},!i&&c({className:Ie()("ReactVirtualized__Table__headerRow",y),columns:this._getHeaderColumns(),style:In()({height:l,overflow:"hidden",paddingRight:v,width:b},O)}),r.createElement(or,In()({},this.props,{autoContainerWidth:!0,className:Ie()("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:b,columnCount:1,height:j,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:v,scrollToRow:m,style:In()({},s,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,o=e.columnIndex,n=e.isScrolling,i=e.parent,a=e.rowData,s=e.rowIndex,l=this.props.onColumnClick,c=t.props,u=c.cellDataGetter,h=c.cellRenderer,p=c.className,d=c.columnData,f=c.dataKey,m=c.id,g=h({cellData:u({columnData:d,dataKey:f,rowData:a}),columnData:d,columnIndex:o,dataKey:f,isScrolling:n,parent:i,rowData:a,rowIndex:s}),b=this._cachedColumnStyles[o],v="string"==typeof g?g:null;return r.createElement("div",{"aria-colindex":o+1,"aria-describedby":m,className:Ie()("ReactVirtualized__Table__rowColumn",p),key:"Row"+s+"-Col"+o,onClick:function(e){l&&l({columnData:d,dataKey:f,event:e})},role:"gridcell",style:b,title:v},g)}},{key:"_createHeader",value:function(e){var t=e.column,o=e.index,n=this.props,i=n.headerClassName,a=n.headerStyle,s=n.onHeaderClick,l=n.sort,c=n.sortBy,u=n.sortDirection,h=t.props,p=h.columnData,d=h.dataKey,f=h.defaultSortDirection,m=h.disableSort,g=h.headerRenderer,b=h.id,v=h.label,j=!m&&l,y=Ie()("ReactVirtualized__Table__headerColumn",i,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:j}),O=this._getFlexStyleForColumn(t,In()({},a,t.props.headerStyle)),S=g({columnData:p,dataKey:d,disableSort:m,label:v,sortBy:c,sortDirection:u}),C=void 0,_=void 0,E=void 0,w=void 0,x=void 0;if(j||s){var k=c!==d?f:u===oi.DESC?oi.ASC:oi.DESC,L=function(e){j&&l({defaultSortDirection:f,event:e,sortBy:d,sortDirection:k}),s&&s({columnData:p,dataKey:d,event:e})};x=t.props["aria-label"]||v||d,w="none",E=0,C=L,_=function(e){"Enter"!==e.key&&" "!==e.key||L(e)}}return c===d&&(w=u===oi.ASC?"ascending":"descending"),r.createElement("div",{"aria-label":x,"aria-sort":w,className:y,id:b,key:"Header-Col"+o,onClick:C,onKeyDown:_,role:"columnheader",style:O,tabIndex:E},S)}},{key:"_createRow",value:function(e){var t=this,o=e.rowIndex,n=e.isScrolling,i=e.key,a=e.parent,s=e.style,l=this.props,c=l.children,u=l.onRowClick,h=l.onRowDoubleClick,p=l.onRowRightClick,d=l.onRowMouseOver,f=l.onRowMouseOut,m=l.rowClassName,g=l.rowGetter,b=l.rowRenderer,v=l.rowStyle,j=this.state.scrollbarWidth,y="function"==typeof m?m({index:o}):m,O="function"==typeof v?v({index:o}):v,S=g({index:o}),C=r.Children.toArray(c).map((function(e,r){return t._createColumn({column:e,columnIndex:r,isScrolling:n,parent:a,rowData:S,rowIndex:o,scrollbarWidth:j})})),_=Ie()("ReactVirtualized__Table__row",y),E=In()({},s,{height:this._getRowHeight(o),overflow:"hidden",paddingRight:j},O);return b({className:_,columns:C,index:o,isScrolling:n,key:i,onRowClick:u,onRowDoubleClick:h,onRowRightClick:p,onRowMouseOver:d,onRowMouseOut:f,rowData:S,style:E})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",n=In()({},t,{flex:o,msFlex:o,WebkitFlex:o});return e.props.maxWidth&&(n.maxWidth=e.props.maxWidth),e.props.minWidth&&(n.minWidth=e.props.minWidth),n}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,o=t.children;return(t.disableHeader?[]:r.Children.toArray(o)).map((function(t,o){return e._createHeader({column:t,index:o})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,o=e.scrollHeight,n=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:o,scrollTop:n})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,o=e.rowOverscanStopIndex,n=e.rowStartIndex,r=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:o,startIndex:n,stopIndex:r})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var e=Object(Oe.findDOMNode)(this.Grid),t=e.clientWidth||0,o=(e.offsetWidth||0)-t;this.setState({scrollbarWidth:o})}}}]),t}(r.PureComponent);si.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:rr,overscanRowCount:10,rowRenderer:ii,headerRowRenderer:ti,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};si.propTypes={};var li=[],ci=null,ui=null;function hi(){ui&&(ui=null,document.body&&null!=ci&&(document.body.style.pointerEvents=ci),ci=null)}function pi(){hi(),li.forEach((function(e){return e.__resetIsScrolling()}))}function di(e){e.currentTarget===window&&null==ci&&document.body&&(ci=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){ui&&Xn(ui);var e=0;li.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),ui=Qn(pi,e)}(),li.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function fi(e,t){li.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",di),li.push(e)}function mi(e,t){(li=li.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",di),ui&&(Xn(ui),hi()))}var gi=function(e){return e===window},bi=function(e){return e.getBoundingClientRect()};function vi(e,t){if(e){if(gi(e)){var o=window,n=o.innerHeight,r=o.innerWidth;return{height:"number"==typeof n?n:0,width:"number"==typeof r?r:0}}return bi(e)}return{height:t.serverHeight,width:t.serverWidth}}function ji(e,t){if(gi(t)&&document.documentElement){var o=document.documentElement,n=bi(e),r=bi(o);return{top:n.top-r.top,left:n.left-r.left}}var i=yi(t),a=bi(e),s=bi(t);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}function yi(e){return gi(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var Oi=function(){return"undefined"!=typeof window?window:void 0},Si=function(e){function t(){var e,o,n,r;gn()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return o=n=yn()(this,(e=t.__proto__||fn()(t)).call.apply(e,[this].concat(a))),n._window=Oi(),n._isMounted=!1,n._positionFromTop=0,n._positionFromLeft=0,n.state=In()({},vi(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),n._registerChild=function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()},n._onChildScroll=function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var o=n.props.scrollElement;o&&("function"==typeof o.scrollTo?o.scrollTo(0,t+n._positionFromTop):o.scrollTop=t+n._positionFromTop)}},n._registerResizeListener=function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)},n._unregisterResizeListener=function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)},n._onResize=function(){n.updatePosition()},n.__handleWindowScrollEvent=function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var o=yi(t),r=Math.max(0,o.left-n._positionFromLeft),i=Math.max(0,o.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:r,scrollTop:i}),e({scrollLeft:r,scrollTop:i})}}},n.__resetIsScrolling=function(){n.setState({isScrolling:!1})},r=o,yn()(n,r)}return Sn()(t,e),vn()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,o=this.state,n=o.height,r=o.width,i=this._child||Oe.findDOMNode(this);if(i instanceof Element&&e){var a=ji(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=vi(e,this.props);n===s.height&&r===s.width||(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(ar.a)(),this.updatePosition(e),e&&(fi(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var o=this.props.scrollElement,n=e.scrollElement;n!==o&&null!=n&&null!=o&&(this.updatePosition(o),mi(this,n),fi(this,o),this._unregisterResizeListener(n),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(mi(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,o=t.isScrolling,n=t.scrollTop,r=t.scrollLeft,i=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:o,scrollLeft:r,scrollTop:n,width:a})}}]),t}(r.PureComponent);Si.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Oi(),serverHeight:0,serverWidth:0},Si.propTypes=null;var Ci=Object(T.c)((function(){var e=Object(N.b)(),t=Object(T.b)("emojiGroups");return{root:t({display:"flex",flexWrap:"nowrap",justifyContent:"center"}),icon:t("icon",{display:"block",position:"relative",margin:"auto",padding:0,width:Object(I.F)(e.icon.sizes.default),height:Object(I.F)(e.icon.sizes.default)})}}));
/**
 * A filtered down version of the emoij data we use.
 *
 * This is significantly filtered. The original data sources are in the `emojibase-data` node module.
 * - `emojibase-data/en/data.json`
 * Transformation applied: data.map(({emoji, group}) => {emoji, group});
 *
 * - `emojibase-data/meta/groups.json`
 * Transformation applied: Manually copying/pasting out the groups.
 *
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var _i=[{name:"Smileys & People",icon:i.a.createElement((
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-smileysAndPeople",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Smileys & People"))),i.a.createElement("path",{fill:"currentColor",d:"M12,4 C7.58168889,4 4,7.58168889 4,12 C4,16.4181333 7.58168889,20 12,20 C16.4183111,20 20,16.4181333 20,12 C20,7.58168889 16.4183111,4 12,4 Z M12,18.6444444 C8.33631816,18.6444444 5.35555556,15.6636818 5.35555556,12 C5.35555556,8.33631816 8.33631816,5.35555556 12,5.35555556 C15.6636818,5.35555556 18.6444444,8.33631816 18.6444444,12 C18.6444444,15.6636818 15.6636818,18.6444444 12,18.6444444 Z M10.7059556,10.2024889 C10.7059556,9.51253333 10.1466667,8.95324444 9.45671111,8.95324444 C8.76675556,8.95324444 8.20746667,9.51253333 8.20746667,10.2024889 C8.20746667,10.8924444 8.76675556,11.4517333 9.45671111,11.4517333 C10.1466667,11.4517333 10.7059556,10.8924444 10.7059556,10.2024889 Z M14.5432889,8.95306667 C13.8533333,8.95306667 13.2940444,9.51235556 13.2940444,10.2023111 C13.2940444,10.8922667 13.8533333,11.4515556 14.5432889,11.4515556 C15.2332444,11.4515556 15.7925333,10.8922667 15.7925333,10.2023111 C15.7925333,9.51235556 15.2332444,8.95306667 14.5432889,8.95306667 Z M14.7397333,14.1898667 C14.5767111,14.0812444 14.3564444,14.1256889 14.2471111,14.2883556 C14.2165333,14.3336889 13.4823111,15.4012444 11.9998222,15.4012444 C10.5198222,15.4012444 9.7856,14.3374222 9.75271111,14.2885333 C9.64444444,14.1256889 9.42471111,14.0803556 9.2608,14.1884444 C9.09688889,14.2963556 9.05155556,14.5169778 9.15964444,14.6810667 C9.19804444,14.7393778 10.1242667,16.1125333 11.9998222,16.1125333 C13.8752,16.1125333 14.8014222,14.7395556 14.84,14.6810667 C14.9477333,14.5173333 14.9027556,14.2983111 14.7397333,14.1898667 Z"}))}),null)},{name:"Animals & Nature",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-animalsAndNature",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Animals & Nature"))),i.a.createElement("path",{fill:"currentColor",d:"M10.8815789,7.36973684 L7.77236842,9.00263158 L9.36052632,7.36973684 L9.36052632,3.96973684 L9.36052632,3.5 L8.91315789,3.5 L8.91315789,4.43947368 L7.97368421,5.42368421 L7.97368421,5.02105263 L7.52631579,5.02105263 L7.52631579,5.89342105 L6.58684211,6.87763158 L6.58684211,6.54210526 L6.13947368,6.54210526 L6.13947368,7.34736842 L5.2,8.33157895 L5.2,8.06315789 L4.75263158,8.06315789 L4.75263158,8.80131579 L4.55131579,9.00263158 L2.40394737,9.00263158 L2.40394737,8.06315789 L1.93421053,8.06315789 L1.93421053,9.00263158 L1.93421053,9.04736842 L1.93421053,9.69605263 L3.85789474,9.69605263 L1.93421053,11.7092105 L1.93421053,13.3868421 L3.58947368,13.3868421 L4.73026316,12.2013158 L4.73026316,13.3868421 L9.40526316,13.3868421 L10.8815789,16.7421053 L13.5434211,20.5 L14.5947368,20.5 L20.4328947,10.9710526 L10.8815789,7.36973684 Z M13.5434211,20.5 L13.5434211,18.9565789 L11.9328947,16.7421053 L11.9328947,13.3868421 L15.8026316,13.3868421 L15.8026316,16.7421053 L13.5434211,20.5 Z M7.97368421,19.4039474 L9.47236842,15.6236842 L9.98684211,16.7421053 L9.00263158,19.4039474 L8.28684211,20.5 L7.21315789,20.5 L7.97368421,19.4039474 Z M20.4105263,13.3868421 L22.0657895,16.7421053 L22.0657895,19.4039474 L21.4171053,20.5 L20.4105263,20.5 L21.0368421,19.4039474 L21.0368421,16.7421053 L19.2026316,15.5565789 L20.4105263,13.3868421 Z"}))}),null)},{name:"Food & Drink",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-foodAndDrink",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Food & Drink"))),i.a.createElement("path",{fill:"currentColor",d:"M13.4404507,12.0850076 C14.050232,11.7279399 14.624055,11.6426962 15.1651887,11.5101788 C15.6655864,11.3874682 16.167493,11.2205013 16.9656149,10.4223794 L19.8603784,7.5276159 C20.0469589,7.33952668 20.046456,7.03652199 19.8593726,6.84918714 C19.6717863,6.66185228 19.3697874,6.6623552 19.182704,6.84969005 L16.8119752,9.22016743 C16.6248918,9.40750228 16.3211327,9.40725082 16.1343008,9.22067034 C15.9472174,9.03358694 15.9472174,8.72982788 16.1343008,8.54274449 L16.1353066,8.54199012 C16.4682346,8.20881068 18.5050296,6.17226711 18.5050296,6.17226711 C18.6926159,5.9846808 18.692113,5.68217902 18.5050296,5.49509563 C18.3179462,5.30776077 18.0149415,5.30750932 17.8278581,5.49484417 C17.8278581,5.49484417 15.7910631,7.53138774 15.4581351,7.86456718 L15.4571293,7.86532155 C15.2700459,8.0526564 14.9665383,8.0526564 14.7794549,7.865573 C14.5923715,7.67874106 14.5926229,7.374982 14.7797063,7.18789861 L17.1501837,4.81742123 C17.33777,4.62983492 17.33777,4.32783605 17.1506866,4.14075266 C16.9633518,3.95316635 16.6605985,3.95316635 16.4732637,4.14024975 L13.5782487,7.03451034 C12.7801268,7.83263224 12.6129085,8.33428732 12.4904493,8.83493656 C12.3576804,9.37607026 12.2724368,9.95014471 11.9151176,10.5599259 L5.50424235,4.14879926 C5.31665604,3.9614644 5.01415426,3.96171586 4.82707087,4.1485478 C3.1692203,5.80639837 6.6114039,9.99817284 8.76009693,12.1473688 C9.14080158,12.5280734 9.45210432,12.7606704 9.73122068,12.9145616 L4.28040514,18.3646227 C3.90623835,18.7387895 3.90674126,19.3453018 4.2806566,19.7194686 C4.65457193,20.093384 5.26083277,20.0938869 5.63525102,19.7197201 L11.7916526,13.5633185 C12.1939825,13.7297825 12.6295046,13.9842561 13.0406354,14.395387 L18.3654714,19.720223 C18.7381295,20.0931325 19.3456476,20.0943898 19.7200658,19.720223 C20.0927239,19.347062 20.0932268,18.7385381 19.7205688,18.3653771 L13.4404507,12.0850076 Z"}))}),null)},{name:"Travel & Places",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-travelAndPlaces",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Travel & Places"))),i.a.createElement("path",{fill:"currentColor",d:"M19.7629331,6.05594053 L17.6103818,4.60289782 C17.5216833,4.54282474 17.4166562,4.51077233 17.3094116,4.51077233 L13.5425476,4.51077233 L13.5425476,2.53803704 C13.5425476,2.24069548 13.3018521,2 13.0045105,2 L10.9952879,2 C10.6981479,2 10.4572509,2.24089706 10.4572509,2.53803704 L10.4572509,4.51097392 L6.54725967,4.51097392 C6.25011969,4.51097392 6.00922263,4.75187098 6.00922263,5.04901096 L6.00922263,7.9548948 C6.00922263,8.25203477 6.25011969,8.49293184 6.54725967,8.49293184 L10.4574524,8.49293184 L10.4574524,10.0177397 L6.69058838,10.0177397 C6.58314225,10.0177397 6.47851833,10.0497921 6.38961824,10.1098652 L4.2370669,11.5627063 C4.0886985,11.6628953 4,11.8298098 4,12.0088195 C4,12.187426 4.0886985,12.3547436 4.2370669,12.454731 L6.38941666,13.9077737 C6.47851833,13.9676452 6.58314225,13.9998992 6.69058838,13.9998992 L10.4574524,13.9998992 L10.4574524,21.0492125 C10.4574524,21.3463525 10.6983495,21.5872496 10.9954895,21.5872496 L13.0047121,21.5872496 C13.3020537,21.5872496 13.5427491,21.3463525 13.5427491,21.0492125 L13.5427491,13.9998992 L17.4527403,13.9998992 C17.7500819,13.9998992 17.990979,13.7590021 17.990979,13.4616606 L17.990979,10.5557767 C17.990979,10.2586368 17.7500819,10.0177397 17.4527403,10.0177397 L13.5425476,10.0177397 L13.5425476,8.49293184 L17.3094116,8.49293184 C17.4166562,8.49293184 17.5216833,8.46087943 17.6103818,8.40080635 L19.7629331,6.94776364 C19.9110999,6.84777624 20,6.68045861 20,6.50185209 C20,6.32324556 19.9110999,6.15592793 19.7629331,6.05594053 Z M16.9147033,12.9236235 L13.0045105,12.9236235 L10.9952879,12.9236235 L6.85528537,12.9236235 L5.5000126,12.0086179 L6.85528537,11.0938138 L10.9954895,11.0938138 L13.0047121,11.0938138 L16.9147033,11.0938138 L16.9147033,12.9236235 Z M17.1447146,7.41685775 L13.0045105,7.41685775 L10.9952879,7.41685775 L7.08529671,7.41685775 L7.08529671,5.58724959 L10.9952879,5.58724959 L13.0045105,5.58724959 L17.1447146,5.58724959 L18.4999874,6.50185209 L17.1447146,7.41685775 Z"}))}),null)},{name:"Activities",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-activities",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Activities"))),i.a.createElement("path",{fill:"currentColor",d:"M16.7634901,8.64140896 C16.8282904,9.00807085 16.5809692,9.36033265 16.2157473,9.42495299 L12.7984297,10.0403761 L14.1120765,15.2595029 C14.1379966,15.3696635 14.1613967,15.6195048 14.1432166,15.7336254 L13.5470536,20.1911683 C13.4746932,20.6199305 13.0614111,20.9086519 12.6261689,20.8362916 C12.1909266,20.7637512 11.8982451,20.3609091 11.9706055,19.9294469 L12.5469684,15.5961047 C12.5469684,15.5921446 12.3487874,14.7906005 12.3487874,14.7906005 C12.3345674,14.8269607 8.49370764,20.6031904 8.49370764,20.6031904 C8.2721265,20.9801123 7.785044,21.113313 7.40038202,20.8944319 C7.01950007,20.6782508 6.88611938,20.1951283 7.10626051,19.8180263 L10.7890794,14.294338 L9.65039358,9.89259539 C9.56777315,9.52989353 9.83597453,9.15945162 10.2064164,9.0971713 L15.4385033,8.15540647 L9.05225051,3.94158483 L8.62474831,4.55304797 C8.48866761,4.76148904 8.21182619,4.81728933 8.00428513,4.67994863 C7.79566405,4.54422793 7.73626375,4.2668465 7.87234445,4.05822543 L8.6027882,3 L16.4655886,8.18402662 C16.4798086,8.19446667 16.7132698,8.3562875 16.7634901,8.64140896 Z M9.97727525,6.02995556 C10.714019,6.02995556 11.3125221,6.62179859 11.3127021,7.34990233 C11.3127021,8.08034608 10.714019,8.67110912 9.97727525,8.67110912 C9.23603145,8.67110912 8.63788838,8.08052608 8.63788838,7.34990233 C8.63788838,6.62179859 9.23603145,6.02995556 9.97727525,6.02995556 Z"}))}),null)},{name:"Objects",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-objects",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Objects"))),i.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M17.4781671,6.08771565 C17.130662,5.41988765 16.6736986,4.86511431 16.1074207,4.42368331 C15.5409989,3.98239614 14.9002146,3.63474585 14.1856429,3.38073244 C13.4706397,3.1270067 12.7421161,3 11.9999281,3 C11.2577401,3 10.5292165,3.12686287 9.81435712,3.38073244 C9.09949778,3.63474585 8.45885723,3.98239614 7.89243548,4.42368331 C7.32615757,4.86511431 6.86905033,5.41974381 6.52140143,6.08771565 C6.17375253,6.75568749 6,7.47630311 6,8.24985017 C6,9.46080084 6.40244999,10.5076353 7.20706229,11.3904973 C7.55873857,11.7732434 7.84971653,12.1131266 8.08014,12.410003 C8.31070731,12.7067355 8.54314447,13.0798447 8.77745149,13.5290428 C9.0117585,13.9782409 9.14466193,14.3982404 9.1758741,14.7888975 C8.80866365,15.0076712 8.62513035,15.3279928 8.62513035,15.750006 C8.62513035,16.0391153 8.72279423,16.2891013 8.918122,16.499964 C8.72279423,16.7109706 8.62513035,16.9609567 8.62513035,17.2500659 C8.62513035,17.6564011 8.80104041,17.9726952 9.15257285,18.1995237 C9.05088159,18.3790304 9.00010788,18.5625644 9.00010788,18.7501259 C9.00010788,19.1094268 9.1230867,19.3870292 9.36918817,19.5820701 C9.61514581,19.7773987 9.91791823,19.8750629 10.2773616,19.8750629 C10.4335663,20.2188297 10.6680171,20.4922609 10.9804265,20.6953565 C11.2928358,20.8984522 11.6327176,21 11.9999281,21 C12.3671385,21 12.7070203,20.8984522 13.0194297,20.6953565 C13.3319829,20.4922609 13.5664337,20.2188297 13.7226384,19.8750629 C14.0819379,19.8750629 14.3848542,19.7773987 14.6308118,19.5820701 C14.8769133,19.3870292 14.9998921,19.1094268 14.9998921,18.7501259 C14.9998921,18.5625644 14.9489746,18.3790304 14.8472833,18.1995237 C15.1988158,17.9728391 15.3747258,17.6564011 15.3747258,17.2500659 C15.3747258,16.9609567 15.2769181,16.7109706 15.0817342,16.499964 C15.2769181,16.2891013 15.3747258,16.0391153 15.3747258,15.750006 C15.3747258,15.3279928 15.1911925,15.0078151 14.8238382,14.7888975 C14.8551942,14.3982404 14.9880977,13.9782409 15.2224047,13.5290428 C15.4569994,13.0798447 15.6892927,12.7067355 15.91986,12.410003 C16.1504273,12.1131266 16.4414053,11.7732434 16.7927939,11.3904973 C17.5974062,10.5076353 18,9.46080084 18,8.24985017 C18,7.47630311 17.8261036,6.75568749 17.4781671,6.08771565 L17.4781671,6.08771565 Z M15.702957,10.3591971 C15.6247108,10.4450668 15.5056156,10.5739434 15.3455273,10.7458268 C15.1854391,10.9177101 15.0663438,11.0464429 14.9882415,11.1324565 C13.9883014,12.3278729 13.4375577,13.4917894 13.3360103,14.6246374 L10.6639897,14.6246374 C10.5624423,13.4917894 10.0116986,12.3278729 9.01161467,11.1324565 C8.93351233,11.0465867 8.81441705,10.9177101 8.654185,10.7458268 C8.49409678,10.5739434 8.37485766,10.4452107 8.29675532,10.3591971 C7.76557312,9.74199915 7.4999101,9.03878763 7.4999101,8.24985017 C7.4999101,7.68730972 7.63468338,7.16389251 7.90422994,6.6794547 C8.17392034,6.1950169 8.52545278,5.79860639 8.9589711,5.48993551 C9.39248942,5.18126463 9.87289791,4.93918957 10.4003404,4.76342264 C10.9276391,4.58751189 11.460835,4.49977226 11.9999281,4.49977226 C12.5390212,4.49977226 13.0722171,4.58751189 13.5995158,4.76342264 C14.1268144,4.93918957 14.6072229,5.18126463 15.0408851,5.48993551 C15.4744034,5.79860639 15.8260797,6.19516074 16.0954824,6.6794547 C16.3648851,7.16389251 16.4998022,7.68730972 16.4998022,8.24985017 C16.4998022,9.03878763 16.234283,9.74199915 15.702957,10.3591971 L15.702957,10.3591971 Z M13.5410693,6.16674126 C13.1543994,6.05562304 12.7655718,6 12.375018,6 C12.2734596,6 12.185567,6.03286235 12.1113402,6.09897065 C12.0371134,6.16495109 12,6.24307909 12,6.33335464 C12,6.4236302 12.0371134,6.5017582 12.1113402,6.56773864 C12.185567,6.6335912 12.2734596,6.66670929 12.375018,6.66670929 C12.7813953,6.66670929 13.1953968,6.75353238 13.6175977,6.9270507 C14.0393671,7.10069689 14.2501079,7.34722844 14.2501079,7.66677322 C14.2501079,7.75704878 14.2870774,7.83530465 14.3614481,7.90115722 C14.4358187,7.96700978 14.5235675,8 14.624982,8 C14.7266842,8 14.814433,7.96713765 14.8888036,7.90115722 C14.9630304,7.83517678 15,7.75704878 15,7.66677322 C15,7.30554312 14.8532726,6.99303114 14.560537,6.72923726 C14.2678015,6.46544339 13.9277392,6.2777316 13.5410693,6.16674126 L13.5410693,6.16674126 Z"}))}),null)},{name:"Symbols",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-symbols",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Symbols"))),i.a.createElement("path",{fill:"currentColor",d:"M19.1442646,4.83575742 C18.1650678,3.85559657 16.4547374,3.73144287 14.3690482,4.52537315 C13.5381247,4.85169622 12.7411635,5.25877639 11.9896,5.74077261 C11.2380365,5.25877639 10.4410753,4.85169622 9.61015178,4.52537315 C7.52446261,3.73144287 5.82718816,3.83926056 4.8349354,4.83575742 C3.84268265,5.83225429 3.73170701,7.52793255 4.52485642,9.61567516 C4.85085852,10.4474168 5.25753831,11.2451626 5.73906044,11.997466 C5.25753831,12.7497695 4.85085852,13.5475153 4.52485642,14.3792569 C3.73170701,16.4669995 3.83941866,18.165945 4.8349354,19.1591746 C5.4505037,19.7385409 6.27598921,20.04073 7.11972793,19.9955786 C7.98011582,19.972593 8.82930089,19.7943985 9.62647173,19.4695589 C10.4517722,19.142269 11.243226,18.73521 11.9896,18.2541594 C12.7411635,18.7361557 13.5381247,19.1432358 14.3690482,19.4695589 C15.1692842,19.7955535 16.0218905,19.9737698 16.885584,19.9955786 C17.7293227,20.04073 18.5548082,19.7385409 19.1703765,19.1591746 C20.1495733,18.1790138 20.2736049,16.4669995 19.4804555,14.3792569 C19.1461294,13.5464957 18.7306859,12.7487154 18.2401396,11.997466 C18.7216617,11.2451626 19.1283415,10.4474168 19.4543436,9.61567516 C20.247493,7.52793255 20.1495733,5.83225429 19.1442646,4.83575742 Z M5.74558842,9.15173236 C5.15480636,7.59654381 5.15807034,6.36154114 5.74558842,5.76037582 C6.11674164,5.43561893 6.60182527,5.2721976 7.09361601,5.30623463 C7.79440087,5.33070398 8.48521159,5.480066 9.13360934,5.74730701 C9.70769152,5.97226391 10.2631967,6.24209666 10.7949799,6.55430611 C9.18669216,7.76170948 7.7580096,9.19179863 6.55179379,10.8016698 C6.24050431,10.2735668 5.97094753,9.72190607 5.74558842,9.15173236 Z M11.9896,7.30902996 C12.8957173,7.95068414 13.7452817,8.66882467 14.5289837,9.45558222 C15.3149674,10.2400558 16.0324016,11.0904566 16.6734247,11.997466 C16.0324016,12.9044755 15.3149674,13.7548763 14.5289837,14.5393498 C13.7452817,15.3261074 12.8957173,16.0442479 11.9896,16.6859021 C11.0834827,16.0442479 10.2339183,15.3261074 9.45021631,14.5393498 C8.66423258,13.7548763 7.94679839,12.9044755 7.30577532,11.997466 C8.59381135,10.1831894 10.1771079,8.59833411 11.9896,7.30902996 Z M9.1466653,18.247625 C7.59300638,18.8389888 6.35921842,18.8357215 5.75864438,18.247625 C5.15807034,17.6595285 5.15480636,16.411457 5.75864438,14.8562685 C5.98338002,14.2816211 6.25294737,13.725569 6.56484974,13.1932623 C7.77126614,14.8029593 9.19992209,16.2330218 10.8080359,17.4406259 C10.2762527,17.7528354 9.72074748,18.0226681 9.1466653,18.247625 Z M18.2336116,14.8431997 C18.8243937,16.3983882 18.8211297,17.6333909 18.2336116,18.2345562 C17.6460935,18.8357215 16.3992496,18.8389888 14.8455907,18.2345562 C14.2715085,18.0095993 13.7160033,17.7397666 13.1842201,17.4275571 C13.9922383,16.8232472 14.7558043,16.1615663 15.4690126,15.4476322 C16.1822445,14.7337217 16.8432746,13.9694039 17.4469902,13.1605902 C17.753106,13.6998229 18.0161333,14.2624472 18.2336116,14.8431997 Z M18.2336116,9.15173236 C18.0088759,9.72637974 17.7393086,10.2824319 17.4274062,10.8147386 C16.2209564,9.20507058 14.7923049,7.7750125 13.1842201,6.56737492 C13.7160033,6.25516547 14.2715085,5.98533272 14.8455907,5.76037582 C15.4931609,5.48865125 16.184001,5.33485713 16.885584,5.30623463 C17.3773747,5.2721976 17.8624584,5.43561893 18.2336116,5.76037582 C18.8211297,6.36154114 18.8243937,7.59654381 18.2336116,9.15173236 Z M11.9896,14.284508 C13.2514561,14.284508 14.2743925,13.2605644 14.2743925,11.997466 C14.2743925,10.7343676 13.2514561,9.71042404 11.9896,9.71042404 C10.7277439,9.71042404 9.70480748,10.7343676 9.70480748,11.997466 C9.70480748,12.6040273 9.945526,13.1857453 10.3740077,13.6146489 C10.8024894,14.0435525 11.3836353,14.284508 11.9896,14.284508 Z M11.9896,11.0173052 C12.5303955,11.0173052 12.9687968,11.4561381 12.9687968,11.997466 C12.9687968,12.5387939 12.5303955,12.9776269 11.9896,12.9776269 C11.4488045,12.9776269 11.0104032,12.5387939 11.0104032,11.997466 C11.0104032,11.4561381 11.4488045,11.0173052 11.9896,11.0173052 Z"}))}),null)},{name:"Flags",icon:i.a.createElement((function(e){var t=Ci();return i.a.createElement("svg",{className:Ie()("emojiGroup-icon","emojiGroup-flags",e.className,t.icon),viewBox:"0 0 24 24"},i.a.createElement("title",null,Object(me.j)(e.group?e.group:Object(me.j)("Flags"))),i.a.createElement("path",{fill:"currentColor",d:"M6.32484076,15.8895966 L6.35881104,19.3205945 C6.35881104,19.6942675 6.05307856,20 5.67940552,20 C5.30573248,20 5,19.6942675 5,19.3205945 L5,13.104034 L5,5.63057325 L5,4.67940552 C5,4.30573248 5.30573248,4 5.67940552,4 C6.01910828,4 6.29087049,4.23779193 6.32484076,4.57749469 L6.32484076,15.8895966 Z M18.2144374,12.7643312 C18.2823779,12.866242 18.3163482,12.9681529 18.3163482,13.0700637 C18.3163482,13.4437367 18.0106157,13.7494692 17.6369427,13.7494692 C17.5690021,13.7494692 17.5010616,13.7494692 17.433121,13.7154989 C16.7197452,13.5116773 15.9384289,13.4097665 15.089172,13.4097665 C13.9681529,13.4097665 12.881104,13.5796178 11.7261146,13.7494692 C10.5711253,13.9193206 9.34819533,14.089172 8.15923567,14.089172 C7.98938429,14.089172 7.78556263,14.089172 7.61571125,14.089172 L7.61571125,5.29087049 C7.78556263,5.29087049 7.98938429,5.29087049 8.15923567,5.29087049 C9.28025478,5.29087049 10.3673036,5.12101911 11.522293,4.95116773 C12.6772824,4.78131635 13.9002123,4.61146497 15.089172,4.61146497 C16.07431,4.61146497 16.9575372,4.74734607 17.8067941,4.985138 C18.0106157,5.05307856 18.1804671,5.18895966 18.2484076,5.39278132 C18.3163482,5.59660297 18.3163482,5.80042463 18.2144374,5.97027601 C17.670913,6.88747346 17.1273885,7.90658174 16.5498938,9.06157113 C17.1273885,10.3184713 17.670913,11.5414013 18.2144374,12.7643312 Z"}))}),null)}],Ei=[{emoji:"😀",group:0},{emoji:"😁",group:0},{emoji:"😂",group:0},{emoji:"🤣",group:0},{emoji:"😃",group:0},{emoji:"😄",group:0},{emoji:"😅",group:0},{emoji:"😆",group:0},{emoji:"😉",group:0},{emoji:"😊",group:0},{emoji:"😋",group:0},{emoji:"😎",group:0},{emoji:"😍",group:0},{emoji:"😘",group:0},{emoji:"😗",group:0},{emoji:"😙",group:0},{emoji:"😚",group:0},{emoji:"☺️",group:0},{emoji:"🙂",group:0},{emoji:"🤗",group:0},{emoji:"🤩",group:0},{emoji:"🤔",group:0},{emoji:"🤨",group:0},{emoji:"😐️",group:0},{emoji:"😑",group:0},{emoji:"😶",group:0},{emoji:"🙄",group:0},{emoji:"😏",group:0},{emoji:"😣",group:0},{emoji:"😥",group:0},{emoji:"😮",group:0},{emoji:"🤐",group:0},{emoji:"😯",group:0},{emoji:"😪",group:0},{emoji:"😫",group:0},{emoji:"😴",group:0},{emoji:"😌",group:0},{emoji:"😛",group:0},{emoji:"😜",group:0},{emoji:"😝",group:0},{emoji:"🤤",group:0},{emoji:"😒",group:0},{emoji:"😓",group:0},{emoji:"😔",group:0},{emoji:"😕",group:0},{emoji:"🙃",group:0},{emoji:"🤑",group:0},{emoji:"😲",group:0},{emoji:"☹️",group:0},{emoji:"🙁",group:0},{emoji:"😖",group:0},{emoji:"😞",group:0},{emoji:"😟",group:0},{emoji:"😤",group:0},{emoji:"😢",group:0},{emoji:"😭",group:0},{emoji:"😦",group:0},{emoji:"😧",group:0},{emoji:"😨",group:0},{emoji:"😩",group:0},{emoji:"🤯",group:0},{emoji:"😬",group:0},{emoji:"😰",group:0},{emoji:"😱",group:0},{emoji:"😳",group:0},{emoji:"🤪",group:0},{emoji:"😵",group:0},{emoji:"😡",group:0},{emoji:"😠",group:0},{emoji:"🤬",group:0},{emoji:"😷",group:0},{emoji:"🤒",group:0},{emoji:"🤕",group:0},{emoji:"🤢",group:0},{emoji:"🤮",group:0},{emoji:"🤧",group:0},{emoji:"😇",group:0},{emoji:"🤠",group:0},{emoji:"🤡",group:0},{emoji:"🤥",group:0},{emoji:"🤫",group:0},{emoji:"🤭",group:0},{emoji:"🧐",group:0},{emoji:"🤓",group:0},{emoji:"😈",group:0},{emoji:"👿",group:0},{emoji:"👹",group:0},{emoji:"👺",group:0},{emoji:"💀",group:0},{emoji:"☠️",group:0},{emoji:"👻",group:0},{emoji:"👽️",group:0},{emoji:"👾",group:0},{emoji:"🤖",group:0},{emoji:"💩",group:0},{emoji:"😺",group:0},{emoji:"😸",group:0},{emoji:"😹",group:0},{emoji:"😻",group:0},{emoji:"😼",group:0},{emoji:"😽",group:0},{emoji:"🙀",group:0},{emoji:"😿",group:0},{emoji:"😾",group:0},{emoji:"🙈",group:0},{emoji:"🙉",group:0},{emoji:"🙊",group:0},{emoji:"👶",group:0},{emoji:"🧒",group:0},{emoji:"👦",group:0},{emoji:"👧",group:0},{emoji:"🧑",group:0},{emoji:"👨",group:0},{emoji:"👩",group:0},{emoji:"🧓",group:0},{emoji:"👴",group:0},{emoji:"👵",group:0},{emoji:"👨‍⚕️",group:0},{emoji:"👩‍⚕️",group:0},{emoji:"👨‍🎓",group:0},{emoji:"👩‍🎓",group:0},{emoji:"👨‍🏫",group:0},{emoji:"👩‍🏫",group:0},{emoji:"👨‍⚖️",group:0},{emoji:"👩‍⚖️",group:0},{emoji:"👨‍🌾",group:0},{emoji:"👩‍🌾",group:0},{emoji:"👨‍🍳",group:0},{emoji:"👩‍🍳",group:0},{emoji:"👨‍🔧",group:0},{emoji:"👩‍🔧",group:0},{emoji:"👨‍🏭",group:0},{emoji:"👩‍🏭",group:0},{emoji:"👨‍💼",group:0},{emoji:"👩‍💼",group:0},{emoji:"👨‍🔬",group:0},{emoji:"👩‍🔬",group:0},{emoji:"👨‍💻",group:0},{emoji:"👩‍💻",group:0},{emoji:"👨‍🎤",group:0},{emoji:"👩‍🎤",group:0},{emoji:"👨‍🎨",group:0},{emoji:"👩‍🎨",group:0},{emoji:"👨‍✈️",group:0},{emoji:"👩‍✈️",group:0},{emoji:"👨‍🚀",group:0},{emoji:"👩‍🚀",group:0},{emoji:"👨‍🚒",group:0},{emoji:"👩‍🚒",group:0},{emoji:"👮",group:0},{emoji:"👮‍♂️",group:0},{emoji:"👮‍♀️",group:0},{emoji:"🕵️",group:0},{emoji:"🕵️‍♂️",group:0},{emoji:"🕵️‍♀️",group:0},{emoji:"💂",group:0},{emoji:"💂‍♂️",group:0},{emoji:"💂‍♀️",group:0},{emoji:"👷",group:0},{emoji:"👷‍♂️",group:0},{emoji:"👷‍♀️",group:0},{emoji:"🤴",group:0},{emoji:"👸",group:0},{emoji:"👳",group:0},{emoji:"👳‍♂️",group:0},{emoji:"👳‍♀️",group:0},{emoji:"👲",group:0},{emoji:"🧕",group:0},{emoji:"🧔",group:0},{emoji:"👱",group:0},{emoji:"👱‍♂️",group:0},{emoji:"👱‍♀️",group:0},{emoji:"🤵",group:0},{emoji:"👰",group:0},{emoji:"🤰",group:0},{emoji:"🤱",group:0},{emoji:"👼",group:0},{emoji:"🎅",group:0},{emoji:"🤶",group:0},{emoji:"🧙",group:0},{emoji:"🧙‍♀️",group:0},{emoji:"🧙‍♂️",group:0},{emoji:"🧚",group:0},{emoji:"🧚‍♀️",group:0},{emoji:"🧚‍♂️",group:0},{emoji:"🧛",group:0},{emoji:"🧛‍♀️",group:0},{emoji:"🧛‍♂️",group:0},{emoji:"🧜",group:0},{emoji:"🧜‍♀️",group:0},{emoji:"🧜‍♂️",group:0},{emoji:"🧝",group:0},{emoji:"🧝‍♀️",group:0},{emoji:"🧝‍♂️",group:0},{emoji:"🧞",group:0},{emoji:"🧞‍♀️",group:0},{emoji:"🧞‍♂️",group:0},{emoji:"🧟",group:0},{emoji:"🧟‍♀️",group:0},{emoji:"🧟‍♂️",group:0},{emoji:"🙍",group:0},{emoji:"🙍‍♂️",group:0},{emoji:"🙍‍♀️",group:0},{emoji:"🙎",group:0},{emoji:"🙎‍♂️",group:0},{emoji:"🙎‍♀️",group:0},{emoji:"🙅",group:0},{emoji:"🙅‍♂️",group:0},{emoji:"🙅‍♀️",group:0},{emoji:"🙆",group:0},{emoji:"🙆‍♂️",group:0},{emoji:"🙆‍♀️",group:0},{emoji:"💁",group:0},{emoji:"💁‍♂️",group:0},{emoji:"💁‍♀️",group:0},{emoji:"🙋",group:0},{emoji:"🙋‍♂️",group:0},{emoji:"🙋‍♀️",group:0},{emoji:"🙇",group:0},{emoji:"🙇‍♂️",group:0},{emoji:"🙇‍♀️",group:0},{emoji:"🤦",group:0},{emoji:"🤦‍♂️",group:0},{emoji:"🤦‍♀️",group:0},{emoji:"🤷",group:0},{emoji:"🤷‍♂️",group:0},{emoji:"🤷‍♀️",group:0},{emoji:"💆",group:0},{emoji:"💆‍♂️",group:0},{emoji:"💆‍♀️",group:0},{emoji:"💇",group:0},{emoji:"💇‍♂️",group:0},{emoji:"💇‍♀️",group:0},{emoji:"🚶",group:0},{emoji:"🚶‍♂️",group:0},{emoji:"🚶‍♀️",group:0},{emoji:"🏃",group:0},{emoji:"🏃‍♂️",group:0},{emoji:"🏃‍♀️",group:0},{emoji:"💃",group:0},{emoji:"🕺",group:0},{emoji:"👯",group:0},{emoji:"👯‍♂️",group:0},{emoji:"👯‍♀️",group:0},{emoji:"🧖",group:0},{emoji:"🧖‍♀️",group:0},{emoji:"🧖‍♂️",group:0},{emoji:"🧗",group:0},{emoji:"🧗‍♀️",group:0},{emoji:"🧗‍♂️",group:0},{emoji:"🧘",group:0},{emoji:"🧘‍♀️",group:0},{emoji:"🧘‍♂️",group:0},{emoji:"🛀",group:0},{emoji:"🛌",group:0},{emoji:"🕴️",group:0},{emoji:"🗣️",group:0},{emoji:"👤",group:0},{emoji:"👥",group:0},{emoji:"🤺",group:0},{emoji:"🏇",group:0},{emoji:"⛷️",group:0},{emoji:"🏂️",group:0},{emoji:"🏌️",group:0},{emoji:"🏌️‍♂️",group:0},{emoji:"🏌️‍♀️",group:0},{emoji:"🏄️",group:0},{emoji:"🏄‍♂️",group:0},{emoji:"🏄‍♀️",group:0},{emoji:"🚣",group:0},{emoji:"🚣‍♂️",group:0},{emoji:"🚣‍♀️",group:0},{emoji:"🏊️",group:0},{emoji:"🏊‍♂️",group:0},{emoji:"🏊‍♀️",group:0},{emoji:"⛹️",group:0},{emoji:"⛹️‍♂️",group:0},{emoji:"⛹️‍♀️",group:0},{emoji:"🏋️",group:0},{emoji:"🏋️‍♂️",group:0},{emoji:"🏋️‍♀️",group:0},{emoji:"🚴",group:0},{emoji:"🚴‍♂️",group:0},{emoji:"🚴‍♀️",group:0},{emoji:"🚵",group:0},{emoji:"🚵‍♂️",group:0},{emoji:"🚵‍♀️",group:0},{emoji:"🏎️",group:0},{emoji:"🏍️",group:0},{emoji:"🤸",group:0},{emoji:"🤸‍♂️",group:0},{emoji:"🤸‍♀️",group:0},{emoji:"🤼",group:0},{emoji:"🤼‍♂️",group:0},{emoji:"🤼‍♀️",group:0},{emoji:"🤽",group:0},{emoji:"🤽‍♂️",group:0},{emoji:"🤽‍♀️",group:0},{emoji:"🤾",group:0},{emoji:"🤾‍♂️",group:0},{emoji:"🤾‍♀️",group:0},{emoji:"🤹",group:0},{emoji:"🤹‍♂️",group:0},{emoji:"🤹‍♀️",group:0},{emoji:"👫",group:0},{emoji:"👬",group:0},{emoji:"👭",group:0},{emoji:"💏",group:0},{emoji:"👩‍❤️‍💋‍👨",group:0},{emoji:"👨‍❤️‍💋‍👨",group:0},{emoji:"👩‍❤️‍💋‍👩",group:0},{emoji:"💑",group:0},{emoji:"👩‍❤️‍👨",group:0},{emoji:"👨‍❤️‍👨",group:0},{emoji:"👩‍❤️‍👩",group:0},{emoji:"👪️",group:0},{emoji:"👨‍👩‍👦",group:0},{emoji:"👨‍👩‍👧",group:0},{emoji:"👨‍👩‍👧‍👦",group:0},{emoji:"👨‍👩‍👦‍👦",group:0},{emoji:"👨‍👩‍👧‍👧",group:0},{emoji:"👨‍👨‍👦",group:0},{emoji:"👨‍👨‍👧",group:0},{emoji:"👨‍👨‍👧‍👦",group:0},{emoji:"👨‍👨‍👦‍👦",group:0},{emoji:"👨‍👨‍👧‍👧",group:0},{emoji:"👩‍👩‍👦",group:0},{emoji:"👩‍👩‍👧",group:0},{emoji:"👩‍👩‍👧‍👦",group:0},{emoji:"👩‍👩‍👦‍👦",group:0},{emoji:"👩‍👩‍👧‍👧",group:0},{emoji:"👨‍👦",group:0},{emoji:"👨‍👦‍👦",group:0},{emoji:"👨‍👧",group:0},{emoji:"👨‍👧‍👦",group:0},{emoji:"👨‍👧‍👧",group:0},{emoji:"👩‍👦",group:0},{emoji:"👩‍👦‍👦",group:0},{emoji:"👩‍👧",group:0},{emoji:"👩‍👧‍👦",group:0},{emoji:"👩‍👧‍👧",group:0},{emoji:"🤳",group:0},{emoji:"💪",group:0},{emoji:"👈️",group:0},{emoji:"👉️",group:0},{emoji:"☝️",group:0},{emoji:"👆️",group:0},{emoji:"🖕",group:0},{emoji:"👇️",group:0},{emoji:"✌️",group:0},{emoji:"🤞",group:0},{emoji:"🖖",group:0},{emoji:"🤘",group:0},{emoji:"🤙",group:0},{emoji:"🖐️",group:0},{emoji:"✋",group:0},{emoji:"👌",group:0},{emoji:"👍️",group:0},{emoji:"👎️",group:0},{emoji:"✊",group:0},{emoji:"👊",group:0},{emoji:"🤛",group:0},{emoji:"🤜",group:0},{emoji:"🤚",group:0},{emoji:"👋",group:0},{emoji:"🤟",group:0},{emoji:"✍️",group:0},{emoji:"👏",group:0},{emoji:"👐",group:0},{emoji:"🙌",group:0},{emoji:"🤲",group:0},{emoji:"🙏",group:0},{emoji:"🤝",group:0},{emoji:"💅",group:0},{emoji:"👂️",group:0},{emoji:"👃",group:0},{emoji:"👣",group:0},{emoji:"👀",group:0},{emoji:"👁️",group:0},{emoji:"👁️‍🗨️",group:0},{emoji:"🧠",group:0},{emoji:"👅",group:0},{emoji:"👄",group:0},{emoji:"💋",group:0},{emoji:"💘",group:0},{emoji:"❤️",group:0},{emoji:"💓",group:0},{emoji:"💔",group:0},{emoji:"💕",group:0},{emoji:"💖",group:0},{emoji:"💗",group:0},{emoji:"💙",group:0},{emoji:"💚",group:0},{emoji:"💛",group:0},{emoji:"🧡",group:0},{emoji:"💜",group:0},{emoji:"🖤",group:0},{emoji:"💝",group:0},{emoji:"💞",group:0},{emoji:"💟",group:0},{emoji:"❣️",group:0},{emoji:"💌",group:0},{emoji:"💤",group:0},{emoji:"💢",group:0},{emoji:"💣️",group:0},{emoji:"💥",group:0},{emoji:"💦",group:0},{emoji:"💨",group:0},{emoji:"💫",group:0},{emoji:"💬",group:0},{emoji:"🗨️",group:0},{emoji:"🗯️",group:0},{emoji:"💭",group:0},{emoji:"🕳️",group:0},{emoji:"👓️",group:0},{emoji:"🕶️",group:0},{emoji:"👔",group:0},{emoji:"👕",group:0},{emoji:"👖",group:0},{emoji:"🧣",group:0},{emoji:"🧤",group:0},{emoji:"🧥",group:0},{emoji:"🧦",group:0},{emoji:"👗",group:0},{emoji:"👘",group:0},{emoji:"👙",group:0},{emoji:"👚",group:0},{emoji:"👛",group:0},{emoji:"👜",group:0},{emoji:"👝",group:0},{emoji:"🛍️",group:0},{emoji:"🎒",group:0},{emoji:"👞",group:0},{emoji:"👟",group:0},{emoji:"👠",group:0},{emoji:"👡",group:0},{emoji:"👢",group:0},{emoji:"👑",group:0},{emoji:"👒",group:0},{emoji:"🎩",group:0},{emoji:"🎓️",group:0},{emoji:"🧢",group:0},{emoji:"⛑️",group:0},{emoji:"📿",group:0},{emoji:"💄",group:0},{emoji:"💍",group:0},{emoji:"💎",group:0},{emoji:"🐵",group:1},{emoji:"🐒",group:1},{emoji:"🦍",group:1},{emoji:"🐶",group:1},{emoji:"🐕️",group:1},{emoji:"🐩",group:1},{emoji:"🐺",group:1},{emoji:"🦊",group:1},{emoji:"🐱",group:1},{emoji:"🐈️",group:1},{emoji:"🦁",group:1},{emoji:"🐯",group:1},{emoji:"🐅",group:1},{emoji:"🐆",group:1},{emoji:"🐴",group:1},{emoji:"🐎",group:1},{emoji:"🦄",group:1},{emoji:"🦓",group:1},{emoji:"🦌",group:1},{emoji:"🐮",group:1},{emoji:"🐂",group:1},{emoji:"🐃",group:1},{emoji:"🐄",group:1},{emoji:"🐷",group:1},{emoji:"🐖",group:1},{emoji:"🐗",group:1},{emoji:"🐽",group:1},{emoji:"🐏",group:1},{emoji:"🐑",group:1},{emoji:"🐐",group:1},{emoji:"🐪",group:1},{emoji:"🐫",group:1},{emoji:"🦒",group:1},{emoji:"🐘",group:1},{emoji:"🦏",group:1},{emoji:"🐭",group:1},{emoji:"🐁",group:1},{emoji:"🐀",group:1},{emoji:"🐹",group:1},{emoji:"🐰",group:1},{emoji:"🐇",group:1},{emoji:"🐿️",group:1},{emoji:"🦔",group:1},{emoji:"🦇",group:1},{emoji:"🐻",group:1},{emoji:"🐨",group:1},{emoji:"🐼",group:1},{emoji:"🐾",group:1},{emoji:"🦃",group:1},{emoji:"🐔",group:1},{emoji:"🐓",group:1},{emoji:"🐣",group:1},{emoji:"🐤",group:1},{emoji:"🐥",group:1},{emoji:"🐦️",group:1},{emoji:"🐧",group:1},{emoji:"🕊️",group:1},{emoji:"🦅",group:1},{emoji:"🦆",group:1},{emoji:"🦉",group:1},{emoji:"🐸",group:1},{emoji:"🐊",group:1},{emoji:"🐢",group:1},{emoji:"🦎",group:1},{emoji:"🐍",group:1},{emoji:"🐲",group:1},{emoji:"🐉",group:1},{emoji:"🦕",group:1},{emoji:"🦖",group:1},{emoji:"🐳",group:1},{emoji:"🐋",group:1},{emoji:"🐬",group:1},{emoji:"🐟️",group:1},{emoji:"🐠",group:1},{emoji:"🐡",group:1},{emoji:"🦈",group:1},{emoji:"🐙",group:1},{emoji:"🐚",group:1},{emoji:"🦀",group:1},{emoji:"🦐",group:1},{emoji:"🦑",group:1},{emoji:"🐌",group:1},{emoji:"🦋",group:1},{emoji:"🐛",group:1},{emoji:"🐜",group:1},{emoji:"🐝",group:1},{emoji:"🐞",group:1},{emoji:"🦗",group:1},{emoji:"🕷️",group:1},{emoji:"🕸️",group:1},{emoji:"🦂",group:1},{emoji:"💐",group:1},{emoji:"🌸",group:1},{emoji:"💮",group:1},{emoji:"🏵️",group:1},{emoji:"🌹",group:1},{emoji:"🥀",group:1},{emoji:"🌺",group:1},{emoji:"🌻",group:1},{emoji:"🌼",group:1},{emoji:"🌷",group:1},{emoji:"🌱",group:1},{emoji:"🌲",group:1},{emoji:"🌳",group:1},{emoji:"🌴",group:1},{emoji:"🌵",group:1},{emoji:"🌾",group:1},{emoji:"🌿",group:1},{emoji:"☘️",group:1},{emoji:"🍀",group:1},{emoji:"🍁",group:1},{emoji:"🍂",group:1},{emoji:"🍃",group:1},{emoji:"🍇",group:2},{emoji:"🍈",group:2},{emoji:"🍉",group:2},{emoji:"🍊",group:2},{emoji:"🍋",group:2},{emoji:"🍌",group:2},{emoji:"🍍",group:2},{emoji:"🍎",group:2},{emoji:"🍏",group:2},{emoji:"🍐",group:2},{emoji:"🍑",group:2},{emoji:"🍒",group:2},{emoji:"🍓",group:2},{emoji:"🥝",group:2},{emoji:"🍅",group:2},{emoji:"🥥",group:2},{emoji:"🥑",group:2},{emoji:"🍆",group:2},{emoji:"🥔",group:2},{emoji:"🥕",group:2},{emoji:"🌽",group:2},{emoji:"🌶️",group:2},{emoji:"🥒",group:2},{emoji:"🥦",group:2},{emoji:"🍄",group:2},{emoji:"🥜",group:2},{emoji:"🌰",group:2},{emoji:"🍞",group:2},{emoji:"🥐",group:2},{emoji:"🥖",group:2},{emoji:"🥨",group:2},{emoji:"🥞",group:2},{emoji:"🧀",group:2},{emoji:"🍖",group:2},{emoji:"🍗",group:2},{emoji:"🥩",group:2},{emoji:"🥓",group:2},{emoji:"🍔",group:2},{emoji:"🍟",group:2},{emoji:"🍕",group:2},{emoji:"🌭",group:2},{emoji:"🥪",group:2},{emoji:"🌮",group:2},{emoji:"🌯",group:2},{emoji:"🥙",group:2},{emoji:"🥚",group:2},{emoji:"🍳",group:2},{emoji:"🥘",group:2},{emoji:"🍲",group:2},{emoji:"🥣",group:2},{emoji:"🥗",group:2},{emoji:"🍿",group:2},{emoji:"🥫",group:2},{emoji:"🍱",group:2},{emoji:"🍘",group:2},{emoji:"🍙",group:2},{emoji:"🍚",group:2},{emoji:"🍛",group:2},{emoji:"🍜",group:2},{emoji:"🍝",group:2},{emoji:"🍠",group:2},{emoji:"🍢",group:2},{emoji:"🍣",group:2},{emoji:"🍤",group:2},{emoji:"🍥",group:2},{emoji:"🍡",group:2},{emoji:"🥟",group:2},{emoji:"🥠",group:2},{emoji:"🥡",group:2},{emoji:"🍦",group:2},{emoji:"🍧",group:2},{emoji:"🍨",group:2},{emoji:"🍩",group:2},{emoji:"🍪",group:2},{emoji:"🎂",group:2},{emoji:"🍰",group:2},{emoji:"🥧",group:2},{emoji:"🍫",group:2},{emoji:"🍬",group:2},{emoji:"🍭",group:2},{emoji:"🍮",group:2},{emoji:"🍯",group:2},{emoji:"🍼",group:2},{emoji:"🥛",group:2},{emoji:"☕️",group:2},{emoji:"🍵",group:2},{emoji:"🍶",group:2},{emoji:"🍾",group:2},{emoji:"🍷",group:2},{emoji:"🍸️",group:2},{emoji:"🍹",group:2},{emoji:"🍺",group:2},{emoji:"🍻",group:2},{emoji:"🥂",group:2},{emoji:"🥃",group:2},{emoji:"🥤",group:2},{emoji:"🥢",group:2},{emoji:"🍽️",group:2},{emoji:"🍴",group:2},{emoji:"🥄",group:2},{emoji:"🔪",group:2},{emoji:"🏺",group:2},{emoji:"🌍️",group:3},{emoji:"🌎️",group:3},{emoji:"🌏️",group:3},{emoji:"🌐",group:3},{emoji:"🗺️",group:3},{emoji:"🗾",group:3},{emoji:"🏔️",group:3},{emoji:"⛰️",group:3},{emoji:"🌋",group:3},{emoji:"🗻",group:3},{emoji:"🏕️",group:3},{emoji:"🏖️",group:3},{emoji:"🏜️",group:3},{emoji:"🏝️",group:3},{emoji:"🏞️",group:3},{emoji:"🏟️",group:3},{emoji:"🏛️",group:3},{emoji:"🏗️",group:3},{emoji:"🏘️",group:3},{emoji:"🏙️",group:3},{emoji:"🏚️",group:3},{emoji:"🏠️",group:3},{emoji:"🏡",group:3},{emoji:"🏢",group:3},{emoji:"🏣",group:3},{emoji:"🏤",group:3},{emoji:"🏥",group:3},{emoji:"🏦",group:3},{emoji:"🏨",group:3},{emoji:"🏩",group:3},{emoji:"🏪",group:3},{emoji:"🏫",group:3},{emoji:"🏬",group:3},{emoji:"🏭️",group:3},{emoji:"🏯",group:3},{emoji:"🏰",group:3},{emoji:"💒",group:3},{emoji:"🗼",group:3},{emoji:"🗽",group:3},{emoji:"⛪️",group:3},{emoji:"🕌",group:3},{emoji:"🕍",group:3},{emoji:"⛩️",group:3},{emoji:"🕋",group:3},{emoji:"⛲️",group:3},{emoji:"⛺️",group:3},{emoji:"🌁",group:3},{emoji:"🌃",group:3},{emoji:"🌄",group:3},{emoji:"🌅",group:3},{emoji:"🌆",group:3},{emoji:"🌇",group:3},{emoji:"🌉",group:3},{emoji:"♨️",group:3},{emoji:"🌌",group:3},{emoji:"🎠",group:3},{emoji:"🎡",group:3},{emoji:"🎢",group:3},{emoji:"💈",group:3},{emoji:"🎪",group:3},{emoji:"🎭️",group:3},{emoji:"🖼️",group:3},{emoji:"🎨",group:3},{emoji:"🎰",group:3},{emoji:"🚂",group:3},{emoji:"🚃",group:3},{emoji:"🚄",group:3},{emoji:"🚅",group:3},{emoji:"🚆",group:3},{emoji:"🚇️",group:3},{emoji:"🚈",group:3},{emoji:"🚉",group:3},{emoji:"🚊",group:3},{emoji:"🚝",group:3},{emoji:"🚞",group:3},{emoji:"🚋",group:3},{emoji:"🚌",group:3},{emoji:"🚍️",group:3},{emoji:"🚎",group:3},{emoji:"🚐",group:3},{emoji:"🚑️",group:3},{emoji:"🚒",group:3},{emoji:"🚓",group:3},{emoji:"🚔️",group:3},{emoji:"🚕",group:3},{emoji:"🚖",group:3},{emoji:"🚗",group:3},{emoji:"🚘️",group:3},{emoji:"🚙",group:3},{emoji:"🚚",group:3},{emoji:"🚛",group:3},{emoji:"🚜",group:3},{emoji:"🚲️",group:3},{emoji:"🛴",group:3},{emoji:"🛵",group:3},{emoji:"🚏",group:3},{emoji:"🛣️",group:3},{emoji:"🛤️",group:3},{emoji:"⛽️",group:3},{emoji:"🚨",group:3},{emoji:"🚥",group:3},{emoji:"🚦",group:3},{emoji:"🚧",group:3},{emoji:"🛑",group:3},{emoji:"⚓️",group:3},{emoji:"⛵️",group:3},{emoji:"🛶",group:3},{emoji:"🚤",group:3},{emoji:"🛳️",group:3},{emoji:"⛴️",group:3},{emoji:"🛥️",group:3},{emoji:"🚢",group:3},{emoji:"✈️",group:3},{emoji:"🛩️",group:3},{emoji:"🛫",group:3},{emoji:"🛬",group:3},{emoji:"💺",group:3},{emoji:"🚁",group:3},{emoji:"🚟",group:3},{emoji:"🚠",group:3},{emoji:"🚡",group:3},{emoji:"🛰️",group:3},{emoji:"🚀",group:3},{emoji:"🛸",group:3},{emoji:"🛎️",group:3},{emoji:"🚪",group:3},{emoji:"🛏️",group:3},{emoji:"🛋️",group:3},{emoji:"🚽",group:3},{emoji:"🚿",group:3},{emoji:"🛁",group:3},{emoji:"⌛️",group:3},{emoji:"⏳️",group:3},{emoji:"⌚️",group:3},{emoji:"⏰",group:3},{emoji:"⏱️",group:3},{emoji:"⏲️",group:3},{emoji:"🕰️",group:3},{emoji:"🕛️",group:3},{emoji:"🕧️",group:3},{emoji:"🕐️",group:3},{emoji:"🕜️",group:3},{emoji:"🕑️",group:3},{emoji:"🕝️",group:3},{emoji:"🕒️",group:3},{emoji:"🕞️",group:3},{emoji:"🕓️",group:3},{emoji:"🕟️",group:3},{emoji:"🕔️",group:3},{emoji:"🕠️",group:3},{emoji:"🕕️",group:3},{emoji:"🕡️",group:3},{emoji:"🕖️",group:3},{emoji:"🕢️",group:3},{emoji:"🕗️",group:3},{emoji:"🕣️",group:3},{emoji:"🕘️",group:3},{emoji:"🕤️",group:3},{emoji:"🕙️",group:3},{emoji:"🕥️",group:3},{emoji:"🕚️",group:3},{emoji:"🕦️",group:3},{emoji:"🌑",group:3},{emoji:"🌒",group:3},{emoji:"🌓",group:3},{emoji:"🌔",group:3},{emoji:"🌕️",group:3},{emoji:"🌖",group:3},{emoji:"🌗",group:3},{emoji:"🌘",group:3},{emoji:"🌙",group:3},{emoji:"🌚",group:3},{emoji:"🌛",group:3},{emoji:"🌜️",group:3},{emoji:"🌡️",group:3},{emoji:"☀️",group:3},{emoji:"🌝",group:3},{emoji:"🌞",group:3},{emoji:"⭐️",group:3},{emoji:"🌟",group:3},{emoji:"🌠",group:3},{emoji:"☁️",group:3},{emoji:"⛅️",group:3},{emoji:"⛈️",group:3},{emoji:"🌤️",group:3},{emoji:"🌥️",group:3},{emoji:"🌦️",group:3},{emoji:"🌧️",group:3},{emoji:"🌨️",group:3},{emoji:"🌩️",group:3},{emoji:"🌪️",group:3},{emoji:"🌫️",group:3},{emoji:"🌬️",group:3},{emoji:"🌀",group:3},{emoji:"🌈",group:3},{emoji:"🌂",group:3},{emoji:"☂️",group:3},{emoji:"☔️",group:3},{emoji:"⛱️",group:3},{emoji:"⚡️",group:3},{emoji:"❄️",group:3},{emoji:"☃️",group:3},{emoji:"⛄️",group:3},{emoji:"☄️",group:3},{emoji:"🔥",group:3},{emoji:"💧",group:3},{emoji:"🌊",group:3},{emoji:"🎃",group:4},{emoji:"🎄",group:4},{emoji:"🎆",group:4},{emoji:"🎇",group:4},{emoji:"✨",group:4},{emoji:"🎈",group:4},{emoji:"🎉",group:4},{emoji:"🎊",group:4},{emoji:"🎋",group:4},{emoji:"🎍",group:4},{emoji:"🎎",group:4},{emoji:"🎏",group:4},{emoji:"🎐",group:4},{emoji:"🎑",group:4},{emoji:"🎀",group:4},{emoji:"🎁",group:4},{emoji:"🎗️",group:4},{emoji:"🎟️",group:4},{emoji:"🎫",group:4},{emoji:"🎖️",group:4},{emoji:"🏆️",group:4},{emoji:"🏅",group:4},{emoji:"🥇",group:4},{emoji:"🥈",group:4},{emoji:"🥉",group:4},{emoji:"⚽️",group:4},{emoji:"⚾️",group:4},{emoji:"🏀",group:4},{emoji:"🏐",group:4},{emoji:"🏈",group:4},{emoji:"🏉",group:4},{emoji:"🎾",group:4},{emoji:"🎱",group:4},{emoji:"🎳",group:4},{emoji:"🏏",group:4},{emoji:"🏑",group:4},{emoji:"🏒",group:4},{emoji:"🏓",group:4},{emoji:"🏸",group:4},{emoji:"🥊",group:4},{emoji:"🥋",group:4},{emoji:"🥅",group:4},{emoji:"🎯",group:4},{emoji:"⛳️",group:4},{emoji:"⛸️",group:4},{emoji:"🎣",group:4},{emoji:"🎽",group:4},{emoji:"🎿",group:4},{emoji:"🛷",group:4},{emoji:"🥌",group:4},{emoji:"🎮️",group:4},{emoji:"🕹️",group:4},{emoji:"🎲",group:4},{emoji:"♠️",group:4},{emoji:"♥️",group:4},{emoji:"♦️",group:4},{emoji:"♣️",group:4},{emoji:"🃏",group:4},{emoji:"🀄️",group:4},{emoji:"🎴",group:4},{emoji:"🔇",group:5},{emoji:"🔈️",group:5},{emoji:"🔉",group:5},{emoji:"🔊",group:5},{emoji:"📢",group:5},{emoji:"📣",group:5},{emoji:"📯",group:5},{emoji:"🔔",group:5},{emoji:"🔕",group:5},{emoji:"🎼",group:5},{emoji:"🎵",group:5},{emoji:"🎶",group:5},{emoji:"🎙️",group:5},{emoji:"🎚️",group:5},{emoji:"🎛️",group:5},{emoji:"🎤",group:5},{emoji:"🎧️",group:5},{emoji:"📻️",group:5},{emoji:"🎷",group:5},{emoji:"🎸",group:5},{emoji:"🎹",group:5},{emoji:"🎺",group:5},{emoji:"🎻",group:5},{emoji:"🥁",group:5},{emoji:"📱",group:5},{emoji:"📲",group:5},{emoji:"☎️",group:5},{emoji:"📞",group:5},{emoji:"📟️",group:5},{emoji:"📠",group:5},{emoji:"🔋",group:5},{emoji:"🔌",group:5},{emoji:"💻️",group:5},{emoji:"🖥️",group:5},{emoji:"🖨️",group:5},{emoji:"⌨️",group:5},{emoji:"🖱️",group:5},{emoji:"🖲️",group:5},{emoji:"💽",group:5},{emoji:"💾",group:5},{emoji:"💿️",group:5},{emoji:"📀",group:5},{emoji:"🎥",group:5},{emoji:"🎞️",group:5},{emoji:"📽️",group:5},{emoji:"🎬️",group:5},{emoji:"📺️",group:5},{emoji:"📷️",group:5},{emoji:"📸",group:5},{emoji:"📹️",group:5},{emoji:"📼",group:5},{emoji:"🔍️",group:5},{emoji:"🔎",group:5},{emoji:"🔬",group:5},{emoji:"🔭",group:5},{emoji:"📡",group:5},{emoji:"🕯️",group:5},{emoji:"💡",group:5},{emoji:"🔦",group:5},{emoji:"🏮",group:5},{emoji:"📔",group:5},{emoji:"📕",group:5},{emoji:"📖",group:5},{emoji:"📗",group:5},{emoji:"📘",group:5},{emoji:"📙",group:5},{emoji:"📚️",group:5},{emoji:"📓",group:5},{emoji:"📒",group:5},{emoji:"📃",group:5},{emoji:"📜",group:5},{emoji:"📄",group:5},{emoji:"📰",group:5},{emoji:"🗞️",group:5},{emoji:"📑",group:5},{emoji:"🔖",group:5},{emoji:"🏷️",group:5},{emoji:"💰️",group:5},{emoji:"💴",group:5},{emoji:"💵",group:5},{emoji:"💶",group:5},{emoji:"💷",group:5},{emoji:"💸",group:5},{emoji:"💳️",group:5},{emoji:"💹",group:5},{emoji:"💱",group:5},{emoji:"💲",group:5},{emoji:"✉️",group:5},{emoji:"📧",group:5},{emoji:"📨",group:5},{emoji:"📩",group:5},{emoji:"📤️",group:5},{emoji:"📥️",group:5},{emoji:"📦️",group:5},{emoji:"📫️",group:5},{emoji:"📪️",group:5},{emoji:"📬️",group:5},{emoji:"📭️",group:5},{emoji:"📮",group:5},{emoji:"🗳️",group:5},{emoji:"✏️",group:5},{emoji:"✒️",group:5},{emoji:"🖋️",group:5},{emoji:"🖊️",group:5},{emoji:"🖌️",group:5},{emoji:"🖍️",group:5},{emoji:"📝",group:5},{emoji:"💼",group:5},{emoji:"📁",group:5},{emoji:"📂",group:5},{emoji:"🗂️",group:5},{emoji:"📅",group:5},{emoji:"📆",group:5},{emoji:"🗒️",group:5},{emoji:"🗓️",group:5},{emoji:"📇",group:5},{emoji:"📈",group:5},{emoji:"📉",group:5},{emoji:"📊",group:5},{emoji:"📋️",group:5},{emoji:"📌",group:5},{emoji:"📍",group:5},{emoji:"📎",group:5},{emoji:"🖇️",group:5},{emoji:"📏",group:5},{emoji:"📐",group:5},{emoji:"✂️",group:5},{emoji:"🗃️",group:5},{emoji:"🗄️",group:5},{emoji:"🗑️",group:5},{emoji:"🔒️",group:5},{emoji:"🔓️",group:5},{emoji:"🔏",group:5},{emoji:"🔐",group:5},{emoji:"🔑",group:5},{emoji:"🗝️",group:5},{emoji:"🔨",group:5},{emoji:"⛏️",group:5},{emoji:"⚒️",group:5},{emoji:"🛠️",group:5},{emoji:"🗡️",group:5},{emoji:"⚔️",group:5},{emoji:"🔫",group:5},{emoji:"🏹",group:5},{emoji:"🛡️",group:5},{emoji:"🔧",group:5},{emoji:"🔩",group:5},{emoji:"⚙️",group:5},{emoji:"🗜️",group:5},{emoji:"⚗️",group:5},{emoji:"⚖️",group:5},{emoji:"🔗",group:5},{emoji:"⛓️",group:5},{emoji:"💉",group:5},{emoji:"💊",group:5},{emoji:"🚬",group:5},{emoji:"⚰️",group:5},{emoji:"⚱️",group:5},{emoji:"🗿",group:5},{emoji:"🛢️",group:5},{emoji:"🔮",group:5},{emoji:"🛒",group:5},{emoji:"🏧",group:6},{emoji:"🚮",group:6},{emoji:"🚰",group:6},{emoji:"♿️",group:6},{emoji:"🚹️",group:6},{emoji:"🚺️",group:6},{emoji:"🚻",group:6},{emoji:"🚼️",group:6},{emoji:"🚾",group:6},{emoji:"🛂",group:6},{emoji:"🛃",group:6},{emoji:"🛄",group:6},{emoji:"🛅",group:6},{emoji:"⚠️",group:6},{emoji:"🚸",group:6},{emoji:"⛔️",group:6},{emoji:"🚫",group:6},{emoji:"🚳",group:6},{emoji:"🚭️",group:6},{emoji:"🚯",group:6},{emoji:"🚱",group:6},{emoji:"🚷",group:6},{emoji:"📵",group:6},{emoji:"🔞",group:6},{emoji:"☢️",group:6},{emoji:"☣️",group:6},{emoji:"⬆️",group:6},{emoji:"↗️",group:6},{emoji:"➡️",group:6},{emoji:"↘️",group:6},{emoji:"⬇️",group:6},{emoji:"↙️",group:6},{emoji:"⬅️",group:6},{emoji:"↖️",group:6},{emoji:"↕️",group:6},{emoji:"↔️",group:6},{emoji:"↩️",group:6},{emoji:"↪️",group:6},{emoji:"⤴️",group:6},{emoji:"⤵️",group:6},{emoji:"🔃",group:6},{emoji:"🔄",group:6},{emoji:"🔙",group:6},{emoji:"🔚",group:6},{emoji:"🔛",group:6},{emoji:"🔜",group:6},{emoji:"🔝",group:6},{emoji:"🛐",group:6},{emoji:"⚛️",group:6},{emoji:"🕉️",group:6},{emoji:"✡️",group:6},{emoji:"☸️",group:6},{emoji:"☯️",group:6},{emoji:"✝️",group:6},{emoji:"☦️",group:6},{emoji:"☪️",group:6},{emoji:"☮️",group:6},{emoji:"🕎",group:6},{emoji:"🔯",group:6},{emoji:"♈️",group:6},{emoji:"♉️",group:6},{emoji:"♊️",group:6},{emoji:"♋️",group:6},{emoji:"♌️",group:6},{emoji:"♍️",group:6},{emoji:"♎️",group:6},{emoji:"♏️",group:6},{emoji:"♐️",group:6},{emoji:"♑️",group:6},{emoji:"♒️",group:6},{emoji:"♓️",group:6},{emoji:"⛎",group:6},{emoji:"🔀",group:6},{emoji:"🔁",group:6},{emoji:"🔂",group:6},{emoji:"▶️",group:6},{emoji:"⏩️",group:6},{emoji:"⏭️",group:6},{emoji:"⏯️",group:6},{emoji:"◀️",group:6},{emoji:"⏪️",group:6},{emoji:"⏮️",group:6},{emoji:"🔼",group:6},{emoji:"⏫",group:6},{emoji:"🔽",group:6},{emoji:"⏬",group:6},{emoji:"⏸️",group:6},{emoji:"⏹️",group:6},{emoji:"⏺️",group:6},{emoji:"⏏️",group:6},{emoji:"🎦",group:6},{emoji:"🔅",group:6},{emoji:"🔆",group:6},{emoji:"📶",group:6},{emoji:"📳",group:6},{emoji:"📴",group:6},{emoji:"♀️",group:6},{emoji:"♂️",group:6},{emoji:"⚕️",group:6},{emoji:"♻️",group:6},{emoji:"⚜️",group:6},{emoji:"🔱",group:6},{emoji:"📛",group:6},{emoji:"🔰",group:6},{emoji:"⭕️",group:6},{emoji:"✅",group:6},{emoji:"☑️",group:6},{emoji:"✔️",group:6},{emoji:"✖️",group:6},{emoji:"❌",group:6},{emoji:"❎",group:6},{emoji:"➕",group:6},{emoji:"➖",group:6},{emoji:"➗",group:6},{emoji:"➰",group:6},{emoji:"➿",group:6},{emoji:"〽️",group:6},{emoji:"✳️",group:6},{emoji:"✴️",group:6},{emoji:"❇️",group:6},{emoji:"‼️",group:6},{emoji:"⁉️",group:6},{emoji:"❓️",group:6},{emoji:"❔",group:6},{emoji:"❕",group:6},{emoji:"❗️",group:6},{emoji:"〰️",group:6},{emoji:"©️",group:6},{emoji:"®️",group:6},{emoji:"™️",group:6},{emoji:"#️⃣",group:6},{emoji:"*️⃣",group:6},{emoji:"0️⃣",group:6},{emoji:"1️⃣",group:6},{emoji:"2️⃣",group:6},{emoji:"3️⃣",group:6},{emoji:"4️⃣",group:6},{emoji:"5️⃣",group:6},{emoji:"6️⃣",group:6},{emoji:"7️⃣",group:6},{emoji:"8️⃣",group:6},{emoji:"9️⃣",group:6},{emoji:"🔟",group:6},{emoji:"💯",group:6},{emoji:"🔠",group:6},{emoji:"🔡",group:6},{emoji:"🔢",group:6},{emoji:"🔣",group:6},{emoji:"🔤",group:6},{emoji:"🅰️",group:6},{emoji:"🆎",group:6},{emoji:"🅱️",group:6},{emoji:"🆑",group:6},{emoji:"🆒",group:6},{emoji:"🆓",group:6},{emoji:"ℹ️",group:6},{emoji:"🆔",group:6},{emoji:"Ⓜ️",group:6},{emoji:"🆕",group:6},{emoji:"🆖",group:6},{emoji:"🅾️",group:6},{emoji:"🆗",group:6},{emoji:"🅿️",group:6},{emoji:"🆘",group:6},{emoji:"🆙",group:6},{emoji:"🆚",group:6},{emoji:"🈁",group:6},{emoji:"🈂️",group:6},{emoji:"🈷️",group:6},{emoji:"🈶",group:6},{emoji:"🈯️",group:6},{emoji:"🉐",group:6},{emoji:"🈹",group:6},{emoji:"🈚️",group:6},{emoji:"🈲",group:6},{emoji:"🉑",group:6},{emoji:"🈸",group:6},{emoji:"🈴",group:6},{emoji:"🈳",group:6},{emoji:"㊗️",group:6},{emoji:"㊙️",group:6},{emoji:"🈺",group:6},{emoji:"🈵",group:6},{emoji:"▪️",group:6},{emoji:"▫️",group:6},{emoji:"◻️",group:6},{emoji:"◼️",group:6},{emoji:"◽️",group:6},{emoji:"◾️",group:6},{emoji:"⬛️",group:6},{emoji:"⬜️",group:6},{emoji:"🔶",group:6},{emoji:"🔷",group:6},{emoji:"🔸",group:6},{emoji:"🔹",group:6},{emoji:"🔺",group:6},{emoji:"🔻",group:6},{emoji:"💠",group:6},{emoji:"🔘",group:6},{emoji:"🔲",group:6},{emoji:"🔳",group:6},{emoji:"⚪️",group:6},{emoji:"⚫️",group:6},{emoji:"🔴",group:6},{emoji:"🔵",group:6},{emoji:"🏁",group:7},{emoji:"🚩",group:7},{emoji:"🎌",group:7},{emoji:"🏴",group:7},{emoji:"🏳️",group:7},{emoji:"🏳️‍🌈",group:7},{emoji:"🇦🇨",group:7},{emoji:"🇦🇩",group:7},{emoji:"🇦🇪",group:7},{emoji:"🇦🇫",group:7},{emoji:"🇦🇬",group:7},{emoji:"🇦🇮",group:7},{emoji:"🇦🇱",group:7},{emoji:"🇦🇲",group:7},{emoji:"🇦🇴",group:7},{emoji:"🇦🇶",group:7},{emoji:"🇦🇷",group:7},{emoji:"🇦🇸",group:7},{emoji:"🇦🇹",group:7},{emoji:"🇦🇺",group:7},{emoji:"🇦🇼",group:7},{emoji:"🇦🇽",group:7},{emoji:"🇦🇿",group:7},{emoji:"🇧🇦",group:7},{emoji:"🇧🇧",group:7},{emoji:"🇧🇩",group:7},{emoji:"🇧🇪",group:7},{emoji:"🇧🇫",group:7},{emoji:"🇧🇬",group:7},{emoji:"🇧🇭",group:7},{emoji:"🇧🇮",group:7},{emoji:"🇧🇯",group:7},{emoji:"🇧🇱",group:7},{emoji:"🇧🇲",group:7},{emoji:"🇧🇳",group:7},{emoji:"🇧🇴",group:7},{emoji:"🇧🇶",group:7},{emoji:"🇧🇷",group:7},{emoji:"🇧🇸",group:7},{emoji:"🇧🇹",group:7},{emoji:"🇧🇻",group:7},{emoji:"🇧🇼",group:7},{emoji:"🇧🇾",group:7},{emoji:"🇧🇿",group:7},{emoji:"🇨🇦",group:7},{emoji:"🇨🇨",group:7},{emoji:"🇨🇩",group:7},{emoji:"🇨🇫",group:7},{emoji:"🇨🇬",group:7},{emoji:"🇨🇭",group:7},{emoji:"🇨🇮",group:7},{emoji:"🇨🇰",group:7},{emoji:"🇨🇱",group:7},{emoji:"🇨🇲",group:7},{emoji:"🇨🇳",group:7},{emoji:"🇨🇴",group:7},{emoji:"🇨🇵",group:7},{emoji:"🇨🇷",group:7},{emoji:"🇨🇺",group:7},{emoji:"🇨🇻",group:7},{emoji:"🇨🇼",group:7},{emoji:"🇨🇽",group:7},{emoji:"🇨🇾",group:7},{emoji:"🇨🇿",group:7},{emoji:"🇩🇪",group:7},{emoji:"🇩🇬",group:7},{emoji:"🇩🇯",group:7},{emoji:"🇩🇰",group:7},{emoji:"🇩🇲",group:7},{emoji:"🇩🇴",group:7},{emoji:"🇩🇿",group:7},{emoji:"🇪🇦",group:7},{emoji:"🇪🇨",group:7},{emoji:"🇪🇪",group:7},{emoji:"🇪🇬",group:7},{emoji:"🇪🇭",group:7},{emoji:"🇪🇷",group:7},{emoji:"🇪🇸",group:7},{emoji:"🇪🇹",group:7},{emoji:"🇪🇺",group:7},{emoji:"🇫🇮",group:7},{emoji:"🇫🇯",group:7},{emoji:"🇫🇰",group:7},{emoji:"🇫🇲",group:7},{emoji:"🇫🇴",group:7},{emoji:"🇫🇷",group:7},{emoji:"🇬🇦",group:7},{emoji:"🇬🇧",group:7},{emoji:"🇬🇩",group:7},{emoji:"🇬🇪",group:7},{emoji:"🇬🇫",group:7},{emoji:"🇬🇬",group:7},{emoji:"🇬🇭",group:7},{emoji:"🇬🇮",group:7},{emoji:"🇬🇱",group:7},{emoji:"🇬🇲",group:7},{emoji:"🇬🇳",group:7},{emoji:"🇬🇵",group:7},{emoji:"🇬🇶",group:7},{emoji:"🇬🇷",group:7},{emoji:"🇬🇸",group:7},{emoji:"🇬🇹",group:7},{emoji:"🇬🇺",group:7},{emoji:"🇬🇼",group:7},{emoji:"🇬🇾",group:7},{emoji:"🇭🇰",group:7},{emoji:"🇭🇲",group:7},{emoji:"🇭🇳",group:7},{emoji:"🇭🇷",group:7},{emoji:"🇭🇹",group:7},{emoji:"🇭🇺",group:7},{emoji:"🇮🇨",group:7},{emoji:"🇮🇩",group:7},{emoji:"🇮🇪",group:7},{emoji:"🇮🇱",group:7},{emoji:"🇮🇲",group:7},{emoji:"🇮🇳",group:7},{emoji:"🇮🇴",group:7},{emoji:"🇮🇶",group:7},{emoji:"🇮🇷",group:7},{emoji:"🇮🇸",group:7},{emoji:"🇮🇹",group:7},{emoji:"🇯🇪",group:7},{emoji:"🇯🇲",group:7},{emoji:"🇯🇴",group:7},{emoji:"🇯🇵",group:7},{emoji:"🇰🇪",group:7},{emoji:"🇰🇬",group:7},{emoji:"🇰🇭",group:7},{emoji:"🇰🇮",group:7},{emoji:"🇰🇲",group:7},{emoji:"🇰🇳",group:7},{emoji:"🇰🇵",group:7},{emoji:"🇰🇷",group:7},{emoji:"🇰🇼",group:7},{emoji:"🇰🇾",group:7},{emoji:"🇰🇿",group:7},{emoji:"🇱🇦",group:7},{emoji:"🇱🇧",group:7},{emoji:"🇱🇨",group:7},{emoji:"🇱🇮",group:7},{emoji:"🇱🇰",group:7},{emoji:"🇱🇷",group:7},{emoji:"🇱🇸",group:7},{emoji:"🇱🇹",group:7},{emoji:"🇱🇺",group:7},{emoji:"🇱🇻",group:7},{emoji:"🇱🇾",group:7},{emoji:"🇲🇦",group:7},{emoji:"🇲🇨",group:7},{emoji:"🇲🇩",group:7},{emoji:"🇲🇪",group:7},{emoji:"🇲🇫",group:7},{emoji:"🇲🇬",group:7},{emoji:"🇲🇭",group:7},{emoji:"🇲🇰",group:7},{emoji:"🇲🇱",group:7},{emoji:"🇲🇲",group:7},{emoji:"🇲🇳",group:7},{emoji:"🇲🇴",group:7},{emoji:"🇲🇵",group:7},{emoji:"🇲🇶",group:7},{emoji:"🇲🇷",group:7},{emoji:"🇲🇸",group:7},{emoji:"🇲🇹",group:7},{emoji:"🇲🇺",group:7},{emoji:"🇲🇻",group:7},{emoji:"🇲🇼",group:7},{emoji:"🇲🇽",group:7},{emoji:"🇲🇾",group:7},{emoji:"🇲🇿",group:7},{emoji:"🇳🇦",group:7},{emoji:"🇳🇨",group:7},{emoji:"🇳🇪",group:7},{emoji:"🇳🇫",group:7},{emoji:"🇳🇬",group:7},{emoji:"🇳🇮",group:7},{emoji:"🇳🇱",group:7},{emoji:"🇳🇴",group:7},{emoji:"🇳🇵",group:7},{emoji:"🇳🇷",group:7},{emoji:"🇳🇺",group:7},{emoji:"🇳🇿",group:7},{emoji:"🇴🇲",group:7},{emoji:"🇵🇦",group:7},{emoji:"🇵🇪",group:7},{emoji:"🇵🇫",group:7},{emoji:"🇵🇬",group:7},{emoji:"🇵🇭",group:7},{emoji:"🇵🇰",group:7},{emoji:"🇵🇱",group:7},{emoji:"🇵🇲",group:7},{emoji:"🇵🇳",group:7},{emoji:"🇵🇷",group:7},{emoji:"🇵🇸",group:7},{emoji:"🇵🇹",group:7},{emoji:"🇵🇼",group:7},{emoji:"🇵🇾",group:7},{emoji:"🇶🇦",group:7},{emoji:"🇷🇪",group:7},{emoji:"🇷🇴",group:7},{emoji:"🇷🇸",group:7},{emoji:"🇷🇺",group:7},{emoji:"🇷🇼",group:7},{emoji:"🇸🇦",group:7},{emoji:"🇸🇧",group:7},{emoji:"🇸🇨",group:7},{emoji:"🇸🇩",group:7},{emoji:"🇸🇪",group:7},{emoji:"🇸🇬",group:7},{emoji:"🇸🇭",group:7},{emoji:"🇸🇮",group:7},{emoji:"🇸🇯",group:7},{emoji:"🇸🇰",group:7},{emoji:"🇸🇱",group:7},{emoji:"🇸🇲",group:7},{emoji:"🇸🇳",group:7},{emoji:"🇸🇴",group:7},{emoji:"🇸🇷",group:7},{emoji:"🇸🇸",group:7},{emoji:"🇸🇹",group:7},{emoji:"🇸🇻",group:7},{emoji:"🇸🇽",group:7},{emoji:"🇸🇾",group:7},{emoji:"🇸🇿",group:7},{emoji:"🇹🇦",group:7},{emoji:"🇹🇨",group:7},{emoji:"🇹🇩",group:7},{emoji:"🇹🇫",group:7},{emoji:"🇹🇬",group:7},{emoji:"🇹🇭",group:7},{emoji:"🇹🇯",group:7},{emoji:"🇹🇰",group:7},{emoji:"🇹🇱",group:7},{emoji:"🇹🇲",group:7},{emoji:"🇹🇳",group:7},{emoji:"🇹🇴",group:7},{emoji:"🇹🇷",group:7},{emoji:"🇹🇹",group:7},{emoji:"🇹🇻",group:7},{emoji:"🇹🇼",group:7},{emoji:"🇹🇿",group:7},{emoji:"🇺🇦",group:7},{emoji:"🇺🇬",group:7},{emoji:"🇺🇲",group:7},{emoji:"🇺🇳",group:7},{emoji:"🇺🇸",group:7},{emoji:"🇺🇾",group:7},{emoji:"🇺🇿",group:7},{emoji:"🇻🇦",group:7},{emoji:"🇻🇨",group:7},{emoji:"🇻🇪",group:7},{emoji:"🇻🇬",group:7},{emoji:"🇻🇮",group:7},{emoji:"🇻🇳",group:7},{emoji:"🇻🇺",group:7},{emoji:"🇼🇫",group:7},{emoji:"🇼🇸",group:7},{emoji:"🇽🇰",group:7},{emoji:"🇾🇪",group:7},{emoji:"🇾🇹",group:7},{emoji:"🇿🇦",group:7},{emoji:"🇿🇲",group:7},{emoji:"🇿🇼",group:7},{emoji:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",group:7},{emoji:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",group:7},{emoji:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",group:7}];function wi(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function xi(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?wi(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):wi(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var ki=Object(T.c)((function(){var e=Object(N.b)(),t=P(),o=Object(T.b)("insertEmoji");return{root:o(xi({},Object(I.d)(),{display:"flex",alignItems:"center",justifyContent:"center",fontSize:Object(I.F)(e.icon.sizes.default),textAlign:"center",overflow:"hidden",border:0,opacity:e.states.text.opacity,cursor:"pointer",borderRadius:Object(I.F)(3),$nest:xi({},Object(I.g)({allStates:{outline:0},hover:{opacity:1},focus:{opacity:1},active:{opacity:1},accessibleFocus:{backgroundColor:Object(I.h)(e.states.hover.color)}},{".fallBackEmoji":{display:"block",margin:"auto"},".safeEmoji":{display:"block",height:Object(I.F)(e.icon.sizes.default),width:Object(I.F)(e.icon.sizes.default),margin:"auto"}}))})),body:o("body",{height:Object(I.F)(t.emojiBody.height),maxHeight:Object(R.o)(80)}),popoverDescription:o("popoverDescription",{marginBottom:".5em"})}})),Li=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"handleClick",(function(e){e.preventDefault(),e.stopPropagation(),o.props.navigateToGroup(o.props.groupIndex)})),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=F(this.props.legacyMode),t=this.props,o=t.name,n=t.icon,r=(t.groupIndex,t.isSelected),a=Ie()("richEditor-button",{isSelected:r},e.button,e.emojiGroup);return i.a.createElement("button",{type:"button",onClick:this.handleClick,"aria-current":r,"aria-label":Object(me.j)("Jump to emoji category: ")+Object(me.j)(o),title:Object(me.j)(o),className:a},i.a.createElement(jo,{icon:n}),i.a.createElement("span",{className:"sr-only"},Object(me.j)("Jump to emoji category: ")+Object(me.j)(o)))}}]),t}(i.a.Component),Ii=so(function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"emojiChar",void 0),Object(h.a)(Object(_e.a)(o),"quill",void 0),Object(h.a)(Object(_e.a)(o),"domButton",void 0),Object(h.a)(Object(_e.a)(o),"insertEmojiBlot",(function(e){var t=o.quill.getSelection(!0);o.quill.insertEmbed(t.index,"emoji",{emojiChar:o.emojiChar},Q.a.sources.USER),o.quill.setSelection(t.index+1,0,Q.a.sources.SILENT),o.props.closeMenuHandler(e)})),Object(h.a)(Object(_e.a)(o),"handleKeyPress",(function(e){switch(e.key){case"ArrowDown":e.stopPropagation(),e.preventDefault(),o.props.onKeyDown();break;case"ArrowUp":e.stopPropagation(),e.preventDefault(),o.props.onKeyUp();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),o.props.onKeyRight();break;case"ArrowLeft":e.stopPropagation(),e.preventDefault(),o.props.onKeyLeft()}})),o.emojiChar=e.emojiData.emoji,o.quill=e.quill,o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=ki(),o=Ie()("richEditor-insertEmoji",t.root,"emojiChar-"+this.emojiChar);return i.a.createElement("button",{ref:function(t){e.domButton=t},onKeyDown:this.handleKeyPress,style:this.props.style,className:o,type:"button",onClick:this.insertEmojiBlot},i.a.createElement("span",{className:"safeEmoji",dangerouslySetInnerHTML:{__html:Object(n.d)(this.emojiChar)}}))}},{key:"componentDidUpdate",value:function(){this.checkFocus()}},{key:"componentDidMount",value:function(){this.checkFocus()}},{key:"checkFocus",value:function(){this.domButton&&this.props.activeIndex===this.props.index&&this.domButton.focus()}}]),t}(i.a.Component)),Ni=o(42);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function Ti(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ri(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ti(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ti(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var Ai=Object(T.c)((function(){var e=P(),t=Object(T.b)("richEditorFlyout"),o=Object(Ni.a)(),n=Object(N.b)(),r=t(Ri({},o.dropDown(),{position:"absolute",left:Object(I.F)(0),width:Object(I.F)(e.richEditorWidth+2*e.emojiBody.padding.horizontal),zIndex:6,overflow:"hidden",backgroundColor:Object(I.h)(e.colors.bg)},Object(I.f)(),{$nest:{"&& .ReactVirtualized__Grid":{width:Object(R.f)(Object(I.F)(e.richEditorWidth))}}})),i=t("header",Ri({position:"relative",borderBottom:Object(I.z)()},Object(I.v)(e.emojiHeader.padding))),a=t("title",Ri({display:"flex",alignItems:"center"},Object(I.q)(),{margin:0,maxWidth:Object(R.b)("100% - ".concat(Object(I.F)(e.menuButton.size))),minHeight:e.menuButton.size-e.emojiBody.padding.horizontal,fontSize:Object(R.h)(100),lineHeight:"inherit",color:Object(I.h)(n.mainColors.fg),$nest:{"&:focus":{outline:0}}}));return{root:r,header:i,body:t("body",Ri({},Object(I.v)(e.emojiBody.padding),{width:Object(I.F)(e.richEditorWidth+2*e.emojiBody.padding.horizontal)})),footer:t("footer",{borderTop:Object(I.z)()}),title:a}})),Mi=so(function(e){function t(e){var o;return Object(H.a)(this,t),(o=Object(G.a)(this,Object(W.a)(t).call(this,e))).state={id:e.id,descriptionID:e.descriptionID,titleID:e.titleID},o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e,t=this.props.additionalClassRoot,o=F(this.props.legacyMode),n=Ai(),r=Ie()("richEditor-menu","richEditorFlyout",n.root,(e={},Object(h.a)(e,t,!!t),Object(h.a)(e,"isHidden",!this.props.isVisible),e));r+=this.props.className?" ".concat(this.props.className):"";var a=Ie()("richEditorFlyout-header",n.header,this.props.headerClass,Object(h.a)({},t+"-header",!!t)),s=Ie()("richEditorFlyout-body",n.body,this.props.bodyClass,Object(h.a)({},t+"-body",!!t)),l=Ie()("richEditorFlyout-footer",n.footer,this.props.footerClass,Object(h.a)({},t+"-footer",!!t)),c=this.props.alertMessage?i.a.createElement("span",{"aria-live":"assertive",role:"alert",className:"sr-only"},this.props.alertMessage):null,u=this.props.accessibleDescription?i.a.createElement("div",{id:this.state.descriptionID,className:"sr-only"},this.props.accessibleDescription):null;return i.a.createElement("div",{id:this.state.id,"aria-describedby":this.state.descriptionID,"aria-labelledby":this.state.titleID,className:r,role:"dialog","aria-hidden":!this.props.isVisible,style:Object(vo.a)(!!this.props.renderAbove,!!this.props.renderLeft,this.props.legacyMode)},c,i.a.createElement("div",{className:a},i.a.createElement("h2",{id:this.props.titleID,tabIndex:-1,className:Ie()("richEditorFlyout-title",n.title),ref:this.props.titleRef},this.props.title),u,i.a.createElement(Co.a,{baseClass:D.a.ICON,onClick:this.props.onCloseClick,className:Ie()("richEditor-close",o.close)}),this.props.additionalHeaderContent&&this.props.additionalHeaderContent),i.a.createElement("div",{className:s},this.props.body&&this.props.body),i.a.createElement("div",{className:l},this.props.footer&&this.props.footer))}}]),t}(i.a.Component)),Pi=P().sizing.emojiSize,Di=8,zi=8,Bi={},Fi={};
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */Ei.forEach((function(e,t){var o=e.group;o in Bi||(Bi[o]=Math.floor(t/Di),Fi[o]=t)}));var qi=Ei.length-1,Hi=so(function(e){function t(e){var o;return Object(H.a)(this,t),o=Object(G.a)(this,Object(W.a)(t).call(this,e)),Object(h.a)(Object(_e.a)(o),"categoryPickerID",void 0),Object(h.a)(Object(_e.a)(o),"gridEl",void 0),Object(h.a)(Object(_e.a)(o),"lastRowIndex",o.getRowFromIndex(Ei.length)),Object(h.a)(Object(_e.a)(o),"handleOnSectionRendered",(function(e){var t=e.rowStartIndex,n=0;Object.values(Bi).map((function(e,o){t>=e&&(n=o)})),o.setState({rowStartIndex:e.rowStartIndex,selectedGroupIndex:n,alertMessage:Object(me.j)("In emoji category: ")+Object(me.j)(_i[n].name),title:Object(me.j)(_i[n].name)})})),Object(h.a)(Object(_e.a)(o),"scrollToCategory",(function(e){var t=Fi[e];o.setState({activeIndex:t,scrollToRow:o.getRowFromIndex(t),alertMessage:Object(me.j)("Jumped to emoji category: ")+Object(me.j)(_i[e].name)})})),Object(h.a)(Object(_e.a)(o),"cellRenderer",(function(e){var t=e.columnIndex,n=e.rowIndex,r=e.style,a=n*zi+t,s=Ei[a];return s?i.a.createElement(Ii,{activeIndex:o.state.activeIndex,style:r,closeMenuHandler:o.props.closeMenuHandler,key:"emoji-".concat(a,"-").concat(s.emoji),emojiData:s,index:a,onKeyUp:o.jumpRowUp,onKeyDown:o.jumpRowDown,onKeyLeft:o.jumpIndexLeft,onKeyRight:o.jumpIndexRight}):null})),Object(h.a)(Object(_e.a)(o),"focusOnCategories",(function(){var e=document.getElementById(o.categoryPickerID);if(e){var t=e.querySelector(".richEditor-button");t instanceof HTMLElement&&t.focus()}})),Object(h.a)(Object(_e.a)(o),"jumpIndex",(function(e){var t,n=o.keepEmojiIndexInBounds(o.state.activeIndex+e),r=o.getRowFromIndex(n);r>=o.state.rowStartIndex+zi?t=o.keepRowIndexInBounds(r-zi+1):r<o.state.rowStartIndex&&(t=r),o.setState({activeIndex:n,scrollToRow:t},(function(){o.gridEl.forceUpdate()}))})),Object(h.a)(Object(_e.a)(o),"jumpRowDown",(function(){o.jumpIndex(Di)})),Object(h.a)(Object(_e.a)(o),"jumpRowUp",(function(){o.jumpIndex(-Di)})),Object(h.a)(Object(_e.a)(o),"jumpIndexRight",(function(){o.jumpIndex(1)})),Object(h.a)(Object(_e.a)(o),"jumpIndexLeft",(function(){o.jumpIndex(-1)})),Object(h.a)(Object(_e.a)(o),"handleKeyDown",(function(e){if(o.props.isVisible)switch(e.code){case"PageUp":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(-zi*Di);break;case"PageDown":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(zi*Di);break;case"Home":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(-qi),e.stopImmediatePropagation();break;case"End":e.preventDefault(),e.stopImmediatePropagation(),o.jumpIndex(qi)}})),o.state={id:e.id,contentID:e.contentID,activeIndex:0,title:Object(me.j)("Emojis"),scrollToRow:0,rowStartIndex:0,selectedGroupIndex:0},o.categoryPickerID="emojiPicker-categories-"+e.editorID,o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=[Object(me.j)("Insert an emoji in your message."),Object(me.j)("richEditor.emoji.pagingInstructions")].join(" "),o=Ci(),n=ki(),r=F(this.props.legacyMode),a=i.a.createElement("button",{type:"button",className:"accessibility-jumpTo",onClick:this.focusOnCategories},Object(me.j)("Jump past emoji list, to emoji categories.")),s=i.a.createElement("div",{id:this.categoryPickerID,className:Ie()("emojiGroups",o.root),"aria-label":Object(me.j)("Emoji Categories"),tabIndex:-1},Object.values(_i).map((function(t,o){var n=t.name,r=t.icon,a=e.state.selectedGroupIndex===o;return i.a.createElement(Li,{key:o,name:n,icon:r,isSelected:a,navigateToGroup:e.scrollToCategory,groupIndex:o,legacyMode:e.props.legacyMode})}))),l=i.a.createElement(lr,null,(function(t){var o=t.height,n=t.width;return i.a.createElement(or,{containerRole:"",cellRenderer:e.cellRenderer,columnCount:Di,columnWidth:Pi,rowCount:e.lastRowIndex+1,rowHeight:Pi,height:o,width:n,overscanRowCount:20,tabIndex:-1,scrollToAlignment:"start",scrollToRow:e.state.scrollToRow,"aria-readonly":void 0,"aria-label":"",role:"",onSectionRendered:e.handleOnSectionRendered,ref:function(t){e.gridEl=t}})}));return i.a.createElement(Mi,{id:this.state.id,descriptionID:this.descriptionID,titleID:this.titleID,title:this.state.title,titleRef:this.props.titleRef,accessibleDescription:t,alertMessage:this.state.alertMessage,additionalHeaderContent:a,body:l,footer:s,additionalClassRoot:"insertEmoji",onCloseClick:this.props.closeMenuHandler,isVisible:this.props.isVisible,renderAbove:this.props.renderAbove,renderLeft:this.props.renderLeft,bodyClass:n.body,className:this.props.legacyMode?"":r.flyoutOffset})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"getRowFromIndex",value:function(e){return Math.floor(e/Di)}},{key:"keepRowIndexInBounds",value:function(e){return e<0?0:e>this.lastRowIndex-1?this.lastRowIndex-1:e}},{key:"keepEmojiIndexInBounds",value:function(e){return e<0?0:e>qi?qi:e}},{key:"descriptionID",get:function(){return this.state.id+"-description"}},{key:"titleID",get:function(){return this.state.id+"-title"}}]),t}(i.a.PureComponent)),Ui=function(e){function t(){var e,o;Object(H.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o=Object(G.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(r))),Object(h.a)(Object(_e.a)(o),"titleRef",i.a.createRef()),Object(h.a)(Object(_e.a)(o),"id",Object(g.c)("emojiPopover")),o}return Object(K.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this,t=F(this.props.legacyMode);return i.a.createElement(pn.a,{id:this.id,className:"emojiPicker",buttonClassName:Ie()("richEditor-button","richEditor-embedButton",t.button),onVisibilityChange:b.c,disabled:this.props.disabled,name:Object(me.j)("Emoji Picker"),buttonContents:i.a.createElement(jo,{icon:i.a.createElement(De,null)}),buttonBaseClass:D.a.ICON,renderAbove:this.props.renderAbove,renderLeft:this.props.renderLeft,openAsModal:!1,initialFocusElement:this.titleRef.current},(function(t){return i.a.createElement(Hi,Object(ao.a)({},t,{titleRef:e.titleRef,renderAbove:e.props.renderAbove,renderLeft:e.props.renderLeft,contentID:t.id}))}))}}]),t}(i.a.Component),Gi=o(154),Wi=o(58),Vi=o(79),Ki=o(155);
/**
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function Yi(e){var t=Object(Vi.a)();return i.a.createElement("section",{className:Ie()("frame",e.className,t.root,e.canGrow&&Object(I.p)())},e.header&&i.a.createElement("div",{className:t.headerWrap}," ",e.header),i.a.createElement(Ki.TouchScrollable,null,i.a.createElement("div",{className:t.bodyWrap},e.body)),i.a.createElement("div",{className:t.footerWrap},e.footer))}var Zi=o(177),$i=o(176);function Xi(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}
/*
 * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var Qi=Object(T.c)((function(){var e=Object(N.b)(),t=P(),o=Object(T.b)("insertMedia"),n=o(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Xi(o,!0).forEach((function(t){Object(h.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Xi(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({display:"flex",alignItems:"center",justifyContent:"flex-end"},Object(I.v)({left:t.flyout.padding.horizontal,right:t.flyout.padding.horizontal,bottom:t.flyout.padding.vertical}))),r=o("help",{marginRight:"auto",fontSize:Object(I.F)(e.fonts.size.small)}),i=o("insert",{$nest:{"&&":{width:Object(R.h)(100),position:"relative",marginBottom:Object(R.i)(10)}}}),a=o("button",{position:"relative",marginLeft:"auto"});return{root:n,help:r,insert:i,footer:o("footer",{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:0}),button:a}}));
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function Ji(e){var t=f(),o=t.quill,n=t.legacyMode,a=Object(r.useRef)(null),s=Object(r.useMemo)((function(){return o&&o.getModule("embed/insertion")}),[o]),l=Object(r.useMemo)((function(){return Object(g.c)("embedPopover")}),[]),c=l+"-title",u=l+"-description",h=Object(r.useState)(!1),d=Object(p.a)(h,2),m=d[0],b=d[1],v=Object(r.useState)(""),j=Object(p.a)(v,2),y=j[0],O=j[1],S=function(e){return e.match(/^https?:\/\//)?e:"http://"+e},C=function(){O(""),s.scrapeMedia(S(y))};Object(r.useEffect)((function(){b(Object(me.e)(y))}),[y]);var _=F(n),E=Qi();return i.a.createElement(i.a.Fragment,null,i.a.createElement(Gi.b,{id:l,name:Object(me.j)("Insert Media"),buttonClassName:Ie()("richEditor-button","richEditor-embedButton",_.button),title:Object(me.j)("Insert Media"),onVisibilityChange:function(e){e&&a.current&&a.current.focus()},disabled:e.disabled,buttonContents:i.a.createElement(jo,{icon:i.a.createElement(Ve,null)}),buttonBaseClass:D.a.CUSTOM,renderAbove:!!e.renderAbove,renderLeft:!!e.renderLeft,initialFocusElement:a.current,flyoutType:Gi.a.FRAME,contentsClassName:n?"":_.flyoutOffset},i.a.createElement(Yi,{body:i.a.createElement(Zi.a,null,i.a.createElement("p",{className:Object(M.e)({marginTop:6,marginBottom:6})},Object(me.j)("Paste the URL of the media you want.")),i.a.createElement("input",{className:Ie()("InputBox",E.insert,{inputText:!n}),placeholder:"https://",value:y,onChange:function(e){O(S(e.target.value))},onKeyDown:function(e){ut.a.match(e.nativeEvent,"enter")&&(e.preventDefault(),e.stopPropagation(),m&&C())},"aria-labelledby":c,"aria-describedby":u,ref:a})),footer:i.a.createElement($i.a,null,i.a.createElement(Wi.a,{className:Ie()("insertMedia-insert",E.button),baseClass:D.a.TEXT_PRIMARY,disabled:!m,onClick:function(e){e.preventDefault(),C()}},Object(me.j)("Insert")))})))}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function ea(e){var t=f(),o=t.isMobile,n=t.isLoading,r=t.legacyMode;if(!t.quill)return null;var a=Object(me.d)("upload.allowedExtensions"),s=F(r);return i.a.createElement("div",{ref:e.contentRef,className:Ie()("richEditor-embedBar",e.className,s.embedBar)},i.a.createElement("ul",{className:Ie()("richEditor-menuItems","richEditor-inlineMenuItems",s.menuItems),role:"menubar","aria-label":Object(me.j)("Inline Level Formatting Menu")},o&&i.a.createElement("li",{className:Ie()("richEditor-menuItem",s.menuItem),role:"menuitem"},i.a.createElement(rn,{renderAbove:r,disabled:n,mobile:!0})),!o&&i.a.createElement("li",{className:Ie()("richEditor-menuItem","u-richEditorHiddenOnMobile",s.menuItem),role:"menuitem"},i.a.createElement(Ui,{disabled:n,renderAbove:r,legacyMode:r})),i.a.createElement(un,{permission:"uploads.add"},i.a.createElement("li",{className:Ie()("richEditor-menuItem",s.menuItem),role:"menuitem"},i.a.createElement(hn,{disabled:n,type:"image",allowedMimeTypes:a}))),i.a.createElement("li",{className:Ie()("richEditor-menuItem",s.menuItem),role:"menuitem"},i.a.createElement(Ji,{disabled:n,renderAbove:r})),i.a.createElement(un,{permission:"uploads.add"},i.a.createElement("li",{className:Ie()("richEditor-menuItem",s.menuItem),role:"menuitem"},i.a.createElement(hn,{disabled:n,type:"file",allowedMimeTypes:a})))))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */function ta(e){var t=Object(u.a)(),o=F(!0);Object(g.d)("embedOptions");return i.a.createElement(No.a,{store:t},i.a.createElement(m.a,null,i.a.createElement(x,{isPrimaryEditor:!0,legacyMode:!0,allowUpload:s("uploads.add"),isLoading:!1},i.a.createElement("div",{className:Ie()("richEditor-frame","InputBox",o.legacyFrame,o.root)},i.a.createElement(ro,{legacyTextArea:e.legacyTextArea}),i.a.createElement(an,null),i.a.createElement(qo,null),i.a.createElement(ea,null)))))}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function oa(e){var t=Object(n.f)(e),o=t.closest("form").querySelector(".BodyBox");if(!o)throw new Error("Could not find the BodyBox to mount editor to.");var r=o.getAttribute("format")||"Rich";if("Rich"!==r)throw new Error("Unsupported initial editor format ".concat(r));Object(to.a)(i.a.createElement(ta,{legacyTextArea:o}),t,(function(){t.classList.remove("isDisabled")}))}o.d(t,"default",(function(){return oa}))},function(e,t,o){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=9)}([function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var o=this;return t="[Parchment] "+t,(o=e.call(this,t)||this).message=t,o.name=o.constructor.name,o}return r(t,e),t}(Error);t.ParchmentError=i;var a,s={},l={},c={},u={};function h(e,t){var o;if(void 0===t&&(t=a.ANY),"string"==typeof e)o=u[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)o=u.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?o=u.block:e&a.LEVEL&a.INLINE&&(o=u.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var r in n)if(o=l[n[r]])break;o=o||c[e.tagName]}return null==o?null:t&a.LEVEL&o.scope&&t&a.TYPE&o.scope?o:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var o=h(e);if(null==o)throw new i("Unable to create "+e+" blot");var n=o,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(r,t)},t.find=function e(o,n){return void 0===n&&(n=!1),null==o?null:null!=o[t.DATA_KEY]?o[t.DATA_KEY].blot:n?e(o.parentNode,n):null},t.query=h,t.register=function e(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return u[n.blotName||n.attrName]=n,"string"==typeof n.keyName?s[n.keyName]=n:(null!=n.className&&(l[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=c[e]&&null!=n.className||(c[e]=n)})))),n}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=function(){function e(e,t,o){void 0===o&&(o={}),this.attrName=e,this.keyName=t;var r=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=o.scope?this.scope=o.scope&n.Scope.LEVEL|r:this.scope=n.Scope.ATTRIBUTE,null!=o.whitelist&&(this.whitelist=o.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),a=o(5),s=o(0),l=function(e){function t(t){var o=e.call(this,t)||this;return o.build(),o}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var o=c(t);e.insertBefore(o,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,o){e.deleteAt(t,o)}))},t.prototype.descendant=function(e,o){var n=this.children.find(o),r=n[0],i=n[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,i]:r instanceof t?r.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,o,n){void 0===o&&(o=0),void 0===n&&(n=Number.MAX_VALUE);var r=[],i=n;return this.children.forEachAt(o,n,(function(o,n,a){(null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e)&&r.push(o),o instanceof t&&(r=r.concat(o.descendants(e,n,i))),i-=a})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,o,n){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,o,n)}))},t.prototype.insertAt=function(e,t,o){var n=this.children.find(e),r=n[0],i=n[1];if(r)r.insertAt(i,t,o);else{var a=null==o?s.create("text",t):s.create(t,o);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(o){e.insertBefore(o,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var o=s.create(this.statics.defaultChild);this.appendChild(o),o.optimize(t)}else this.remove()},t.prototype.path=function(e,o){void 0===o&&(o=!1);var n=this.children.find(e,o),r=n[0],i=n[1],a=[[this,e]];return r instanceof t?a.concat(r.path(i,o)):(null!=r&&a.push([r,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(o){o instanceof t&&o.moveChildren(this),e.prototype.replace.call(this,o)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(e,this.length(),(function(e,n,r){e=e.split(n,t),o.appendChild(e)})),o},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var o=this,n=[],r=[];e.forEach((function(e){e.target===o.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==o.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==o.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var n=c(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(o),o.insertBefore(n,t||void 0))}))},t}(a.default);function c(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(o){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),a=o(6),s=o(2),l=o(0),c=function(e){function t(t){var o=e.call(this,t)||this;return o.attributes=new a.default(o.domNode),o}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var o=l.query(e);o instanceof i.default?this.attributes.attribute(o,t):t&&(null==o||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,o){var n=e.prototype.replaceWith.call(this,t,o);return this.attributes.copy(n),n},t.prototype.update=function(t,o){var n=this;e.prototype.update.call(this,t,o),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(o,n){var r=e.prototype.wrap.call(this,o,n);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=c},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(5),a=o(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(o+=1),[this.parent.domNode,o]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,o,r){var i=this.isolate(e,t);if(null!=n.query(o,n.Scope.BLOT)&&r)i.wrap(o,r);else if(null!=n.query(o,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(o,r)}},e.prototype.insertAt=function(e,t,o){var r=null==o?n.create("text",t):n.create(t,o),i=this.split(e);this.parent.insertBefore(r,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var o=null;e.children.insertBefore(this,t),null!=t&&(o=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==o||e.domNode.insertBefore(this.domNode,o),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var o=this.split(e);return o.split(t),o},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var o="string"==typeof e?n.create(e,t):e;return o.replace(this),o},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var o="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},e.blotName="abstract",e}();t.default=r},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),r=o(7),i=o(8),a=o(0),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),o=r.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(o).concat(s).forEach((function(t){var o=a.query(t,a.Scope.ATTRIBUTE);o instanceof n.default&&(e.attributes[o.attrName]=o)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(o){var n=t.attributes[o].value(t.domNode);e.format(o,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,o){return t[o]=e.attributes[o].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(o(1).default);t.default=a},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function i(e){var t=e.split("-"),o=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+o}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(o(1).default);t.default=a},function(e,t,o){e.exports=o(10)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),r=o(3),i=o(4),a=o(12),s=o(13),l=o(14),c=o(15),u=o(16),h=o(1),p=o(7),d=o(8),f=o(6),m=o(0),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:n.default,Format:r.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:h.default,Class:p.default,Style:d.default,Store:f.default}};t.default=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,o=this.iterator();t=o();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,o=this.head;null!=o;){if(o===e)return t;t+=o.length(),o=o.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var o,n=this.iterator();o=n();){var r=o.length();if(e<r||t&&e===r&&(null==o.next||0!==o.next.length()))return[o,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,o=this.iterator();t=o();)e(t)},e.prototype.forEachAt=function(e,t,o){if(!(t<=0))for(var n,r=this.find(e),i=r[0],a=e-r[1],s=this.iterator(i);(n=s())&&a<e+t;){var l=n.length();e>a?o(n,e-a,Math.min(t,a+l-e)):o(n,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,o){return t.push(e(o)),t}),[])},e.prototype.reduce=function(e,t){for(var o,n=this.iterator();o=n();)t=e(t,o);return t},e}();t.default=n},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),a=o(0),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var o=e.call(this,t)||this;return o.scroll=o,o.observer=new MutationObserver((function(e){o.update(e)})),o.observer.observe(o.domNode,s),o.attach(),o}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,o){this.update(),0===t&&o===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,o)},t.prototype.formatAt=function(t,o,n,r){this.update(),e.prototype.formatAt.call(this,t,o,n,r)},t.prototype.insertAt=function(t,o,n){this.update(),e.prototype.insertAt.call(this,t,o,n)},t.prototype.optimize=function(t,o){var n=this;void 0===t&&(t=[]),void 0===o&&(o={}),e.prototype.optimize.call(this,o);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(o))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof i.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),r=(c=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,o){var n=this;void 0===o&&(o={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],o)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,o),this.optimize(t,o)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=l},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),a=o(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(o){if(o.tagName!==t.tagName)return e.formats.call(this,o)},t.prototype.format=function(o,n){var r=this;o!==this.statics.blotName||n?e.prototype.format.call(this,o,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,o,n,r){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,o).format(n,r):e.prototype.formatAt.call(this,t,o,n,r)},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(e[o]!==t[o])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=s},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),a=o(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(o){var n=a.query(t.blotName).tagName;if(o.tagName!==n)return e.formats.call(this,o)},t.prototype.format=function(o,n){null!=a.query(o,a.Scope.BLOCK)&&(o!==this.statics.blotName||n?e.prototype.format.call(this,o,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,o,n,r){null!=a.query(n,a.Scope.BLOCK)?this.format(n,r):e.prototype.formatAt.call(this,t,o,n,r)},t.prototype.insertAt=function(t,o,n){if(null==n||null!=a.query(o,a.Scope.INLINE))e.prototype.insertAt.call(this,t,o,n);else{var r=this.split(t),i=a.create(o,n);r.parent.insertBefore(i,r)}},t.prototype.update=function(t,o){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,o)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=s},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,o){e.prototype.formatAt.call(this,0,this.length(),t,o)},t.prototype.formatAt=function(t,o,n,r){0===t&&o===this.length()?this.format(n,r):e.prototype.formatAt.call(this,t,o,n,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(o(4).default);t.default=i},function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),a=o(0),s=function(e){function t(t){var o=e.call(this,t)||this;return o.text=o.statics.value(o.domNode),o}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,o,n){null==n?(this.text=this.text.slice(0,t)+o+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,o,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(o){e.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var o=a.create(this.domNode.splitText(e));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},t.prototype.update=function(e,t){var o=this;e.some((function(e){return"characterData"===e.type&&e.target===o.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=s}])},e.exports=n()},function(e,t,o){"use strict";var n=o(10);function r(e,t,o){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(o):i.value}})(e,t,o||e)}o.d(t,"a",(function(){return r}))},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,o){"use strict";t.__esModule=!0;var n,r=o(447),i=(n=r)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}()},function(e,t){var o=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=o)},function(e,t,o){"use strict";var n=o(359),r=o.n(n),i=o(403),a=o(372),s=o(405),l=o(397),c=o(439),u=o(389),h=o(378),p=o(20),d=o(8),f=o(9),m=o(11),g=o(10),b=o(360),v=o(12),j=o(388),y=o(382);function O(e){return e instanceof a.c||e instanceof a.a}var S=function(e){function t(e,o){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(g.a)(t).call(this,e))).emitter=o.emitter,Array.isArray(o.whitelist)&&(n.whitelist=o.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,o){var n=this.line(e),r=Object(p.a)(n,2),i=r[0],l=r[1],c=this.line(e+o),u=Object(p.a)(c,1)[0];if(Object(b.a)(Object(g.a)(t.prototype),"deleteAt",this).call(this,e,o),null!=u&&i!==u&&l>0){if(i instanceof a.a||u instanceof a.a)return void this.optimize();if(i instanceof y.b){var h=i.newlineIndex(i.length(),!0);if(h>-1&&(i=i.split(h+1))===u)return void this.optimize()}else if(u instanceof y.b){var d=u.newlineIndex(0);d>-1&&u.split(d+1)}var f=u.children.head instanceof s.a?null:u.children.head;i.moveChildren(u,f),i.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,o,n,r){(null==this.whitelist||this.whitelist[n])&&(Object(b.a)(Object(g.a)(t.prototype),"formatAt",this).call(this,e,o,n,r),this.optimize())}},{key:"insertAt",value:function(e,o,n){if(null==n||null==this.whitelist||this.whitelist[o]){if(e>=this.length())if(null==n||null==r.a.query(o,r.a.Scope.BLOCK)){var i=r.a.create(this.statics.defaultChild);this.appendChild(i),null==n&&o.endsWith("\n")&&(o=o.slice(0,-1)),i.insertAt(0,o,n)}else{var a=r.a.create(o,n);this.appendChild(a)}else Object(b.a)(Object(g.a)(t.prototype),"insertAt",this).call(this,e,o,n);this.optimize()}}},{key:"insertBefore",value:function(e,o){if(e.statics.scope===r.a.Scope.INLINE_BLOT){var n=r.a.create(this.statics.defaultChild);n.appendChild(e),e=n}Object(b.a)(Object(g.a)(t.prototype),"insertBefore",this).call(this,e,o)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(O,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,o=function e(t,o,n){var i=[],a=n;return t.children.forEachAt(o,n,(function(t,o,n){O(t)?i.push(t):t instanceof r.a.Container&&(i=i.concat(e(t,o,a))),a-=n})),i};return o(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(Object(b.a)(Object(g.a)(t.prototype),"optimize",this).call(this,e,o),e.length>0&&this.emitter.emit(j.a.events.SCROLL_OPTIMIZE,e,o))}},{key:"path",value:function(e){return Object(b.a)(Object(g.a)(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var o=j.a.sources.USER;"string"==typeof e&&(o=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(j.a.events.SCROLL_BEFORE_UPDATE,o,e),Object(b.a)(Object(g.a)(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(j.a.events.SCROLL_UPDATE,o,e)}}}]),t}(r.a.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[a.c,a.a,l.a];var C=S,_=o(383),E=o(465),w=o(441),x=o(390);i.a.register({"blots/block":a.c,"blots/block/embed":a.a,"blots/break":s.a,"blots/container":l.a,"blots/cursor":c.a,"blots/embed":u.a,"blots/inline":h.a,"blots/scroll":C,"blots/text":_.a,"modules/clipboard":E.a,"modules/history":w.a,"modules/keyboard":x.a}),r.a.register(a.c,s.a,c.a,h.a,C,_.a);t.a=i.a},function(e,t,o){e.exports={default:o(683),__esModule:!0}},function(e,t,o){"use strict";t.__esModule=!0;var n,r=o(448),i=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,o){"use strict";t.__esModule=!0;var n=a(o(706)),r=a(o(710)),i=a(o(448));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t){var o=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},function(e,t,o){var n=o(419)("wks"),r=o(408),i=o(368).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:r)("Symbol."+e))}).store=n},function(e,t,o){"use strict";o.d(t,"l",(function(){return g})),o.d(t,"b",(function(){return b})),o.d(t,"j",(function(){return v})),o.d(t,"n",(function(){return j})),o.d(t,"g",(function(){return y})),o.d(t,"h",(function(){return O})),o.d(t,"i",(function(){return S})),o.d(t,"d",(function(){return C})),o.d(t,"e",(function(){return w})),o.d(t,"f",(function(){return x})),o.d(t,"k",(function(){return k})),o.d(t,"a",(function(){return L})),o.d(t,"c",(function(){return I})),o.d(t,"m",(function(){return N}));var n=o(2),r=o(20),i=o(388),a=o(364),s=o(371),l=o.n(s),c=o(16),u=(o(165),o(391)),h=o(372),p=o(376),d=o(392),f=o(406);
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
function m(e){if(e)return{start:e.index,end:e.index+e.length-1}}function g(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null===o&&(o=e.getSelection()),!!o&&(o.length>0?e.scroll.descendants(t,o.index,o.length).length>0:!!e.scroll.descendant(t,o.index)[0])}function b(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===o&&(o=e.getSelection());var n=e.scroll.descendants(t,o.index,o.length),r=n[0],a=n[n.length-1],s=function(e,t,o){var n=m(e),r=m(t),i=m(o);return n&&r&&r.start<n.start&&(n.start=r.start),n&&i&&i.end>n.end&&(n.end=i.end),function(e){if(e)return{index:e.start,length:e.end-e.start+1}}(n)}(o,r&&{index:r.offset(e.scroll),length:r.length()},a&&{index:a.offset(e.scroll),length:a.length()});s&&e.formatText(s.index,s.length,"link",!1,i.a.sources.USER)}function v(e,t){return function e(t,o){return!(!o.children||!o.children.head)&&(t===o.children.head||e(t,o.children.head))}(e,t.scroll)}function j(e){var t=e.getLine(0),o=Object(r.a)(t,1)[0],a=o.constructor.blotName,s=(new l.a).retain(o.length(),Object(n.a)({},a,!1));e.updateContents(s,i.a.sources.USER)}function y(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.getLine(t.index),a=Object(r.a)(n,2),s=a[0],c=a[1],u=new h.c(h.c.create("")),p=s.next;u.insertInto(e.scroll,p);var d=t.index+s.length()-c,f=(new l.a).retain(d-o).delete(o);e.updateContents(f,i.a.sources.USER),e.setSelection(d-o,i.a.sources.USER)}function O(e){var t=new h.c(h.c.create(""));e.scroll.appendChild(t),e.update(a.a.sources.USER),e.setSelection(e.scroll.length(),0)}function S(e){var t=new h.c(h.c.create(""));e.scroll.insertBefore(t,e.scroll.children.head),e.update(a.a.sources.USER),e.setSelection(0,0)}function C(e,t,o){var n=o?function(e){return e instanceof o}:function(e){return!0};return e.scroll.descendant(n,t)[0]}var _=1,E=[p.a,d.a,f.a];function w(e,t){if(!t)return null;if(t.length>0)return null;var o=!0,n=!1,i=void 0;try{for(var a,s=E[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){if(g(e,a.value,t))return null}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}var l=e.getLeaf(t.index),u=Object(r.a)(l,1)[0].offset(e.scroll),h=t.index-u,p=e.getText(u,h),d=p.lastIndexOf("@");if(-1===d)return null;var f=u+d,m=p.substring(d);return m.length-1>=_&&Object(c.h)(m,!1,!1)?{index:f,length:m.length}:null}new Map;function x(e,t,o){var n=e.getLine(t)[0],r=n.offset(e.scroll),i=n.split(t-r);n.parent.insertBefore(o,i||void 0)}function k(e,t){return!!t&&!!C(e,t.index,u.a)}var L="[editor] force selection update";function I(){document.dispatchEvent(new CustomEvent(L))}function N(e,t){Object(c.e)("Setting existing content as contents of editor"),e.setContents(t),e.getModule("history").clear()}},function(e,t,o){var n=o(655),r=o(396),i=o(381),a=o(404),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var o={};return 0===e.length?this:(o.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(o.attributes=t),this.push(o))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var o={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(o.attributes=t),this.push(o)},l.prototype.push=function(e){var t=this.ops.length,o=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof o){if("number"==typeof e.delete&&"number"==typeof o.delete)return this.ops[t-1]={delete:o.delete+e.delete},this;if("number"==typeof o.delete&&null!=e.insert&&(t-=1,"object"!=typeof(o=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,o.attributes)){if("string"==typeof e.insert&&"string"==typeof o.insert)return this.ops[t-1]={insert:o.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof o.retain)return this.ops[t-1]={retain:o.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],o=[];return this.forEach((function(n){(e(n)?t:o).push(n)})),[t,o]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var o=[],n=a.iterator(this.ops),r=0;r<t&&n.hasNext();){var i;r<e?i=n.next(e-r):(i=n.next(t-r),o.push(i)),r+=a.length(i)}return new l(o)},l.prototype.compose=function(e){var t=a.iterator(this.ops),o=a.iterator(e.ops),n=[],i=o.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),n.push(t.next());i.retain-s>0&&o.next(i.retain-s)}for(var c=new l(n);t.hasNext()||o.hasNext();)if("insert"===o.peekType())c.push(o.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),o.peekLength()),h=t.next(u),p=o.next(u);if("number"==typeof p.retain){var d={};"number"==typeof h.retain?d.retain=u:d.insert=h.insert;var f=a.attributes.compose(h.attributes,p.attributes,"number"==typeof h.retain);if(f&&(d.attributes=f),c.push(d),!o.hasNext()&&r(c.ops[c.ops.length-1],d)){var m=new l(t.rest());return c.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof h.retain&&c.push(p)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var o=[this,e].map((function(t){return t.map((function(o){if(null!=o.insert)return"string"==typeof o.insert?o.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new l,c=n(o[0],o[1],t),u=a.iterator(this.ops),h=a.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var o=0;switch(e[0]){case n.INSERT:o=Math.min(h.peekLength(),t),i.push(h.next(o));break;case n.DELETE:o=Math.min(t,u.peekLength()),u.next(o),i.delete(o);break;case n.EQUAL:o=Math.min(u.peekLength(),h.peekLength(),t);var s=u.next(o),l=h.next(o);r(s.insert,l.insert)?i.retain(o,a.attributes.diff(s.attributes,l.attributes)):i.push(l).delete(o)}t-=o}})),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var o=a.iterator(this.ops),n=new l,r=0;o.hasNext();){if("insert"!==o.peekType())return;var i=o.peek(),s=a.length(i)-o.peekLength(),c="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(c<0)n.push(o.next());else if(c>0)n.push(o.next(c));else{if(!1===e(n,o.next(1).attributes||{},r))return;r+=1,n=new l}}n.length()>0&&e(n,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var o=a.iterator(this.ops),n=a.iterator(e.ops),r=new l;o.hasNext()||n.hasNext();)if("insert"!==o.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())r.push(n.next());else{var i=Math.min(o.peekLength(),n.peekLength()),s=o.next(i),c=n.next(i);if(s.delete)continue;c.delete?r.push(c):r.retain(i,a.attributes.transform(s.attributes,c.attributes,t))}else r.retain(a.length(o.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var o=a.iterator(this.ops),n=0;o.hasNext()&&n<=e;){var r=o.peekLength(),i=o.peekType();o.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=r),n+=r):e-=Math.min(r,e-n)}return e},e.exports=l},function(e,t,o){"use strict";o.d(t,"b",(function(){return y})),o.d(t,"a",(function(){return v})),o.d(t,"c",(function(){return j}));var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(381),u=o.n(c),h=o(371),p=o.n(h),d=o(359),f=o.n(d),m=o(405),g=o(378),b=o(383),v=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"attach",value:function(){Object(s.a)(Object(a.a)(t.prototype),"attach",this).call(this),this.attributes=new f.a.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new p.a).insert(this.value(),u()(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var o=f.a.query(e,f.a.Scope.BLOCK_ATTRIBUTE);null!=o&&this.attributes.attribute(o,t)}},{key:"formatAt",value:function(e,t,o,n){this.format(o,n)}},{key:"insertAt",value:function(e,o,n){if("string"==typeof o&&o.endsWith("\n")){var r=f.a.create(j.blotName);this.parent.insertBefore(r,0===e?this:this.next),r.insertAt(0,o.slice(0,-1))}else Object(s.a)(Object(a.a)(t.prototype),"insertAt",this).call(this,e,o,n)}}]),t}(f.a.Embed);v.scope=f.a.Scope.BLOCK_BLOT;var j=function(e){function t(e){var o;return Object(n.a)(this,t),(o=Object(i.a)(this,Object(a.a)(t).call(this,e))).cache={},o}return Object(l.a)(t,e),Object(r.a)(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(f.a.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))}),new p.a).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,o){Object(s.a)(Object(a.a)(t.prototype),"deleteAt",this).call(this,e,o),this.cache={}}},{key:"formatAt",value:function(e,o,n,r){o<=0||(f.a.query(n,f.a.Scope.BLOCK)?e+o===this.length()&&this.format(n,r):Object(s.a)(Object(a.a)(t.prototype),"formatAt",this).call(this,e,Math.min(o,this.length()-e-1),n,r),this.cache={})}},{key:"insertAt",value:function(e,o,n){if(null!=n)return Object(s.a)(Object(a.a)(t.prototype),"insertAt",this).call(this,e,o,n);if(0!==o.length){var r=o.split("\n"),i=r.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?Object(s.a)(Object(a.a)(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var l=this;r.reduce((function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length}),e+i.length)}}},{key:"insertBefore",value:function(e,o){var n=this.children.head;Object(s.a)(Object(a.a)(t.prototype),"insertBefore",this).call(this,e,o),n instanceof m.a&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=Object(s.a)(Object(a.a)(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,o){Object(s.a)(Object(a.a)(t.prototype),"moveChildren",this).call(this,e,o),this.cache={}}},{key:"optimize",value:function(e){Object(s.a)(Object(a.a)(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return Object(s.a)(Object(a.a)(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){Object(s.a)(Object(a.a)(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var r=Object(s.a)(Object(a.a)(t.prototype),"split",this).call(this,e,o);return this.cache={},r}}]),t}(f.a.Block);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=u()(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}j.blotName="block",j.tagName="P",j.defaultChild="break",j.allowedChildren=[g.a,f.a.Embed,b.a]},function(e,t,o){var n=o(368),r=o(363),i=o(400),a=o(386),s=o(385),l=function(e,t,o){var c,u,h,p=e&l.F,d=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,b=e&l.W,v=d?r:r[t]||(r[t]={}),j=v.prototype,y=d?n:f?n[t]:(n[t]||{}).prototype;for(c in d&&(o=t),o)(u=!p&&y&&void 0!==y[c])&&s(v,c)||(h=u?y[c]:o[c],v[c]=d&&"function"!=typeof y[c]?o[c]:g&&u?i(h,n):b&&y[c]==h?function(e){var t=function(t,o,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?i(Function.call,h):h,m&&((v.virtual||(v.virtual={}))[c]=h,e&l.R&&j&&!j[c]&&a(j,c,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,o){var n=o(380);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,o){"use strict";t.__esModule=!0;var n,r=o(457),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}},function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var n=o(8),r=o(9),i=o(11),a=o(13),s=o(10),l=o(360),c=o(12),u=o(2),h=o(382),p=o(442),d=o(190),f=function(e){function t(){var e,o;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return o=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l))),Object(u.a)(Object(a.a)(o),"cachedText",""),Object(u.a)(Object(a.a)(o),"baseCodeBlockReplace",h.b.prototype.replaceWith.bind(Object(a.a)(o))),o}return Object(c.a)(t,e),Object(r.a)(t,[{key:"highlight",value:function(){var e=this,t=this.domNode.textContent;t&&this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&Object(d.a)(t).then((function(t){e.domNode.innerHTML=t,e.domNode.normalize(),e.attach()})),this.cachedText=t)}},{key:"replaceWith",value:function(e,t){var o=this.baseCodeBlockReplace(e,t);return o.attach(),o.domNode.querySelectorAll("*").forEach((function(e){e.setAttribute("class","")})),o}}],[{key:"create",value:function(e){var o=Object(l.a)(Object(s.a)(t),"create",this).call(this,e);return o.setAttribute("spellcheck",!1),o.classList.add("code"),o.classList.add("codeBlock"),o}}]),t}(p.a)},function(e,t,o){e.exports=!o(393)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,o){"use strict";var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(383),u=o(359),h=o.n(u),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"formatAt",value:function(e,o,n,r){if(t.compare(this.statics.blotName,n)<0&&h.a.query(n,h.a.Scope.BLOT)){var i=this.isolate(e,o);r&&i.wrap(n,r)}else Object(s.a)(Object(a.a)(t.prototype),"formatAt",this).call(this,e,o,n,r)}},{key:"optimize",value:function(e){if(Object(s.a)(Object(a.a)(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}}],[{key:"compare",value:function(e,o){var n=t.order.indexOf(e),r=t.order.indexOf(o);return n>=0||r>=0?n-r:e===o?0:e<o?-1:1}}]),t}(h.a.Inline);p.allowedChildren=[p,h.a.Embed,c.a],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.a=p},function(e,t,o){var n=o(374),r=o(446),i=o(422),a=Object.defineProperty;t.f=o(377)?Object.defineProperty:function(e,t,o){if(n(e),t=i(t,!0),n(o),r)try{return a(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,o){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},l=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,o=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},c=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,o,n,r,i,a,h=arguments[0],p=1,d=arguments.length,f=!1;for("boolean"==typeof h&&(f=h,h=arguments[1]||{},p=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});p<d;++p)if(null!=(t=arguments[p]))for(o in t)n=u(h,o),h!==(r=u(t,o))&&(f&&r&&(l(r)||(i=s(r)))?(i?(i=!1,a=n&&s(n)?n:[]):a=n&&l(n)?n:{},c(h,{name:o,newValue:e(f,a,r)})):void 0!==r&&c(h,{name:o,newValue:r}));return h}},function(e,t,o){"use strict";o.d(t,"a",(function(){return b})),o.d(t,"b",(function(){return v}));var n=o(20),r=o(9),i=o(360),a=o(8),s=o(11),l=o(10),c=o(12),u=o(371),h=o.n(u),p=o(359),d=o.n(p),f=o(372),m=o(378),g=o(383),b=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(m.a);b.blotName="code",b.tagName="CODE";var v=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,o){return t.insert(o).insert("\n",e.formats())}),new h.a)}},{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o){var r=this.descendant(g.a,this.length()-1),a=Object(n.a)(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),Object(i.a)(Object(l.a)(t.prototype),"format",this).call(this,e,o)}}},{key:"formatAt",value:function(e,o,n,r){if(0!==o&&null!=d.a.query(n,d.a.Scope.BLOCK)&&(n!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+o)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,l=this.isolate(a,s),c=l.next;l.format(n,r),c instanceof t&&c.formatAt(0,e-a+o-s,n,r)}}}},{key:"insertAt",value:function(e,t,o){if(null==o){var r=this.descendant(g.a,e),i=Object(n.a)(r,2),a=i[0],s=i[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var o=this.domNode.textContent.slice(e).indexOf("\n");return o>-1?e+o:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(d.a.create("text","\n")),Object(i.a)(Object(l.a)(t.prototype),"optimize",this).call(this,e);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===o.statics.formats(o.domNode)&&(o.optimize(e),o.moveChildren(this),o.remove())}},{key:"replace",value:function(e){Object(i.a)(Object(l.a)(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=d.a.find(e);null==t?e.parentNode.removeChild(e):t instanceof d.a.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var o=Object(i.a)(Object(l.a)(t),"create",this).call(this,e);return o.setAttribute("spellcheck",!1),o}},{key:"formats",value:function(){return!0}}]),t}(f.c);v.blotName="code-block",v.tagName="PRE",v.TAB="  "},function(e,t,o){"use strict";var n=o(8),r=o(11),i=o(10),a=o(12),s=o(359),l=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(a.a)(t,e),t}(o.n(s).a.Text);t.a=l},function(e,t,o){"use strict";var n=o(8),r=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.a)(this,e),this.quill=t,this.options=o};r.DEFAULTS={},t.a=r},function(e,t){var o={}.hasOwnProperty;e.exports=function(e,t){return o.call(e,t)}},function(e,t,o){var n=o(379),r=o(410);e.exports=o(377)?function(e,t,o){return n.f(e,t,r(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t,o){var n=o(452),r=o(417);e.exports=function(e){return n(r(e))}},function(e,t,o){"use strict";var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(653),u=o.n(c),h=o(395),p=Object(h.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var o;e.__quill&&e.__quill.emitter&&(o=e.__quill.emitter).handleDOM.apply(o,t)}))}))}));var d=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(a.a)(t).call(this))).listeners={},e.on("error",p.error),e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"emit",value:function(){p.log.apply(p,arguments),Object(s.a)(Object(a.a)(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,r=t.handler;(e.target===n||n.contains(e.target))&&r.apply(void 0,[e].concat(o))}))}},{key:"listenDOM",value:function(e,t,o){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:o})}}]),t}(u.a);d.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},d.sources={API:"api",SILENT:"silent",USER:"user"},t.a=d},function(e,t,o){"use strict";var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(359),u=o.n(c),h=o(383),p="\ufeff",d=function(e){function t(e){var o;return Object(n.a)(this,t),(o=Object(i.a)(this,Object(a.a)(t).call(this,e))).contentNode=document.createElement("span"),o.contentNode.setAttribute("contenteditable",!1),[].slice.call(o.domNode.childNodes).forEach((function(e){o.contentNode.appendChild(e)})),o.leftGuard=document.createTextNode(p),o.rightGuard=document.createTextNode(p),o.domNode.appendChild(o.leftGuard),o.domNode.appendChild(o.contentNode),o.domNode.appendChild(o.rightGuard),o}return Object(l.a)(t,e),Object(r.a)(t,[{key:"index",value:function(e,o){return e===this.leftGuard?0:e===this.rightGuard?1:Object(s.a)(Object(a.a)(t.prototype),"index",this).call(this,e,o)}},{key:"restore",value:function(e){var t,o,n=e.data.split(p).join("");if(e===this.leftGuard)if(this.prev instanceof h.a){var r=this.prev.length();this.prev.insertAt(r,n),t={startNode:this.prev.domNode,startOffset:r+n.length}}else o=document.createTextNode(n),this.parent.insertBefore(u.a.create(o),this),t={startNode:o,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof h.a?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(o=document.createTextNode(n),this.parent.insertBefore(u.a.create(o),this.next),t={startNode:o,startOffset:n.length}));return e.data=p,t}},{key:"update",value:function(e,t){var o=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===o.leftGuard||e.target===o.rightGuard)){var n=o.restore(e.target);n&&(t.range=n)}}))}}]),t}(u.a.Embed);t.a=d},function(e,t,o){"use strict";o.d(t,"a",(function(){return k}));var n=o(2),r=o(28),i=o(20),a=o(8),s=o(11),l=o(10),c=o(9),u=o(12),h=o(416),p=o.n(h),d=o(396),f=o.n(d),m=o(381),g=o.n(m),b=o(371),v=o.n(b),j=o(404),y=o.n(j),O=o(359),S=o.n(O),C=o(403),_=o(395),E=o(384),w=Object(_.a)("quill:keyboard"),x=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",k=function(e){function t(e,o){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e,o))).bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},R),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},I),n.addBinding({key:t.keys.DELETE},{collapsed:!0},N)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},I),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},N)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},T),n.addBinding({key:t.keys.DELETE},{collapsed:!1},T),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},I),n.listen(),n}return Object(u.a)(t,e),Object(c.a)(t,null,[{key:"match",value:function(e,t){return t=P(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(o){return!!t[o]!==e[o]&&null!==t[o]}))&&t.key===(e.which||e.keyCode)}}]),Object(c.a)(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=P(e);if(null==n||null==n.key)return w.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof o&&(o={handler:o}),n=g()(n,t,o),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(o){if(!o.defaultPrevented){var n=o.which||o.keyCode,a=(e.bindings[n]||[]).filter((function(e){return t.match(o,e)}));if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var l=e.quill.getLine(s.index),c=Object(i.a)(l,2),u=c[0],h=c[1],p=e.quill.getLeaf(s.index),d=Object(i.a)(p,2),m=d[0],g=d[1],b=0===s.length?[m,g]:e.quill.getLeaf(s.index+s.length),v=Object(i.a)(b,2),j=v[0],y=v[1],O=m instanceof S.a.Text?m.value().slice(0,g):"",C=j instanceof S.a.Text?j.value().slice(y):"",_={collapsed:0===s.length,empty:0===s.length&&u.length()<=1,format:e.quill.getFormat(s),offset:h,prefix:O,suffix:C};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==_.collapsed)return!1;if(null!=t.empty&&t.empty!==_.empty)return!1;if(null!=t.offset&&t.offset!==_.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==_.format[e]})))return!1}else if("object"===Object(r.a)(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=_.format[e]:!1===t.format[e]?null==_.format[e]:f()(t.format[e],_.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(_.prefix))&&(!(null!=t.suffix&&!t.suffix.test(_.suffix))&&!0!==t.handler.call(e,s,_))}))&&o.preventDefault()}}}}))}}]),t}(E.a);function L(e,t){var o,r=e===k.keys.LEFT?"prefix":"suffix";return o={key:e,shiftKey:t,altKey:null},Object(n.a)(o,r,/^$/),Object(n.a)(o,"handler",(function(o){var n=o.index;e===k.keys.RIGHT&&(n+=o.length+1);var r=this.quill.getLeaf(n);return!(Object(i.a)(r,1)[0]instanceof S.a.Embed)||(e===k.keys.LEFT?t?this.quill.setSelection(o.index-1,o.length+1,C.a.sources.USER):this.quill.setSelection(o.index-1,C.a.sources.USER):t?this.quill.setSelection(o.index,o.length+1,C.a.sources.USER):this.quill.setSelection(o.index+o.length+1,C.a.sources.USER),!1)})),o}function I(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var o=this.quill.getLine(e.index),n=Object(i.a)(o,1)[0],r={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=Object(i.a)(a,1)[0];if(null!=s&&s.length()>1){var l=n.formats(),c=this.quill.getFormat(e.index-1,1);r=y.a.attributes.diff(l,c)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,C.a.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index-u,u,r,C.a.sources.USER),this.quill.focus()}}function N(e,t){var o=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-o)){var n={},r=0,a=this.quill.getLine(e.index),s=Object(i.a)(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),c=Object(i.a)(l,1)[0];if(c){var u=s.formats(),h=this.quill.getFormat(e.index,1);n=y.a.attributes.diff(u,h)||{},r=c.length()}}this.quill.deleteText(e.index,o,C.a.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+r-1,o,n,C.a.sources.USER)}}function T(e){var t=this.quill.getLines(e),o={};if(t.length>1){var n=t[0].formats(),r=t[t.length-1].formats();o=y.a.attributes.diff(r,n)||{}}this.quill.deleteText(e,C.a.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index,1,o,C.a.sources.USER),this.quill.setSelection(e.index,C.a.sources.SILENT),this.quill.focus()}function R(e,t){var o=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,o){return S.a.query(o,S.a.Scope.BLOCK)&&!Array.isArray(t.format[o])&&(e[o]=t.format[o]),e}),{});this.quill.insertText(e.index,"\n",n,C.a.sources.USER),this.quill.setSelection(e.index+1,C.a.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&o.quill.format(e,t.format[e],C.a.sources.USER))}))}function A(e){return{key:k.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var o=S.a.query("code-block"),n=t.index,r=t.length,a=this.quill.scroll.descendant(o,n),s=Object(i.a)(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,p=l.newlineIndex(u+c+r),d=l.domNode.textContent.slice(h,p).split("\n");c=0,d.forEach((function(t,i){e?(l.insertAt(h+c,o.TAB),c+=o.TAB.length,0===i?n+=o.TAB.length:r+=o.TAB.length):t.startsWith(o.TAB)&&(l.deleteAt(h+c,o.TAB.length),c-=o.TAB.length,0===i?n-=o.TAB.length:r-=o.TAB.length),c+=t.length+1})),this.quill.update(C.a.sources.USER),this.quill.setSelection(n,r,C.a.sources.SILENT)}}}}function M(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,o){this.quill.format(e,!o.format[e],C.a.sources.USER)}}}function P(e){if("string"==typeof e||"number"==typeof e)return P({key:e});if("object"===Object(r.a)(e)&&(e=p()(e,!1)),"string"==typeof e.key)if(null!=k.keys[e.key.toUpperCase()])e.key=k.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[x]=e.shortKey,delete e.shortKey),e}k.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},k.DEFAULTS={bindings:{bold:M("bold"),italic:M("italic"),underline:M("underline"),indent:{key:k.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",C.a.sources.USER)}},outdent:{key:k.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",C.a.sources.USER)}},"outdent backspace":{key:k.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",C.a.sources.USER):null!=t.format.list&&this.quill.format("list",!1,C.a.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:k.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,C.a.sources.USER)}},tab:{key:k.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new v.a).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,C.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,C.a.sources.SILENT)}},"list empty enter":{key:k.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,C.a.sources.USER),t.format.indent&&this.quill.format("indent",!1,C.a.sources.USER)}},"checklist enter":{key:k.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),o=Object(i.a)(t,2),n=o[0],r=o[1],a=g()({},n.formats(),{list:"checked"}),s=(new v.a).retain(e.index).insert("\n",a).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,C.a.sources.USER),this.quill.setSelection(e.index+1,C.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:k.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var o=this.quill.getLine(e.index),n=Object(i.a)(o,2),r=n[0],a=n[1],s=(new v.a).retain(e.index).insert("\n",t.format).retain(r.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,C.a.sources.USER),this.quill.setSelection(e.index+1,C.a.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var o,n=t.prefix.length,r=this.quill.getLine(e.index),a=Object(i.a)(r,2),s=a[0],l=a[1];if(l>n)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(e.index," ",C.a.sources.USER),this.quill.history.cutoff();var c=(new v.a).retain(e.index-l).delete(n+1).retain(s.length()-2-l).retain(1,{list:o});this.quill.updateContents(c,C.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,C.a.sources.SILENT)}},"code exit":{key:k.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),o=Object(i.a)(t,2),n=o[0],r=o[1],a=(new v.a).retain(e.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,C.a.sources.USER)}},"embed left":L(k.keys.LEFT,!1),"embed left shift":L(k.keys.LEFT,!0),"embed right":L(k.keys.RIGHT,!1),"embed right shift":L(k.keys.RIGHT,!0)}}},function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var n=o(8),r=o(11),i=o(9),a=o(12),s=o(10),l=o(360),c=o(2),u=o(364),h=o(372),p=o(137),d=o(16),f=o(359),m=o.n(f),g=o(370),b=function(e){function t(e){var o;return Object(n.a)(this,t),(o=Object(r.a)(this,Object(s.a)(t).call(this,e))).focusableElement.setAttribute("tabindex",-1),o}return Object(a.a)(t,e),Object(i.a)(t,null,[{key:"create",value:function(e){var o=Object(l.a)(Object(s.a)(t),"create",this).call(this,e);return o.setAttribute("contenteditable",!1),o.classList.add(p.a),o}}]),Object(i.a)(t,[{key:"remove",value:function(){if(!this.quill)return Object(d.g)("Attempted to focus a an embed blot that has not been mounted yet.");var e=this.focusableElement===document.activeElement,o=this.offset(this.quill.scroll);if(Object(l.a)(Object(s.a)(t.prototype),"remove",this).call(this),this.quill.update(u.a.sources.USER),e){var n=Object(g.d)(this.quill,o,t);n?n.focus():this.quill.setSelection(o,0,u.a.sources.USER)}}},{key:"insertNewlineAfter",value:function(){if(!this.quill)return Object(d.g)("Attempted to focus a an embed blot that has not been mounted yet.");m.a.create("block","").insertInto(this.quill.scroll,this.next),this.quill.update(u.a.sources.USER),this.quill.setSelection(this.offset()+1,0,u.a.sources.USER)}},{key:"focus",value:function(){if(!this.quill)return Object(d.g)("Attempted to focus a an embed blot that has not been mounted yet.");var e=this.offset(this.scroll);this.quill.setSelection(e,0,u.a.sources.API),this.focusableElement.focus()}},{key:"focusableElement",get:function(){if(!(this.domNode instanceof HTMLElement))throw new Error("A focusable embed blot must be initialize with an HTMLElement.");if(this.domNode.classList.contains(p.a))return this.domNode;var e=this.domNode.querySelector("."+p.a);if(e instanceof HTMLElement)return e;throw new Error("Attempting to focus a DOM Node that either does not exist or is not an HTMLElement."+e)}},{key:"quill",get:function(){return this.scroll&&this.scroll.domNode.parentNode?u.a.find(this.scroll.domNode.parentNode):null}}]),t}(h.a);Object(c.a)(b,"tagName","div"),Object(c.a)(b,"className","js-embed"),Object(c.a)(b,"blotName","embed-focusable")},function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o(8),r=o(11),i=o(10),a=o(12),s=function(e){function t(e){var o;return Object(n.a)(this,t),o=Object(r.a)(this,Object(i.a)(t).call(this,e)),e.classList.add("code"),e.classList.add("isInline"),e.classList.add("codeInline"),e.setAttribute("spellcheck",!1),o}return Object(a.a)(t,e),t}(o(382).a)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,o){"use strict";var n=["error","warn","log","info"],r="warn";function i(e){if(n.indexOf(e)<=n.indexOf(r)){for(var t,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return n.reduce((function(t,o){return t[o]=i.bind(console,o,e),t}),{})}i.level=a.level=function(e){r=e},t.a=a},function(e,t,o){var n=o(435),r=o(657),i=o(658),a=o(659),s=o(663),l=o(665),c=Date.prototype.getTime;function u(e,t,o){var d=o||{};return!(d.strict?!i(e,t):e!==t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?d.strict?i(e,t):e==t:function(e,t,o){var i,d;if(typeof e!=typeof t)return!1;if(h(e)||h(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e)!==r(t))return!1;var f=a(e),m=a(t);if(f!==m)return!1;if(f||m)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return c.call(e)===c.call(t);var g=p(e),b=p(t);if(g!==b)return!1;if(g||b){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var v=n(e),j=n(t)}catch(e){return!1}if(v.length!==j.length)return!1;for(v.sort(),j.sort(),i=v.length-1;i>=0;i--)if(v[i]!=j[i])return!1;for(i=v.length-1;i>=0;i--)if(d=v[i],!u(e[d],t[d],o))return!1;return!0}(e,t,d))}function h(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=u},function(e,t,o){"use strict";var n=o(8),r=o(11),i=o(10),a=o(12),s=o(359),l=o.n(s),c=o(372),u=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(a.a)(t,e),t}(l.a.Container);u.allowedChildren=[c.c,c.a,u],t.a=u},function(e,t,o){var n=o(417);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports=!0},function(e,t,o){var n=o(409);e.exports=function(e,t,o){if(n(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,n){return e.call(t,o,n)};case 3:return function(o,n,r){return e.call(t,o,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,o){var n=o(451),r=o(425);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},function(e,t,o){"use strict";var n=o(28),r=o(2),i=o(20),a=o(8),s=o(9),l=(o(654),o(371)),c=o.n(l),u=o(404),h=o.n(u),p=o(359),d=o.n(p),f=o(382),m=o(439),g=o(372),b=o(405),v=o(416),j=o.n(v),y=o(396),O=o.n(y),S=o(381),C=o.n(S),_=/^[ -~]*$/;function E(e,t){return Object.keys(t).reduce((function(o,n){return null==e[n]?o:(t[n]===e[n]?o[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(o[n]=t[n].concat([e[n]])):o[n]=[t[n],e[n]],o)}),{})}var w=function(){function e(t){Object(a.a)(this,e),this.scroll=t,this.delta=this.getDelta()}return Object(s.a)(e,[{key:"applyDelta",value:function(e){var t=this,o=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var o=j()(t.attributes);return delete o.image,e.insert({image:t.attributes.image},o)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=j()(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new c.a)}(e)).reduce((function(e,a){var s=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var c=a.insert;c.endsWith("\n")&&o&&(o=!1,c=c.slice(0,-1)),e>=r&&!c.endsWith("\n")&&(o=!0),t.scroll.insertAt(e,c);var u=t.scroll.line(e),p=Object(i.a)(u,2),f=p[0],m=p[1],b=C()({},Object(g.b)(f));if(f instanceof g.c){var v=f.descendant(d.a.Leaf,m),j=Object(i.a)(v,1)[0];b=C()(b,Object(g.b)(j))}l=h.a.attributes.diff(b,l)||{}}else if("object"===Object(n.a)(a.insert)){var y=Object.keys(a.insert)[0];if(null==y)return e;t.scroll.insertAt(e,y,a.insert[y])}r+=s}return Object.keys(l).forEach((function(o){t.scroll.formatAt(e,s,o,l[o])})),e+s}),0),e.reduce((function(e,o){return"number"==typeof o.delete?(t.scroll.deleteAt(e,o.delete),e):e+(o.retain||o.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new c.a).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(r){if(null==o.scroll.whitelist||o.scroll.whitelist[r]){var i=o.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof f.b){var s=e-t.offset(o.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,r,n[r])}else t.format(r,n[r]);a-=i}))}})),this.scroll.optimize(),this.update((new c.a).retain(e).retain(t,j()(n)))}},{key:"formatText",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(r){o.scroll.formatAt(e,t,r,n[r])})),this.update((new c.a).retain(e).retain(t,j()(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new c.a)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=Object(i.a)(e,1)[0];t instanceof g.c?o.push(t):t instanceof d.a.Leaf&&n.push(t)})):(o=this.scroll.lines(e,t),n=this.scroll.descendants(d.a.Leaf,e,t));var r=[o,n].map((function(e){if(0===e.length)return{};for(var t=Object(g.b)(e.shift());Object.keys(t).length>0;){var o=e.shift();if(null==o)return t;t=E(Object(g.b)(o),t)}return t}));return C.a.apply(C.a,r)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,o){return this.scroll.insertAt(e,t,o),this.update((new c.a).retain(e).insert(Object(r.a)({},t,o)))}},{key:"insertText",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(r){o.scroll.formatAt(e,t.length,r,n[r])})),this.update((new c.a).retain(e).insert(t,j()(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===g.c.blotName&&(!(e.children.length>1)&&e.children.head instanceof b.a)}},{key:"removeFormat",value:function(e,t){var o=this.getText(e,t),n=this.scroll.line(e+t),r=Object(i.a)(n,2),a=r[0],s=r[1],l=0,u=new c.a;null!=a&&(l=a instanceof f.b?a.newlineIndex(s)-s+1:a.length()-s,u=a.delta().slice(s,s+l-1).insert("\n"));var h=this.getContents(e,t+l).diff((new c.a).insert(o).concat(u)),p=(new c.a).retain(e).concat(h);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(_)&&d.a.find(t[0].target)){var r=d.a.find(t[0].target),i=Object(g.b)(r),a=r.offset(this.scroll),s=t[0].oldValue.replace(m.a.CONTENTS,""),l=(new c.a).insert(s),u=(new c.a).insert(r.value()),h=(new c.a).retain(a).concat(l.diff(u,o));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new c.a),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&O()(n.compose(e),this.delta)||(e=n.diff(this.delta,o));return e}}]),e}(),x=o(388),k=o(384),L=o(33),I=o(395),N=Object(I.a)("quill:selection"),T=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(a.a)(this,e),this.index=t,this.length=o},R=function(){function e(t,o){var n=this;Object(a.a)(this,e),this.emitter=o,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.a.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,x.a.sources.USER),1)})),this.emitter.on(x.a.events.EDITOR_CHANGE,(function(e,t){e===x.a.events.TEXT_CHANGE&&t.length()>0&&n.update(x.a.sources.SILENT)})),this.emitter.on(x.a.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(x.a.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(x.a.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var o=t.range,r=o.startNode,i=o.startOffset,a=o.endNode,s=o.endOffset;n.setNativeRange(r,i,a,s)}})),this.update(x.a.sources.SILENT)}return Object(s.a)(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(x.a.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var o=this.getNativeRange();if(null!=o&&o.native.collapsed&&!d.a.query(e,d.a.Scope.BLOCK)){if(o.start.node!==this.cursor.textNode){var n=d.a.find(o.start.node,!1);if(null==n)return;if(n instanceof d.a.Leaf){var r=n.split(o.start.offset);n.parent.insertBefore(this.cursor,r)}else n.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.scroll.length();e=Math.min(e,o-1),t=Math.min(e+t,o-1)-e;var n,r=this.scroll.leaf(e),a=Object(i.a)(r,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=Object(i.a)(c,2);n=u[0],l=u[1];var h=document.createRange();if(t>0){h.setStart(n,l);var p=this.scroll.leaf(e+t),d=Object(i.a)(p,2);if(s=d[0],l=d[1],null==s)return null;var f=s.position(l,!0),m=Object(i.a)(f,2);return n=m[0],l=m[1],h.setEnd(n,l),h.getBoundingClientRect()}var g,b="left";return n instanceof Text?(l<n.data.length?(h.setStart(n,l),h.setEnd(n,l+1)):(h.setStart(n,l-1),h.setEnd(n,l),b="right"),g=h.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(b="right")),{bottom:g.top+g.height,height:g.height,left:g[b],right:g[b],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var o=this.normalizeNative(t);return N.info("getNativeRange",o),o}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,o=[[e.start.node,e.start.offset]];e.native.collapsed||o.push([e.end.node,e.end.offset]);var n=o.map((function(e){var o=Object(i.a)(e,2),n=o[0],r=o[1],a=d.a.find(n,!0),s=a.offset(t.scroll);return 0===r?s:a instanceof d.a.Container?s+a.length():s+a.index(n,r)})),r=Math.min(Math.max.apply(Math,Object(L.a)(n)),this.scroll.length()-1),a=Math.min.apply(Math,[r].concat(Object(L.a)(n)));return new T(a,r-a)}},{key:"normalizeNative",value:function(e){if(!A(this.root,e.startContainer)||!e.collapsed&&!A(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,o=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>o)t=t.childNodes[o],o=0;else{if(t.childNodes.length!==o)break;o=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=o})),t}},{key:"rangeToNative",value:function(e){var t=this,o=e.collapsed?[e.index]:[e.index,e.index+e.length],n=[],r=this.scroll.length();return o.forEach((function(e,o){e=Math.min(r-1,e);var a,s=t.scroll.leaf(e),l=Object(i.a)(s,2),c=l[0],u=l[1],h=c.position(u,0!==o),p=Object(i.a)(h,2);a=p[0],u=p[1],n.push(a,u)})),n.length<2&&(n=n.concat(n)),n}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var o=this.getBounds(t.index,t.length);if(null!=o){var n=this.scroll.length()-1,r=this.scroll.line(Math.min(t.index,n)),a=Object(i.a)(r,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,n));s=Object(i.a)(l,1)[0]}if(null!=a&&null!=s){var c=e.getBoundingClientRect();o.top<c.top?e.scrollTop-=c.top-o.top:o.bottom>c.bottom&&(e.scrollTop+=o.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(N.info("setNativeRange",e,t,o,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=o.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||e!==a.startContainer||t!==a.startOffset||o!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==o.tagName&&(n=[].indexOf.call(o.parentNode.childNodes,o),o=o.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(o,n),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.a.sources.API;if("string"==typeof t&&(o=t,t=!1),N.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,Object(L.a)(n).concat([t]))}else this.setNativeRange(null);this.update(o)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.a.sources.USER,t=this.lastRange,o=this.getRange(),n=Object(i.a)(o,2),r=n[0],a=n[1];if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!O()(t,this.lastRange)){var s;!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode&&this.cursor.restore();var l,c=[x.a.events.SELECTION_CHANGE,j()(this.lastRange),j()(t),e];if((s=this.emitter).emit.apply(s,[x.a.events.EDITOR_CHANGE].concat(c)),e!==x.a.sources.SILENT)(l=this.emitter).emit.apply(l,c)}}}]),e}();function A(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}var M=o(440);o.d(t,"a",(function(){return D}));var P=Object(I.a)("quill"),D=function(){function e(t){var o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(a.a)(this,e),this.options=function(e,t){if((t=C()(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==D.DEFAULTS.theme){if(t.theme=D.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=M.a;var o=C()(!0,{},t.theme.DEFAULTS);[o,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(o.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var o=D.import("modules/".concat(t));return null==o?P.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=o.DEFAULTS||{},e}),{});null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar});return t=C()(!0,{},D.DEFAULTS,{modules:n},o,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,o){return t.modules[o]&&(e[o]=t.modules[o]),e}),{}),t}(t,n),this.container=this.options.container,null==this.container)return P.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new x.a,this.scroll=d.a.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new w(this.scroll),this.selection=new R(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(x.a.events.EDITOR_CHANGE,(function(e){e===x.a.events.TEXT_CHANGE&&o.root.classList.toggle("ql-blank",o.editor.isBlank())})),this.emitter.on(x.a.events.SCROLL_UPDATE,(function(e,t){var n=o.selection.lastRange,r=n&&0===n.length?n.index:void 0;z.call(o,(function(){return o.editor.update(null,t,r)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">".concat(r,"<p><br></p></div>"));this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return Object(s.a)(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),I.a.level(e)}},{key:"find",value:function(e){return e.__quill||d.a.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&P.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(n){o.register(n,e[n],t)}))}else null==this.imports[e]||n||P.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.a.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),Object(s.a)(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var o=e;(e=document.createElement("div")).classList.add(o)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,o){var n=this,r=B(e,t,o),a=Object(i.a)(r,4);return e=a[0],t=a[1],o=a[3],z.call(this,(function(){return n.editor.deleteText(e,t)}),o,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.a.sources.API;return z.call(this,(function(){var n=o.getSelection(!0),i=new c.a;if(null==n)return i;if(d.a.query(e,d.a.Scope.BLOCK))i=o.editor.formatLine(n.index,n.length,Object(r.a)({},e,t));else{if(0===n.length)return o.selection.format(e,t),i;i=o.editor.formatText(n.index,n.length,Object(r.a)({},e,t))}return o.setSelection(n,x.a.sources.SILENT),i}),n)}},{key:"formatLine",value:function(e,t,o,n,r){var a,s=this,l=B(e,t,o,n,r),c=Object(i.a)(l,4);return e=c[0],t=c[1],a=c[2],r=c[3],z.call(this,(function(){return s.editor.formatLine(e,t,a)}),r,e,0)}},{key:"formatText",value:function(e,t,o,n,r){var a,s=this,l=B(e,t,o,n,r),c=Object(i.a)(l,4);return e=c[0],t=c[1],a=c[2],r=c[3],z.call(this,(function(){return s.editor.formatText(e,t,a)}),r,e,0)}},{key:"getBounds",value:function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,o):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:t.bottom-n.top,height:t.height,left:t.left-n.left,right:t.right-n.left,top:t.top-n.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=B(e,t),n=Object(i.a)(o,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,o=B(e,t),n=Object(i.a)(o,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,o,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return z.call(this,(function(){return r.editor.insertEmbed(t,o,n)}),i,t)}},{key:"insertText",value:function(e,t,o,n,r){var a,s=this,l=B(e,0,o,n,r),c=Object(i.a)(l,4);return e=c[0],a=c[2],r=c[3],z.call(this,(function(){return s.editor.insertText(e,t,a)}),r,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,o){this.clipboard.dangerouslyPasteHTML(e,t,o)}},{key:"removeFormat",value:function(e,t,o){var n=this,r=B(e,t,o),a=Object(i.a)(r,4);return e=a[0],t=a[1],o=a[3],z.call(this,(function(){return n.editor.removeFormat(e,t)}),o,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.a.sources.API;return z.call(this,(function(){e=new c.a(e);var o=t.getLength(),n=t.editor.deleteText(0,o),r=t.editor.applyDelta(e),i=r.ops[r.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),n.compose(r)}),o)}},{key:"setSelection",value:function(t,o,n){if(null==t)this.selection.setRange(null,o||e.sources.API);else{var r=B(t,o,n),a=Object(i.a)(r,4);t=a[0],o=a[1],n=a[3],this.selection.setRange(new T(t,o),n),n!==x.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.a.sources.API,o=(new c.a).insert(e);return this.setContents(o,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.a.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.a.sources.API;return z.call(this,(function(){return e=new c.a(e),t.editor.applyDelta(e,o)}),o,!0)}}]),e}();function z(e,t,o,n){if(this.options.strict&&!this.isEnabled()&&t===x.a.sources.USER)return new c.a;var r=null==o?null:this.getSelection(),i=this.editor.delta,a=e();if(null!=r&&(!0===o&&(o=r.index),null==n?r=F(r,a,t):0!==n&&(r=F(r,o,n,t)),this.setSelection(r,x.a.sources.SILENT)),a.length()>0){var s,l,u=[x.a.events.TEXT_CHANGE,a,i,t];if((s=this.emitter).emit.apply(s,[x.a.events.EDITOR_CHANGE].concat(u)),t!==x.a.sources.SILENT)(l=this.emitter).emit.apply(l,u)}return a}function B(e,t,o,r,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=o,o=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=o,o=t,t=0),"object"===Object(n.a)(o)?(a=o,i=r):"string"==typeof o&&(null!=r?a[o]=r:i=o),[e,t,a,i=i||x.a.sources.API]}function F(e,t,o,n){if(null==e)return null;var r,a;if(t instanceof c.a){var s=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==x.a.sources.USER)})),l=Object(i.a)(s,2);r=l[0],a=l[1]}else{var u=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===x.a.sources.USER?e:o>=0?e+o:Math.max(t,e+o)})),h=Object(i.a)(u,2);r=h[0],a=h[1]}return new T(r,a-r)}D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=x.a.events,D.sources=x.a.sources,D.version="undefined"==typeof QUILL_VERSION?"dev":QUILL_VERSION,D.imports={delta:c.a,parchment:d.a,"core/module":k.a,"core/theme":M.a}},function(e,t,o){var n=o(396),r=o(381),i={attributes:{compose:function(e,t,o){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=r(!0,{},t);for(var i in o||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var o=Object.keys(e).concat(Object.keys(t)).reduce((function(o,r){return n(e[r],t[r])||(o[r]=void 0===t[r]?null:t[r]),o}),{});return Object.keys(o).length>0?o:void 0},transform:function(e,t,o){if("object"!=typeof e)return t;if("object"==typeof t){if(!o)return t;var n=Object.keys(t).reduce((function(o,n){return void 0===e[n]&&(o[n]=t[n]),o}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var o=this.offset,n=i.length(t);if(e>=n-o?(e=n-o,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(o,e):r.insert=t.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,o=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[o].concat(n)}return[]},e.exports=i},function(e,t,o){"use strict";var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(359),u=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"insertInto",value:function(e,o){0===e.children.length?Object(s.a)(Object(a.a)(t.prototype),"insertInto",this).call(this,e,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(o.n(c).a.Embed);u.blotName="break",u.tagName="BR",t.a=u},function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"format",value:function(e,o){if(e!==this.statics.blotName||!o)return Object(s.a)(Object(a.a)(t.prototype),"format",this).call(this,e,o);o=this.constructor.sanitize(o),this.domNode.setAttribute("href",o)}}],[{key:"create",value:function(e){var o=Object(s.a)(Object(a.a)(t),"create",this).call(this,e);return e=this.sanitize(e),o.setAttribute("href",e),o.setAttribute("target","_blank"),o}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return function(e,t){var o=document.createElement("a");o.href=e;var n=o.href.slice(0,o.href.indexOf(":"));return t.indexOf(n)>-1}(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(o(378).a);c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"]},function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var n=o(18),r=o.n(n),i=o(25),a=o(8),s=o(11),l=o(10),c=o(13),u=o(9),h=o(12),p=o(2),d=o(137),f=o(23),m=o(391),g=o(434),b=o(466),v=o(370),j=o(16);function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function O(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(o,!0).forEach((function(t){Object(p.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}
/**
 * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var S="__embed-data__",C=function(e){var t;function o(e,t){var n;return Object(a.a)(this,o),n=Object(s.a)(this,Object(l.a)(o).call(this,e)),Object(p.a)(Object(c.a)(n),"syncMountedValues",(function(e){var t=o.value(n.domNode),r=O({},t,{data:O({},t.data,{},e)});Object(f.o)(n.domNode,S,r)})),n.replaceLoaderWithFinalForm(t),n}return Object(h.a)(o,e),Object(u.a)(o,[{key:"createEmbedFromData",value:(t=Object(i.a)(r.a.mark((function e(t,o,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.a.create(t),Object(f.o)(i,S,n),i.classList.add("js-embed"),i.classList.add("embedResponsive"),i.tabIndex=-1,o&&i.appendChild(o),e.next=8,Object(d.c)(i,O({},t,{syncBackEmbedValue:this.syncMountedValues,quill:this.quill}),!0);case 8:o&&o.remove(),i.classList.remove(d.a),i.removeAttribute("tabindex"),this.domNode.parentNode.insertBefore(i,this.domNode),this.domNode.parentNode.removeChild(this.domNode),delete this.domNode.__blot,i.__blot={blot:this},this.domNode=i,Object(v.c)();case 17:case"end":return e.stop()}}),e,this)}))),function(e,o,n){return t.apply(this,arguments)})}],[{key:"create",value:function(e){return b.a.create(e)}},{key:"value",value:function(e){if(e.classList.contains(b.a.className))return b.a.value(e);var t=Object(f.i)(e,S,!1);return t}}]),Object(u.a)(o,[{key:"replaceLoaderWithFinalForm",value:function(e){var t=this,o=this.resolveDataFromValue(e);if(!(o instanceof Promise)){var n=this.quill;return this.remove(),void(n&&n.update())}o.then((function(o){if(document.contains(t.domNode)){var n={data:o,loaderData:e.loaderData},r=t.domNode.querySelector(".embedLinkLoader");t.createEmbedFromData(o,r,n)}})).catch((function(o){if(Object(j.f)(o),document.contains(t.domNode)){var n={error:o,type:"file"===e.loaderData.type?g.a.FILE:g.a.STANDARD,file:e.loaderData.file};t.replaceWith(new g.b(g.b.create(n),n))}}))}},{key:"resolveDataFromValue",value:function(e){return"data"in e?Promise.resolve(e.data):e.dataPromise}}]),o}(m.a);Object(p.a)(C,"blotName","embed-external"),Object(p.a)(C,"className","embed-external"),Object(p.a)(C,"tagName","div"),Object(p.a)(C,"LOADING_VALUE",{loading:!0})},function(e,t){var o=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+n).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){"use strict";var n=o(689)(!0);o(449)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=n(t,o),this._i+=e.length,{value:e,done:!1})}))},function(e,t,o){var n=o(379).f,r=o(385),i=o(369)("toStringTag");e.exports=function(e,t,o){e&&!r(e=o?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,o){o(694);for(var n=o(368),r=o(386),i=o(394),a=o(369)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],h=u&&u.prototype;h&&!h[a]&&r(h,a,c),i[c]=i.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,o){"use strict";var n=o(435),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,o,n){var r;t in e&&("function"!=typeof(r=n)||"[object Function]"!==i.call(r)||!n())||(l?s(e,t,{configurable:!0,enumerable:!1,value:o,writable:!0}):e[t]=o)},u=function(e,t){var o=arguments.length>2?arguments[2]:{},i=n(t);r&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],o[i[s]])};u.supportsDescriptors=!!l,e.exports=u},function(e,t,o){(function(t){var o=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var o,n,r;try{o=Map}catch(e){o=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function i(a,l,c,u,h){"object"==typeof l&&(c=l.depth,u=l.prototype,h=l.includeNonEnumerable,l=l.circular);var p=[],d=[],f=void 0!==t;return void 0===l&&(l=!0),void 0===c&&(c=1/0),function a(c,m){if(null===c)return null;if(0===m)return c;var g,b;if("object"!=typeof c)return c;if(e(c,o))g=new o;else if(e(c,n))g=new n;else if(e(c,r))g=new r((function(e,t){c.then((function(t){e(a(t,m-1))}),(function(e){t(a(e,m-1))}))}));else if(i.__isArray(c))g=[];else if(i.__isRegExp(c))g=new RegExp(c.source,s(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(i.__isDate(c))g=new Date(c.getTime());else{if(f&&t.isBuffer(c))return g=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(g),g;e(c,Error)?g=Object.create(c):void 0===u?(b=Object.getPrototypeOf(c),g=Object.create(b)):(g=Object.create(u),b=u)}if(l){var v=p.indexOf(c);if(-1!=v)return d[v];p.push(c),d.push(g)}for(var j in e(c,o)&&c.forEach((function(e,t){var o=a(t,m-1),n=a(e,m-1);g.set(o,n)})),e(c,n)&&c.forEach((function(e){var t=a(e,m-1);g.add(t)})),c){var y;b&&(y=Object.getOwnPropertyDescriptor(b,j)),y&&null==y.set||(g[j]=a(c[j],m-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(c);for(j=0;j<O.length;j++){var S=O[j];(!(_=Object.getOwnPropertyDescriptor(c,S))||_.enumerable||h)&&(g[S]=a(c[S],m-1),_.enumerable||Object.defineProperty(g,S,{enumerable:!1}))}}if(h){var C=Object.getOwnPropertyNames(c);for(j=0;j<C.length;j++){var _,E=C[j];(_=Object.getOwnPropertyDescriptor(c,E))&&_.enumerable||(g[E]=a(c[E],m-1),Object.defineProperty(g,E,{enumerable:!1}))}}return g}(a,c)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=s,i}();e.exports&&(e.exports=o)}).call(this,o(666).Buffer)},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,o){var n=o(419)("keys"),r=o(408);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,o){var n=o(363),r=o(368),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:o(399)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,o){var n=o(373),r=o(363),i=o(393);e.exports=function(e,t){var o=(r.Object||{})[e]||Object[e],a={};a[e]=t(o),n(n.S+n.F*i((function(){o(1)})),"Object",a)}},function(e,t,o){var n=o(380),r=o(368).document,i=n(r)&&n(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t,o){var n=o(380);e.exports=function(e,t){if(!n(e))return e;var o,r;if(t&&"function"==typeof(o=e.toString)&&!n(r=o.call(e)))return r;if("function"==typeof(o=e.valueOf)&&!n(r=o.call(e)))return r;if(!t&&"function"==typeof(o=e.toString)&&!n(r=o.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var o=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:o)(e)}},function(e,t,o){var n=o(374),r=o(691),i=o(425),a=o(418)("IE_PROTO"),s=function(){},l=function(){var e,t=o(421)("iframe"),n=i.length;for(t.style.display="none",o(454).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var o;return null!==e?(s.prototype=n(e),o=new s,s.prototype=null,o[a]=e):o=l(),void 0===t?o:r(o,t)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,o){t.f=o(369)},function(e,t,o){var n=o(368),r=o(363),i=o(399),a=o(426),s=o(379).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){var n=o(414),r=o(410),i=o(387),a=o(422),s=o(385),l=o(446),c=Object.getOwnPropertyDescriptor;t.f=o(377)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}},function(e,t,o){e.exports={default:o(716),__esModule:!0}},function(e,t,o){var n=o(402),r=o(369)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,o,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?o:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,o){"use strict";var n=o(409);function r(e){var t,o;this.promise=new e((function(e,n){if(void 0!==t||void 0!==o)throw TypeError("Bad Promise constructor");t=e,o=n})),this.resolve=n(t),this.reject=n(o)}e.exports.f=function(e){return new r(e)}},function(e,t,o){"use strict";var n=o(8),r=o(11),i=o(13),a=o(9),s=o(12),l=o(10),c=o(360),u=o(2),h=o(0),p=o.n(h),d=o(50),f=o.n(d),m=o(391),g=o(165),b=o.n(g),v=o(137),j=o(6),y=o.n(j),O=o(164),S=o(5),C=o(22);function _(e){var t=Object(S.j)("Warning"),o=Object(C.a)();return p.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",className:y()(o.userWarning,e.className),"aria-hidden":"true"},p.a.createElement("title",null,t),p.a.createElement("path",{d:"M32.707,25.862a2.167,2.167,0,0,1-1.876,3.249H9.169a2.168,2.168,0,0,1-1.877-3.249L18.123,7.083a2.168,2.168,0,0,1,3.754,0Z",fill:"#d0021b",stroke:"#fff",strokeWidth:"1px"}),p.a.createElement("path",{d:"M20,20.979a2.077,2.077,0,1,0,2.076,2.077A2.076,2.076,0,0,0,20,20.979Zm-1.971-7.463.335,6.139a.541.541,0,0,0,.54.512H21.1a.543.543,0,0,0,.541-.512l.334-6.139a.542.542,0,0,0-.54-.572H18.569A.542.542,0,0,0,18.029,13.516Z",fill:"#fff"}))}
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */var E,w=function(e){function t(){var e,o;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s))),Object(u.a)(Object(i.a)(o),"handleDismissClick",(function(e){e.preventDefault(),e.stopPropagation(),o.props.onDismissClick()})),o}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.id+"-description";return p.a.createElement("div",{className:y()("embedLoader-error",v.a),"aria-describedby":e,"aria-label":Object(S.j)("Error"),role:"alert","aria-live":"assertive",tabIndex:-1},p.a.createElement(_,{className:"embedLoader-icon embedLoader-warningIcon"}),p.a.createElement("span",{id:e,className:"embedLoader-errorMessage"},this.props.children),p.a.createElement(O.a,{title:Object(S.j)("Remove"),onClick:this.handleDismissClick}))}}]),t}(p.a.Component),x=o(191),k=o(173),L=o(27),I=o(68),N=o(174),T=o(36),R=o(72),A=function(e){function t(){var e,o;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o=Object(r.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s))),Object(u.a)(Object(i.a)(o),"descrID",Object(L.c)("attachmentError")),o}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,o=e.name,n=t||o,r=this.props.message.split("\n"),i=Object(x.a)(r),a=i[0],s=i.slice(1),l=n&&0===s.length,c=Object(k.a)(),u=Object(N.a)(),h=Object(I.a)();return p.a.createElement(T.a,{className:y()("hasError",v.a),size:T.b.SMALL,tabIndex:0,"aria-describedby":this.descrID,"aria-label":Object(S.j)("Error"),role:"alert","aria-live":"assertive"},p.a.createElement("div",{className:y()("attachment-box",c.box)},p.a.createElement("div",{className:y()("attachment-format",c.format)},p.a.createElement(R.a,{className:u.error})),p.a.createElement("div",{className:y()("attachment-main",c.main)},p.a.createElement("div",{id:this.descrID,className:y()("attachment-title",c.title)},a),p.a.createElement("div",{className:y()("attachment-body")},s.map((function(e,t){return p.a.createElement(p.a.Fragment,null,e,t!==s.length-1?p.a.createElement("br",null):null)}))),l&&p.a.createElement("div",{className:y()("attachment-metas","metas",c.metas)},p.a.createElement("span",{className:h.meta},n))),p.a.createElement(O.a,{title:Object(S.j)("Cancel"),className:y()("attachment-close",c.close),onClick:this.props.deleteAttachment})))}}]),t}(p.a.Component);o.d(t,"a",(function(){return E})),o.d(t,"b",(function(){return M})),function(e){e.FILE="file",e.STANDARD="standard"}(E||(E={}));var M=function(e){function t(e,o){var a;Object(n.a)(this,t),a=Object(r.a)(this,Object(l.a)(t).call(this,e)),Object(u.a)(Object(i.a)(a),"data",void 0),Object(u.a)(Object(i.a)(a),"handleRemoveClick",(function(){return a.remove()})),a.data=o;var s=b()("embedLoader");if(!o.error)return Object(r.a)(a);if(e.classList.remove(v.a),e.removeAttribute("tabindex"),o.type===E.FILE){var c=new Date,h=o.file;f.a.render(p.a.createElement(A,{message:o.error.message,name:h.name,dateUploaded:c.toISOString(),deleteAttachment:a.handleRemoveClick}),e)}else f.a.render(p.a.createElement(w,{onDismissClick:a.handleRemoveClick,id:s},o.error.message),e);return a}return Object(s.a)(t,e),Object(a.a)(t,[{key:"attach",value:function(){Object(c.a)(Object(l.a)(t.prototype),"attach",this).call(this),this.data.error||(this.remove(),this.quill&&this.quill.update())}}],[{key:"create",value:function(e){var o=Object(c.a)(Object(l.a)(t),"create",this).call(this,e);return o.classList.add("js-embed"),o}}]),t}(m.a);Object(u.a)(M,"blotName","embed-error"),Object(u.a)(M,"className","embed-error"),Object(u.a)(M,"tagName","div")},function(e,t,o){"use strict";var n=Array.prototype.slice,r=o(436),i=Object.keys,a=i?function(e){return i(e)}:o(656),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return r(e)?s(n.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,o){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),o="[object Arguments]"===t;return o||(o="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),o}},function(e,t,o){"use strict";var n=Object,r=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new r("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,o){"use strict";var n=o(437),r=o(415).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!r)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},function(e,t,o){"use strict";var n=o(20),r=o(8),i=o(11),a=o(10),s=o(360),l=o(9),c=o(12),u=o(359),h=o.n(u),p=o(383),d=function(e){function t(e,o){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(a.a)(t).call(this,e))).selection=o,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return Object(c.a)(t,e),Object(l.a)(t,null,[{key:"value",value:function(){}}]),Object(l.a)(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,o){if(0!==this._length)return Object(s.a)(Object(a.a)(t.prototype),"format",this).call(this,e,o);for(var n=this,r=0;null!=n&&n.statics.scope!==h.a.Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(r,t.CONTENTS.length,e,o),this._length=0)}},{key:"index",value:function(e,o){return e===this.textNode?0:Object(s.a)(Object(a.a)(t.prototype),"index",this).call(this,e,o)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){Object(s.a)(Object(a.a)(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e,o,r,i=this.textNode,a=this.selection.getNativeRange();if(null!=a&&a.start.node===i&&a.end.node===i){var s=[i,a.start.offset,a.end.offset];e=s[0],o=s[1],r=s[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var l=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof p.a?(e=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=t.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(h.a.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var c=[o,r].map((function(t){return Math.max(0,Math.min(e.data.length,t-1))})),u=Object(n.a)(c,2);return o=u[0],r=u[1],{startNode:e,startOffset:o,endNode:e,endOffset:r}}}}},{key:"update",value:function(e,t){var o=this;if(e.some((function(e){return"characterData"===e.type&&e.target===o.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(h.a.Embed);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\ufeff",t.a=d},function(e,t,o){"use strict";var n=o(8),r=o(9),i=function(){function e(t,o){Object(n.a)(this,e),this.quill=t,this.options=o,this.modules={}}return Object(r.a)(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.a=i},function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n=o(8),r=o(9),i=o(11),a=o(10),s=o(13),l=o(12),c=o(359),u=o.n(c),h=o(371),p=o.n(h),d=o(404),f=o.n(d),m=o(403),g=function(e){function t(e,o){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(a.a)(t).call(this,e,o))).lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(m.a.events.EDITOR_CHANGE,(function(e,t,o,n){e!==m.a.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&n!==m.a.sources.USER?r.transform(t):r.record(t,o))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(Object(s.a)(r))),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(Object(s.a)(r))),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(Object(s.a)(r))),r}return Object(l.a)(t,e),Object(r.a)(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var o=this.stack[e].pop();this.stack[t].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o[e],m.a.sources.USER),this.ignoreChange=!1;var n=function(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),o=e.length()-t;(function(e){var t=e.ops[e.ops.length-1];if(null==t)return!1;if(null!=t.insert)return"string"==typeof t.insert&&t.insert.endsWith("\n");if(null!=t.attributes)return Object.keys(t.attributes).some((function(e){return null!=u.a.query(e,u.a.Scope.BLOCK)}));return!1})(e)&&(o-=1);return o}(o[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var o=function(e){var t=new p.a,o=!1;return e.forEach((function(e){if(e.insert)t.delete(f.a.length(e));else{if(!e.retain||null!=e.attributes)return o=!0,!1;t.retain(e.retain)}return!0})),o?null:t}(e);null==o&&(o=this.quill.getContents().diff(t));var n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var r=this.stack.undo.pop();o=o.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(384).a);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return m}));var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(359),u=o.n(c),h=o(403),p=o(384),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),Object(s.a)(Object(a.a)(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(o(382).b);d.className="ql-syntax";var f=new u.a.Attributor.Class("token","hljs",{scope:u.a.Scope.INLINE}),m=function(e){function t(e,o){var r;if(Object(n.a)(this,t),"function"!=typeof(r=Object(i.a)(this,Object(a.a)(t).call(this,e,o))).options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var s=null;return r.quill.on(h.a.events.SCROLL_OPTIMIZE,(function(){clearTimeout(s),s=setTimeout((function(){r.highlight(),s=null}),r.options.interval)})),r.highlight(),r}return Object(l.a)(t,e),Object(r.a)(t,null,[{key:"register",value:function(){h.a.register(f,!0),h.a.register(d,!0)}}]),Object(r.a)(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(h.a.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(h.a.sources.SILENT),null!=t&&this.quill.setSelection(t,h.a.sources.SILENT)}}}]),t}(p.a);m.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3}},function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(8),r=o(2),i=function e(){var t=this;Object(n.a)(this,e),Object(r.a)(this,"listeners",[]),Object(r.a)(this,"emit",(function(e){t.listeners.forEach((function(t){t(e)}))})),Object(r.a)(this,"addEventListener",(function(e){t.listeners.push(e)})),Object(r.a)(this,"removeEventListener",(function(e){t.listeners=t.listeners.filter((function(t){return e!==t}))}))}},function(e,t,o){var n=o(674),r=o(677),i=o(678),a=1,s=2;e.exports=function(e,t,o,l,c,u){var h=o&a,p=e.length,d=t.length;if(p!=d&&!(h&&d>p))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,b=o&s?new n:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var v=e[m],j=t[m];if(l)var y=h?l(j,v,m,t,e,u):l(v,j,m,e,t,u);if(void 0!==y){if(y)continue;g=!1;break}if(b){if(!r(t,(function(e,t){if(!i(b,t)&&(v===e||c(v,e,o,l,u)))return b.push(t)}))){g=!1;break}}else if(v!==j&&!c(v,j,o,l,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,o){var n=o(385),r=o(398),i=o(418)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,o){e.exports=!o(377)&&!o(393)((function(){return 7!=Object.defineProperty(o(421)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,o){e.exports={default:o(685),__esModule:!0}},function(e,t,o){"use strict";t.__esModule=!0;var n=a(o(687)),r=a(o(697)),i="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,o){"use strict";var n=o(399),r=o(373),i=o(450),a=o(386),s=o(394),l=o(690),c=o(412),u=o(445),h=o(369)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,o,f,m,g,b){l(o,t,f);var v,j,y,O=function(e){if(!p&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new o(this,e)}}return function(){return new o(this,e)}},S=t+" Iterator",C="values"==m,_=!1,E=e.prototype,w=E[h]||E["@@iterator"]||m&&E[m],x=w||O(m),k=m?C?O("entries"):x:void 0,L="Array"==t&&E.entries||w;if(L&&(y=u(L.call(new e)))!==Object.prototype&&y.next&&(c(y,S,!0),n||"function"==typeof y[h]||a(y,h,d)),C&&w&&"values"!==w.name&&(_=!0,x=function(){return w.call(this)}),n&&!b||!p&&!_&&E[h]||a(E,h,x),s[t]=x,s[S]=d,m)if(v={values:C?x:O("values"),keys:g?x:O("keys"),entries:k},b)for(j in v)j in E||i(E,j,v[j]);else r(r.P+r.F*(p||_),t,v);return v}},function(e,t,o){e.exports=o(386)},function(e,t,o){var n=o(385),r=o(387),i=o(692)(!1),a=o(418)("IE_PROTO");e.exports=function(e,t){var o,s=r(e),l=0,c=[];for(o in s)o!=a&&n(s,o)&&c.push(o);for(;t.length>l;)n(s,o=t[l++])&&(~i(c,o)||c.push(o));return c}},function(e,t,o){var n=o(402);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,o){var n=o(423),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,o){var n=o(368).document;e.exports=n&&n.documentElement},function(e,t,o){var n=o(451),r=o(425).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t){},function(e,t,o){e.exports={default:o(713),__esModule:!0}},function(e,t,o){"use strict";var n=o(718);t.__esModule=!0,t.default=function(e){if((!r&&0!==r||e)&&i.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r};var r,i=n(o(719));e.exports=t.default},function(e,t,o){var n=o(432),r=o(369)("iterator"),i=o(394);e.exports=o(363).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||i[n(e)]}},function(e,t,o){var n=o(374),r=o(409),i=o(369)("species");e.exports=function(e,t){var o,a=n(e).constructor;return void 0===a||null==(o=n(a)[i])?t:r(o)}},function(e,t,o){var n,r,i,a=o(400),s=o(727),l=o(454),c=o(421),u=o(368),h=u.process,p=u.setImmediate,d=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,b={},v=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},j=function(e){v.call(e.data)};p&&d||(p=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return b[++g]=function(){s("function"==typeof e?e:Function(e),t)},n(g),g},d=function(e){delete b[e]},"process"==o(402)(h)?n=function(e){h.nextTick(a(v,e,1))}:m&&m.now?n=function(e){m.now(a(v,e,1))}:f?(i=(r=new f).port2,r.port1.onmessage=j,n=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",j,!1)):n="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:p,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,o){var n=o(374),r=o(380),i=o(433);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var o=i.f(e);return(0,o.resolve)(t),o.promise}},function(e,t,o){"use strict";(function(e){function n(t){var o;o="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var n,r,i="undefined"!=typeof document&&document.attachEvent;if(!i){var a=(r=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){return o.setTimeout(e,20)},function(e){return r(e)}),s=(n=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.clearTimeout,function(e){return n(e)}),l=function(e){var t=e.__resizeTriggers__,o=t.firstElementChild,n=t.lastElementChild,r=o.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.style.width=o.offsetWidth+1+"px",r.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},c=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(o){o.call(t,e)})))}))}},u=!1,h="",p="animationstart",d="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(u=!0),!1===u)for(var g=0;g<d.length;g++)if(void 0!==m.style[d[g]+"AnimationName"]){h="-"+d[g].toLowerCase()+"-",p=f[g],u=!0;break}var b="resizeanim",v="@"+h+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",j=h+"animation: 1ms "+b+"; "}return{addResizeListener:function(e,n){if(i)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var r=e.ownerDocument,a=o.getComputedStyle(e);a&&"static"==a.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var o=(v||"")+".resize-triggers { "+(j||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",null!=t&&r.setAttribute("nonce",t),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(e.createTextNode(o)),n.appendChild(r)}}(r),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=r.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",c,!0),p&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==b&&l(e)},e.__resizeTriggers__.addEventListener(p,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(i)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(p,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}o.d(t,"a",(function(){return n}))}).call(this,o(66))},function(e,t,o){"use strict";var n=o(28),r=o(2),i=o(20),a=o(8),s=o(9),l=o(11),c=o(10),u=o(13),h=o(12),p=o(381),d=o.n(p),f=o(371),m=o.n(f),g=o(359),b=o.n(g),v=o(403),j=o(395),y=o(384),O={scope:b.a.Scope.BLOCK,whitelist:["right","center","justify"]},S=new b.a.Attributor.Attribute("align","align",O),C=(new b.a.Attributor.Class("align","ql-align",O),new b.a.Attributor.Style("align","text-align",O)),_=o(360),E=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"value",value:function(e){var o=Object(_.a)(Object(c.a)(t.prototype),"value",this).call(this,e);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+o.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):o}}]),t}(b.a.Attributor.Style),w=(new b.a.Attributor.Class("color","ql-color",{scope:b.a.Scope.INLINE}),new E("color","color",{scope:b.a.Scope.INLINE})),x=(new b.a.Attributor.Class("background","ql-bg",{scope:b.a.Scope.INLINE}),new E("background","background-color",{scope:b.a.Scope.INLINE})),k=o(382),L={scope:b.a.Scope.BLOCK,whitelist:["rtl"]},I=new b.a.Attributor.Attribute("direction","dir",L),N=(new b.a.Attributor.Class("direction","ql-direction",L),new b.a.Attributor.Style("direction","direction",L)),T={scope:b.a.Scope.INLINE,whitelist:["serif","monospace"]},R=(new b.a.Attributor.Class("font","ql-font",T),new(function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"value",value:function(e){return Object(_.a)(Object(c.a)(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(b.a.Attributor.Style))("font","font-family",T)),A=(new b.a.Attributor.Class("size","ql-size",{scope:b.a.Scope.INLINE,whitelist:["small","large","huge"]}),new b.a.Attributor.Style("size","font-size",{scope:b.a.Scope.INLINE,whitelist:["10px","18px","32px"]}));o.d(t,"a",(function(){return F}));var M=Object(j.a)("quill:clipboard"),P="__ql-matcher",D=[[Node.TEXT_NODE,function(e,t){var o=e.data;if("O:P"===e.parentNode.tagName)return t.insert(o.trim());if(0===o.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!H(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};o=(o=o.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&G(e.parentNode)||null!=e.previousSibling&&G(e.previousSibling))&&(o=o.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&G(e.parentNode)||null!=e.nextSibling&&G(e.nextSibling))&&(o=o.replace(/\s+$/,n.bind(n,!1)))}return t.insert(o)}],[Node.TEXT_NODE,V],["br",function(e,t){U(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,function(e,t){var o=b.a.query(e);if(null==o)return t;if(o.prototype instanceof b.a.Embed){var n={},r=o.value(e);null!=r&&(n[o.blotName]=r,t=(new m.a).insert(n,o.formats(e)))}else"function"==typeof o.formats&&(t=q(t,o.blotName,o.formats(e)));return t}],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,function(e,t){var o=b.a.Attributor.Attribute.keys(e),n=b.a.Attributor.Class.keys(e),r=b.a.Attributor.Style.keys(e),i={};o.concat(n).concat(r).forEach((function(t){var o=b.a.query(t,b.a.Scope.ATTRIBUTE);null!=o&&(i[o.attrName]=o.value(e),i[o.attrName])||(null==(o=z[t])||o.attrName!==t&&o.keyName!==t||(i[o.attrName]=o.value(e)||void 0),null==(o=B[t])||o.attrName!==t&&o.keyName!==t||(o=B[t],i[o.attrName]=o.value(e)||void 0))})),Object.keys(i).length>0&&(t=q(t,i));return t}],[Node.ELEMENT_NODE,function(e,t){var o={},n=e.style||{};n.fontStyle&&"italic"===H(e).fontStyle&&(o.italic=!0);n.fontWeight&&(H(e).fontWeight.startsWith("bold")||parseInt(H(e).fontWeight)>=700)&&(o.bold=!0);Object.keys(o).length>0&&(t=q(t,o));parseFloat(n.textIndent||0)>0&&(t=(new m.a).insert("\t").concat(t));return t}],["li",function(e,t){var o=b.a.query(e);if(null==o||"list-item"!==o.blotName||!U(t,"\n"))return t;var n=-1,r=e.parentNode;for(;!r.classList.contains("ql-clipboard");)"list"===(b.a.query(r)||{}).blotName&&(n+=1),r=r.parentNode;return n<=0?t:t.compose((new m.a).retain(t.length()-1).retain(1,{indent:n}))}],["b",W.bind(W,"bold")],["i",W.bind(W,"italic")],["style",function(){return new m.a}]],z=[S,I].reduce((function(e,t){return e[t.keyName]=t,e}),{}),B=[C,x,w,N,R,A].reduce((function(e,t){return e[t.keyName]=t,e}),{}),F=function(e){function t(e,o){var n;return Object(a.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e,o))).quill.root.addEventListener("paste",n.onPaste.bind(Object(u.a)(n))),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],D.concat(n.options.matchers).forEach((function(e){var t=Object(i.a)(e,2),r=t[0],a=t[1];(o.matchVisual||a!==K)&&n.addMatcher(r,a)})),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[k.b.blotName]){var o=this.container.innerText;return this.container.innerHTML="",(new m.a).insert(o,Object(r.a)({},k.b.blotName,t[k.b.blotName]))}var n=this.prepareMatching(),a=Object(i.a)(n,2),s=a[0],l=a[1],c=function e(t,o,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,o){return o(t,e)}),new m.a):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,i){var a=e(i,o,n);return i.nodeType===t.ELEMENT_NODE&&(a=o.reduce((function(e,t){return t(i,e)}),a),a=(i[P]||[]).reduce((function(e,t){return t(i,e)}),a)),r.concat(a)}),new m.a):new m.a}(this.container,s,l);return U(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new m.a).retain(c.length()-1).delete(1))),M.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.a.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,v.a.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new m.a).retain(e).concat(n),o),this.quill.setSelection(e+n.length(),v.a.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var o=this.quill.getSelection(),n=(new m.a).retain(o.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.a.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(o.length),t.quill.updateContents(n,v.a.sources.USER),t.quill.setSelection(n.length()-o.length,v.a.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],o=[];return this.matchers.forEach((function(n){var r=Object(i.a)(n,2),a=r[0],s=r[1];switch(a){case Node.TEXT_NODE:o.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[P]=e[P]||[],e[P].push(s)}))}})),[t,o]}}]),t}(y.a);function q(e,t,o){return"object"===Object(n.a)(t)?Object.keys(t).reduce((function(e,o){return q(e,o,t[o])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,d()({},Object(r.a)({},t,o),n.attributes))}),new m.a)}function H(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function U(e,t){for(var o="",n=e.ops.length-1;n>=0&&o.length<t.length;--n){var r=e.ops[n];if("string"!=typeof r.insert)break;o=r.insert+o}return o.slice(-1*t.length)===t}function G(e){if(0===e.childNodes.length)return!1;var t=H(e);return["block","list-item"].indexOf(t.display)>-1}function W(e,t,o){return q(o,e,!0)}function V(e,t){return U(t,"\n")||(G(e)||t.length()>0&&e.nextSibling&&G(e.nextSibling))&&t.insert("\n"),t}function K(e,t){if(G(e)&&null!=e.nextElementSibling&&!U(t,"\n\n")){var o=e.offsetHeight+parseFloat(H(e).marginTop)+parseFloat(H(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*o&&t.insert("\n")}return t}F.DEFAULTS={matchers:[],matchVisual:!0}},function(e,t,o){"use strict";var n=o(8),r=o(9),i=o(11),a=o(10),s=o(360),l=o(12),c=o(2),u=o(0),h=o.n(u),p=o(50),d=o.n(p),f=o(5),m=o(137),g=o(23),b=o(391),v=o(13),j=o(443),y=o(173),O=o(68),S=o(174),C=o(6),_=o.n(C),E=o(36),w=o(118),x=function(e){function t(){var e,o;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return o=Object(i.a)(this,(e=Object(a.a)(t)).call.apply(e,[this].concat(s))),Object(c.a)(Object(v.a)(o),"state",{progress:0}),Object(c.a)(Object(v.a)(o),"onProgressEvent",(function(e){var t=e.loaded/e.total,n=Math.round(100*t);o.setState({progress:n})})),o}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,o=e.name,n=e.type,r=t||o,i=Object(y.a)(),a=Object(S.a)(),s=Object(O.a)();return u.createElement(E.a,{size:E.b.SMALL,className:_()("attachment","isLoading",this.props.className,m.a),"aria-label":Object(f.j)("Uploading...")},u.createElement("div",{className:_()("attachment-box","attachment-loadingContent",i.loadingContent,i.box)},u.createElement("div",{className:_()("attachment-format",i.format)},u.createElement(w.a,{type:n,className:a.root})),u.createElement("div",{className:_()("attachment-main",i.main)},u.createElement("div",{className:_()("attachment-title",i.title)},r||Object(f.j)("Uploading...")),r&&u.createElement("div",{className:_()("attachment-metas","metas",i.metas)},u.createElement("span",{className:s.meta},Object(f.j)("Uploading..."))))),u.createElement("div",{className:i.loadingProgress,style:{width:"".concat(Math.min(this.state.progress,100),"%")}}))}},{key:"componentDidMount",value:function(){var e=this.props.progressEventEmitter;e instanceof j.a&&e.addEventListener(this.onProgressEvent)}},{key:"componentWillUnmount",value:function(){var e=this.props.progressEventEmitter;e instanceof j.a&&e.removeEventListener(this.onProgressEvent)}}]),t}(u.Component);o.d(t,"a",(function(){return k}));
/**
 * @copyright 2009-2019 Vanilla Forums Inc.
 * @license GPL-2.0-only
 */
var k=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,null,[{key:"create",value:function(e){var t;switch(e.loaderData.type){case"link":t=this.createLinkLoader(e.loaderData.link||"");break;case"image":t=this.createImageLoader();break;case"file":t=this.createFileLoader(e);break;default:throw new Error("Could not determine loader type for embed blot.")}return Object(g.o)(t,"loadingDataKey",e),t}},{key:"value",value:function(e){var t=Object(g.i)(e,"loadingDataKey",null);if(!t)throw new Error("A loading blot should have data set");return t}},{key:"createFileLoader",value:function(e){var o=Object(s.a)(Object(a.a)(t),"create",this).call(this),n=e.loaderData.file,r=Object(w.b)(n.type),i=new Date;return d.a.render(h.a.createElement(x,{type:r,size:n.size,dateUploaded:i.toISOString(),name:n.name,progressEventEmitter:e.loaderData.progressEventEmitter}),o,(function(){return o.classList.remove(m.a)})),o}},{key:"createImageLoader",value:function(){var e=Object(s.a)(Object(a.a)(t),"create",this).call(this);return e.classList.remove(m.a),e.classList.add("js-embed"),e.classList.add("embedLinkLoader"),e.innerHTML="<div class='embedLoader'>\n                            <div class='embedLoader-box ".concat(m.a,"' aria-label='").concat(Object(f.j)("Loading..."),"'><div class='embedLoader-loader'></div>\n                            </div>\n                        </div>"),e}},{key:"createLinkLoader",value:function(e){var o=Object(s.a)(Object(a.a)(t),"create",this).call(this);o.classList.remove(m.a),o.classList.add("js-embed"),o.classList.add("embedLinkLoader");var n=Object(g.h)(e);return o.innerHTML='<a href="#" class="embedLinkLoader-link '.concat(m.a,'">').concat(n,"&nbsp;<span aria-hidden=\"true\" class='embedLinkLoader-loader'></span></a>"),o}}]),t}(b.a);Object(c.a)(k,"blotName","embed-loading"),Object(c.a)(k,"className","js-embedLoader"),Object(c.a)(k,"tagName","div")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function a(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)n.call(e,t)&&o.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e,t){var o=r?r+e:e,n=this._events[o];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},s.prototype.emit=function(e,t,o,n,i,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,n),!0;case 5:return u.fn.call(u.context,t,o,n,i),!0;case 6:return u.fn.call(u.context,t,o,n,i,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,o);break;case 4:u[c].fn.call(u[c].context,t,o,n);break;default:if(!l)for(p=1,l=new Array(h-1);p<h;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,o){var n=new a(t,o||this),i=r?r+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},s.prototype.once=function(e,t,o){var n=new a(t,o||this,!0),i=r?r+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},s.prototype.removeListener=function(e,t,o,n){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||n&&!s.once||o&&s.context!==o||(0==--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||n&&!s[l].once||o&&s[l].context!==o)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new i:delete this._events[a]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,s.EventEmitter=s,e.exports=s},function(e,t){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:n.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var o=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>o.length)&&(t=o.length),t-=e.length;var n=o.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,o=Object(this),n=o.length>>>0,r=arguments[1],i=0;i<n;i++)if(t=o[i],e.call(r,t,i,o))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var o=-1,n=1,r=0;function i(e,t,c){if(e==t)return e?[[r,e]]:[];(c<0||e.length<c)&&(c=null);var h=s(e,t),p=e.substring(0,h);h=l(e=e.substring(h),t=t.substring(h));var d=e.substring(e.length-h),f=function(e,t){var c;if(!e)return[[n,t]];if(!t)return[[o,e]];var u=e.length>t.length?e:t,h=e.length>t.length?t:e,p=u.indexOf(h);if(-1!=p)return c=[[n,u.substring(0,p)],[r,h],[n,u.substring(p+h.length)]],e.length>t.length&&(c[0][0]=c[2][0]=o),c;if(1==h.length)return[[o,e],[n,t]];var d=function(e,t){var o=e.length>t.length?e:t,n=e.length>t.length?t:e;if(o.length<4||2*n.length<o.length)return null;function r(e,t,o){for(var n,r,i,a,c=e.substring(o,o+Math.floor(e.length/4)),u=-1,h="";-1!=(u=t.indexOf(c,u+1));){var p=s(e.substring(o),t.substring(u)),d=l(e.substring(0,o),t.substring(0,u));h.length<d+p&&(h=t.substring(u-d,u)+t.substring(u,u+p),n=e.substring(0,o-d),r=e.substring(o+p),i=t.substring(0,u-d),a=t.substring(u+p))}return 2*h.length>=e.length?[n,r,i,a,h]:null}var i,a,c,u,h,p=r(o,n,Math.ceil(o.length/4)),d=r(o,n,Math.ceil(o.length/2));if(!p&&!d)return null;i=d?p&&p[4].length>d[4].length?p:d:p;e.length>t.length?(a=i[0],c=i[1],u=i[2],h=i[3]):(u=i[0],h=i[1],a=i[2],c=i[3]);var f=i[4];return[a,c,u,h,f]}(e,t);if(d){var f=d[0],m=d[1],g=d[2],b=d[3],v=d[4],j=i(f,g),y=i(m,b);return j.concat([[r,v]],y)}return function(e,t){for(var r=e.length,i=t.length,s=Math.ceil((r+i)/2),l=s,c=2*s,u=new Array(c),h=new Array(c),p=0;p<c;p++)u[p]=-1,h[p]=-1;u[l+1]=0,h[l+1]=0;for(var d=r-i,f=d%2!=0,m=0,g=0,b=0,v=0,j=0;j<s;j++){for(var y=-j+m;y<=j-g;y+=2){for(var O=l+y,S=(x=y==-j||y!=j&&u[O-1]<u[O+1]?u[O+1]:u[O-1]+1)-y;x<r&&S<i&&e.charAt(x)==t.charAt(S);)x++,S++;if(u[O]=x,x>r)g+=2;else if(S>i)m+=2;else if(f){if((E=l+d-y)>=0&&E<c&&-1!=h[E]){var C=r-h[E];if(x>=C)return a(e,t,x,S)}}}for(var _=-j+b;_<=j-v;_+=2){for(var E=l+_,w=(C=_==-j||_!=j&&h[E-1]<h[E+1]?h[E+1]:h[E-1]+1)-_;C<r&&w<i&&e.charAt(r-C-1)==t.charAt(i-w-1);)C++,w++;if(h[E]=C,C>r)v+=2;else if(w>i)b+=2;else if(!f){if((O=l+d-_)>=0&&O<c&&-1!=u[O]){var x=u[O];S=l+x-O;if(x>=(C=r-C))return a(e,t,x,S)}}}}return[[o,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-h),t=t.substring(0,t.length-h));return p&&f.unshift([r,p]),d&&f.push([r,d]),function e(t){t.push([r,""]);var i=0;var a=0;var c=0;var u="";var h="";var p;for(;i<t.length;)switch(t[i][0]){case n:c++,h+=t[i][1],i++;break;case o:a++,u+=t[i][1],i++;break;case r:a+c>1?(0!==a&&0!==c&&(0!==(p=s(h,u))&&(i-a-c>0&&t[i-a-c-1][0]==r?t[i-a-c-1][1]+=h.substring(0,p):(t.splice(0,0,[r,h.substring(0,p)]),i++),h=h.substring(p),u=u.substring(p)),0!==(p=l(h,u))&&(t[i][1]=h.substring(h.length-p)+t[i][1],h=h.substring(0,h.length-p),u=u.substring(0,u.length-p))),0===a?t.splice(i-c,a+c,[n,h]):0===c?t.splice(i-a,a+c,[o,u]):t.splice(i-a-c,a+c,[o,u],[n,h]),i=i-a-c+(a?1:0)+(c?1:0)+1):0!==i&&t[i-1][0]==r?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,c=0,a=0,u="",h=""}""===t[t.length-1][1]&&t.pop();var d=!1;i=1;for(;i<t.length-1;)t[i-1][0]==r&&t[i+1][0]==r&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),d=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),d=!0)),i++;d&&e(t)}(f),null!=c&&(f=function(e,t){var n=function(e,t){if(0===t)return[r,e];for(var n=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===o||a[0]===r){var s=n+a[1].length;if(t===s)return[i+1,e];if(t<s){e=e.slice();var l=t-n,c=[a[0],a[1].slice(0,l)],u=[a[0],a[1].slice(l)];return e.splice(i,1,c,u),[i+1,e]}n=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],a=n[0],s=i[a],l=i[a+1];if(null==s)return e;if(s[0]!==r)return e;if(null!=l&&s[1]+l[1]===l[1]+s[1])return i.splice(a,2,l,s),u(i,a,2);if(null!=l&&0===l[1].indexOf(s[1])){i.splice(a,2,[l[0],s[1]],[0,s[1]]);var c=l[1].slice(s[1].length);return c.length>0&&i.splice(a+2,0,[l[0],c]),u(i,a,3)}return e}(f,c)),f=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=2;a<e.length;a+=1)e[a-2][0]===r&&((s=e[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&e[a-1][0]===o&&i(e[a-1][1])&&e[a][0]===n&&i(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));var s;if(!t)return e;var l=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&l.push(e[a]);return l}(f)}function a(e,t,o,n){var r=e.substring(0,o),a=t.substring(0,n),s=e.substring(o),l=t.substring(n),c=i(r,a),u=i(s,l);return c.concat(u)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var o=0,n=Math.min(e.length,t.length),r=n,i=0;o<r;)e.substring(i,r)==t.substring(i,r)?i=o=r:n=r,r=Math.floor((n-o)/2+o);return r}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var o=0,n=Math.min(e.length,t.length),r=n,i=0;o<r;)e.substring(e.length-r,e.length-i)==t.substring(t.length-r,t.length-i)?i=o=r:n=r,r=Math.floor((n-o)/2+o);return r}var c=i;function u(e,t,o){for(var n=t+o-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var r=e[n],i=e[n+1];r[0]===i[1]&&e.splice(n,2,[r[0],r[1]+i[1]])}return e}c.INSERT=n,c.DELETE=o,c.EQUAL=r,e.exports=c},function(e,t,o){"use strict";var n;if(!Object.keys){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=o(436),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,o="[object Function]"===i.call(e),n=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!o&&!n)throw new TypeError("Object.keys called on a non-object");var f=c&&o;if(s&&e.length>0&&!r.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(n&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var b in e)f&&"prototype"===b||!r.call(e,b)||p.push(String(b));if(l)for(var v=function(e){if("undefined"==typeof window||!d)return h(e);try{return h(e)}catch(e){return!1}}(e),j=0;j<u.length;++j)v&&"constructor"===u[j]||!r.call(e,u[j])||p.push(u[j]);return p}}e.exports=n},function(e,t,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},function(e,t,o){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},function(e,t,o){"use strict";var n=o(660),r=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=i(e,"lastIndex");return!(!t||!n(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,r.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,o){"use strict";var n=o(661);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,o){"use strict";var n=o(662);e.exports=Function.prototype.bind||n},function(e,t,o){"use strict";var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var o,a=r.call(arguments,1),s=function(){if(this instanceof o){var n=t.apply(this,a.concat(r.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(r.call(arguments)))},l=Math.max(0,t.length-a.length),c=[],u=0;u<l;u++)c.push("$"+u);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,o.prototype=new h,h.prototype=null}return o}},function(e,t,o){"use strict";var n=o(415),r=o(437),i=o(438),a=o(664),s=Function.call.bind(r);n(s,{getPolyfill:i,implementation:r,shim:a}),e.exports=s},function(e,t,o){"use strict";var n=o(415).supportsDescriptors,r=o(438),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=r(),t=l(c),o=i(t,"flags");return o&&o.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,o){"use strict";var n=Date.prototype.getDay,r=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===r.call(e))}},function(e,t,o){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=o(667),r=o(668),i=o(669);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,o){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,o)}function c(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,o,n):"string"==typeof t?function(e,t,o){"string"==typeof o&&""!==o||(o="utf8");if(!l.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,o),r=(e=s(e,n)).write(t,o);r!==n&&(e=e.slice(0,r));return e}(e,t,o):function(e,t){if(l.isBuffer(t)){var o=0|d(t.length);return 0===(e=s(e,o)).length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function p(e,t){var o=t.length<0?0:0|d(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return H(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,o);case"utf8":case"utf-8":return w(this,t,o);case"ascii":return k(this,t,o);case"latin1":case"binary":return L(this,t,o);case"base64":return E(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function b(e,t,o,n,r){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=r?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(r)return-1;o=e.length-1}else if(o<0){if(!r)return-1;o=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,o,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):v(e,[t],o,n,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,o,n,r){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(i=o;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(o+l>s&&(o=s-l),i=o;i>=0;i--){for(var h=!0,p=0;p<l;p++)if(c(e,i+p)!==c(t,p)){h=!1;break}if(h)return i}return-1}function j(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n))>r&&(n=r):n=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function y(e,t,o,n){return U(q(t,e.length-o),e,o,n)}function O(e,t,o,n){return U(function(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}(t),e,o,n)}function S(e,t,o,n){return O(e,t,o,n)}function C(e,t,o,n){return U(H(t),e,o,n)}function _(e,t,o,n){return U(function(e,t){for(var o,n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),n=o>>8,r=o%256,i.push(r),i.push(n);return i}(t,e.length-o),e,o,n)}function E(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function w(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;r<o;){var i,a,s,l,c=e[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=o)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[r+1],a=e[r+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[r+1],a=e[r+2],s=e[r+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=h}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var o="",n=0;for(;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=x));return o}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,o){return c(null,e,t,o)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,o){return function(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}(null,e,t,o)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,r=0,i=Math.min(o,n);r<i;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return o<n?-1:n<o?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=l.allocUnsafe(t),r=0;for(o=0;o<e.length;++o){var a=e[o];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,o,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||o>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=o)return 0;if(n>=r)return-1;if(t>=o)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(n>>>=0),a=(o>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,r),u=e.slice(t,o),h=0;h<s;++h)if(c[h]!==u[h]){i=c[h],a=u[h];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},l.prototype.indexOf=function(e,t,o){return b(this,e,t,o,!0)},l.prototype.lastIndexOf=function(e,t,o){return b(this,e,t,o,!1)},l.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return j(this,e,t,o);case"utf8":case"utf-8":return y(this,e,t,o);case"ascii":return O(this,e,t,o);case"latin1":case"binary":return S(this,e,t,o);case"base64":return C(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(127&e[r]);return n}function L(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;r<o;++r)n+=String.fromCharCode(e[r]);return n}function I(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var r="",i=t;i<o;++i)r+=F(e[i]);return r}function N(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function T(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,o,n,r,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function A(e,t,o,n){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-o,2);r<i;++r)e[o+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function M(e,t,o,n){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-o,4);r<i;++r)e[o+r]=t>>>8*(n?r:3-r)&255}function P(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function D(e,t,o,n,i){return i||P(e,0,o,4),r.write(e,t,o,n,23,4),o+4}function z(e,t,o,n,i){return i||P(e,0,o,8),r.write(e,t,o,n,52,8),o+8}l.prototype.slice=function(e,t){var o,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;o=new l(r,void 0);for(var i=0;i<r;++i)o[i]=this[i+e]}return o},l.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},l.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||T(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},l.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||R(this,e,t,o,Math.pow(2,8*o)-1,0);var r=1,i=0;for(this[t]=255&e;++i<o&&(r*=256);)this[t+i]=e/r&255;return t+o},l.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||R(this,e,t,o,Math.pow(2,8*o)-1,0);var r=o-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+o},l.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);R(this,e,t,o,r-1,-r)}var i=0,a=1,s=0;for(this[t]=255&e;++i<o&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},l.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*o-1);R(this,e,t,o,r-1,-r)}var i=o-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},l.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,o){return D(this,e,t,!0,o)},l.prototype.writeFloatBE=function(e,t,o){return D(this,e,t,!1,o)},l.prototype.writeDoubleLE=function(e,t,o){return z(this,e,t,!0,o)},l.prototype.writeDoubleBE=function(e,t,o){return z(this,e,t,!1,o)},l.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var r,i=n-o;if(this===e&&o<t&&t<n)for(r=i-1;r>=0;--r)e[r+t]=this[r+o];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},l.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var i;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(i=t;i<o;++i)this[i]=e;else{var a=l.isBuffer(e)?e:q(new l(e,n).toString()),s=a.length;for(i=0;i<o-t;++i)this[i+t]=a[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var o;t=t||1/0;for(var n=e.length,r=null,i=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(o<56320){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=65536+(r-55296<<10|o-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,o<128){if((t-=1)<0)break;i.push(o)}else if(o<2048){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,o,n){for(var r=0;r<n&&!(r+o>=t.length||r>=e.length);++r)t[r+o]=e[r];return r}}).call(this,o(66))},function(e,t,o){"use strict";t.byteLength=function(e){var t=c(e),o=t[0],n=t[1];return 3*(o+n)/4-n},t.toByteArray=function(e){var t,o,n=c(e),a=n[0],s=n[1],l=new i(function(e,t,o){return 3*(t+o)/4-o}(0,a,s)),u=0,h=s>0?a-4:a;for(o=0;o<h;o+=4)t=r[e.charCodeAt(o)]<<18|r[e.charCodeAt(o+1)]<<12|r[e.charCodeAt(o+2)]<<6|r[e.charCodeAt(o+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=r[e.charCodeAt(o)]<<2|r[e.charCodeAt(o+1)]>>4,l[u++]=255&t);1===s&&(t=r[e.charCodeAt(o)]<<10|r[e.charCodeAt(o+1)]<<4|r[e.charCodeAt(o+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,o=e.length,r=o%3,i=[],a=0,s=o-r;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===r?(t=e[o-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[o-2]<<8)+e[o-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){for(var r,i,a=[],s=t;s<o;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=r)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,o,n,r){var i,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=o?r-1:0,p=o?-1:1,d=e[t+h];for(h+=p,i=d&(1<<-u)-1,d>>=-u,u+=s;u>0;i=256*i+e[t+h],h+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,o,n,r,i){var a,s,l,c=8*i-r-1,u=(1<<c)-1,h=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[o+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[o+d]=255&a,d+=f,a/=256,c-=8);e[o+d-f]|=128*m}},function(e,t){var o={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return v}));var n=o(8),r=o(11),i=o(10),a=o(13),s=o(9),l=o(12),c=o(2),u=o(465),h=o(371),p=o.n(h),d=o(364),f=o(370),m=o(376),g=o(392),b=o(407),v=function(t){function o(e,t){var s;return Object(n.a)(this,o),s=Object(r.a)(this,Object(i.a)(o).call(this,e,t)),Object(c.a)(Object(a.a)(s),"imageMatcher",(function(e,t){var o=e.getAttribute("src"),n=e.getAttribute("alt")||"";if(o){var r={loaderData:{type:"image"},data:{embedType:"image",url:o,name:n,attributes:{}}};return(new p.a).insert(Object(c.a)({},b.a.blotName,r))}return t})),Object(c.a)(Object(a.a)(s),"linkMatcher",(function(e,t){var n=e.textContent;if(e.nodeType===Node.TEXT_NODE&&null!=n&&!s.inCodeFormat){var r=o.splitLinkOperationsOutOfText(n);r&&(t.ops=r)}return t})),s.addMatcher(Node.TEXT_NODE,s.linkMatcher),s.addMatcher("img",s.imageMatcher),s.addMatcher(".sr-only",(function(){return new p.a})),s}return Object(l.a)(o,t),Object(s.a)(o,null,[{key:"splitLinkOperationsOutOfText",value:function(e){var t=e.match(/https?:\/\/[^\s]+/g);if(t&&t.length>0){var o=[];return t.forEach((function(t){var n=e.split(t),r=n.shift();""!==r&&o.push({insert:r}),o.push({insert:t,attributes:{link:t}}),e=n.join(t)})),""!==e&&o.push({insert:e}),o}return null}}]),Object(s.a)(o,[{key:"onPaste",value:function(t){var o=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=this.quill.root.closest(".".concat("js-richEditorScrollContainer")),i=document.documentElement.scrollTop||document.body.scrollTop,a=r?r.scrollTop:0;this.container.focus(),this.quill.selection.update(d.a.sources.SILENT),n.length&&this.quill.deleteText(n.index,n.length,d.a.sources.SILENT),e((function(){var e=(new p.a).retain(n.index).concat(o.convert());o.quill.updateContents(e,d.a.sources.USER),o.quill.setSelection(e.length(),0,d.a.sources.SILENT),document.documentElement.scrollTop=document.body.scrollTop=i,r&&(r.scrollTop=a),o.quill.focus()}))}}},{key:"inCodeFormat",get:function(){var e=this.quill.getLastGoodSelection();return Object(f.l)(this.quill,m.a,e)||Object(f.l)(this.quill,g.a,e)}}]),o}(u.a)}).call(this,o(175).setImmediate)},function(e,t,o){var n=o(672);e.exports=function(e,t){return n(e,t)}},function(e,t,o){var n=o(673),r=o(67);e.exports=function e(t,o,i,a,s){return t===o||(null==t||null==o||!r(t)&&!r(o)?t!=t&&o!=o:n(t,o,i,a,e,s))}},function(e,t,o){var n=o(171),r=o(444),i=o(679),a=o(682),s=o(139),l=o(89),c=o(138),u=o(172),h=1,p="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,g,b,v){var j=l(e),y=l(t),O=j?d:s(e),S=y?d:s(t),C=(O=O==p?f:O)==f,_=(S=S==p?f:S)==f,E=O==S;if(E&&c(e)){if(!c(t))return!1;j=!0,C=!1}if(E&&!C)return v||(v=new n),j||u(e)?r(e,t,o,g,b,v):i(e,t,O,o,g,b,v);if(!(o&h)){var w=C&&m.call(e,"__wrapped__"),x=_&&m.call(t,"__wrapped__");if(w||x){var k=w?e.value():e,L=x?t.value():t;return v||(v=new n),b(k,L,o,g,v)}}return!!E&&(v||(v=new n),a(e,t,o,g,b,v))}},function(e,t,o){var n=o(170),r=o(675),i=o(676);function a(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=i,e.exports=a},function(e,t){var o="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,o),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,o){var n=o(108),r=o(226),i=o(109),a=o(444),s=o(680),l=o(681),c=1,u=2,h="[object Boolean]",p="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",b="[object Set]",v="[object String]",j="[object Symbol]",y="[object ArrayBuffer]",O="[object DataView]",S=n?n.prototype:void 0,C=S?S.valueOf:void 0;e.exports=function(e,t,o,n,S,_,E){switch(o){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!_(new r(e),new r(t)));case h:case p:case m:return i(+e,+t);case d:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case f:var w=s;case b:var x=n&c;if(w||(w=l),e.size!=t.size&&!x)return!1;var k=E.get(e);if(k)return k==t;n|=u,E.set(e,t);var L=a(w(e),w(t),n,S,_,E);return E.delete(e),L;case j:if(C)return C.call(e)==C.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},function(e,t){e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},function(e,t,o){var n=o(227),r=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,a,s,l){var c=o&r,u=n(e),h=u.length;if(h!=n(t).length&&!c)return!1;for(var p=h;p--;){var d=u[p];if(!(c?d in t:i.call(t,d)))return!1}var f=l.get(e);if(f&&l.get(t))return f==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=c;++p<h;){var b=e[d=u[p]],v=t[d];if(a)var j=c?a(v,b,d,t,e,l):a(b,v,d,e,t,l);if(!(void 0===j?b===v||s(b,v,o,a,l):j)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var y=e.constructor,O=t.constructor;y!=O&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof O&&O instanceof O)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t,o){o(684),e.exports=o(363).Object.getPrototypeOf},function(e,t,o){var n=o(398),r=o(445);o(420)("getPrototypeOf",(function(){return function(e){return r(n(e))}}))},function(e,t,o){o(686);var n=o(363).Object;e.exports=function(e,t,o){return n.defineProperty(e,t,o)}},function(e,t,o){var n=o(373);n(n.S+n.F*!o(377),"Object",{defineProperty:o(379).f})},function(e,t,o){e.exports={default:o(688),__esModule:!0}},function(e,t,o){o(411),o(413),e.exports=o(426).f("iterator")},function(e,t,o){var n=o(423),r=o(417);e.exports=function(e){return function(t,o){var i,a,s=String(r(t)),l=n(o),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,o){"use strict";var n=o(424),r=o(410),i=o(412),a={};o(386)(a,o(369)("iterator"),(function(){return this})),e.exports=function(e,t,o){e.prototype=n(a,{next:r(1,o)}),i(e,t+" Iterator")}},function(e,t,o){var n=o(379),r=o(374),i=o(401);e.exports=o(377)?Object.defineProperties:function(e,t){r(e);for(var o,a=i(t),s=a.length,l=0;s>l;)n.f(e,o=a[l++],t[o]);return e}},function(e,t,o){var n=o(387),r=o(453),i=o(693);e.exports=function(e){return function(t,o,a){var s,l=n(t),c=r(l.length),u=i(a,c);if(e&&o!=o){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===o)return e||u||0;return!e&&-1}}},function(e,t,o){var n=o(423),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):i(e,t)}},function(e,t,o){"use strict";var n=o(695),r=o(696),i=o(394),a=o(387);e.exports=o(449)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?o:"values"==t?e[o]:[o,e[o]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,o){e.exports={default:o(698),__esModule:!0}},function(e,t,o){o(699),o(456),o(704),o(705),e.exports=o(363).Symbol},function(e,t,o){"use strict";var n=o(368),r=o(385),i=o(377),a=o(373),s=o(450),l=o(700).KEY,c=o(393),u=o(419),h=o(412),p=o(408),d=o(369),f=o(426),m=o(427),g=o(701),b=o(702),v=o(374),j=o(380),y=o(398),O=o(387),S=o(422),C=o(410),_=o(424),E=o(703),w=o(429),x=o(428),k=o(379),L=o(401),I=w.f,N=k.f,T=E.f,R=n.Symbol,A=n.JSON,M=A&&A.stringify,P=d("_hidden"),D=d("toPrimitive"),z={}.propertyIsEnumerable,B=u("symbol-registry"),F=u("symbols"),q=u("op-symbols"),H=Object.prototype,U="function"==typeof R&&!!x.f,G=n.QObject,W=!G||!G.prototype||!G.prototype.findChild,V=i&&c((function(){return 7!=_(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,o){var n=I(H,t);n&&delete H[t],N(e,t,o),n&&e!==H&&N(H,t,n)}:N,K=function(e){var t=F[e]=_(R.prototype);return t._k=e,t},Y=U&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Z=function(e,t,o){return e===H&&Z(q,t,o),v(e),t=S(t,!0),v(o),r(F,t)?(o.enumerable?(r(e,P)&&e[P][t]&&(e[P][t]=!1),o=_(o,{enumerable:C(0,!1)})):(r(e,P)||N(e,P,C(1,{})),e[P][t]=!0),V(e,t,o)):N(e,t,o)},$=function(e,t){v(e);for(var o,n=g(t=O(t)),r=0,i=n.length;i>r;)Z(e,o=n[r++],t[o]);return e},X=function(e){var t=z.call(this,e=S(e,!0));return!(this===H&&r(F,e)&&!r(q,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,P)&&this[P][e])||t)},Q=function(e,t){if(e=O(e),t=S(t,!0),e!==H||!r(F,t)||r(q,t)){var o=I(e,t);return!o||!r(F,t)||r(e,P)&&e[P][t]||(o.enumerable=!0),o}},J=function(e){for(var t,o=T(O(e)),n=[],i=0;o.length>i;)r(F,t=o[i++])||t==P||t==l||n.push(t);return n},ee=function(e){for(var t,o=e===H,n=T(o?q:O(e)),i=[],a=0;n.length>a;)!r(F,t=n[a++])||o&&!r(H,t)||i.push(F[t]);return i};U||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(o){this===H&&t.call(q,o),r(this,P)&&r(this[P],e)&&(this[P][e]=!1),V(this,e,C(1,o))};return i&&W&&V(H,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",(function(){return this._k})),w.f=Q,k.f=Z,o(455).f=E.f=J,o(414).f=X,x.f=ee,i&&!o(399)&&s(H,"propertyIsEnumerable",X,!0),f.f=function(e){return K(d(e))}),a(a.G+a.W+a.F*!U,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),oe=0;te.length>oe;)d(te[oe++]);for(var ne=L(d.store),re=0;ne.length>re;)m(ne[re++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return r(B,e+="")?B[e]:B[e]=R(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?_(e):$(_(e),t)},defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var ie=c((function(){x.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return x.f(y(e))}}),A&&a(a.S+a.F*(!U||c((function(){var e=R();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,o,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(o=t=n[1],(j(t)||void 0!==e)&&!Y(e))return b(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!Y(t))return t}),n[1]=t,M.apply(A,n)}}),R.prototype[D]||o(386)(R.prototype,D,R.prototype.valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(e,t,o){var n=o(408)("meta"),r=o(380),i=o(385),a=o(379).f,s=0,l=Object.isExtensible||function(){return!0},c=!o(393)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!i(e,n)&&u(e),e}}},function(e,t,o){var n=o(401),r=o(428),i=o(414);e.exports=function(e){var t=n(e),o=r.f;if(o)for(var a,s=o(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,o){var n=o(402);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,o){var n=o(387),r=o(455).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(n(e))}},function(e,t,o){o(427)("asyncIterator")},function(e,t,o){o(427)("observable")},function(e,t,o){e.exports={default:o(707),__esModule:!0}},function(e,t,o){o(708),e.exports=o(363).Object.setPrototypeOf},function(e,t,o){var n=o(373);n(n.S,"Object",{setPrototypeOf:o(709).set})},function(e,t,o){var n=o(380),r=o(374),i=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=o(400)(Function.call,o(429).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,o){return i(e,o),t?e.__proto__=o:n(e,o),e}}({},!1):void 0),check:i}},function(e,t,o){e.exports={default:o(711),__esModule:!0}},function(e,t,o){o(712);var n=o(363).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,o){var n=o(373);n(n.S,"Object",{create:o(424)})},function(e,t,o){o(714),e.exports=o(363).Object.assign},function(e,t,o){var n=o(373);n(n.S+n.F,"Object",{assign:o(715)})},function(e,t,o){"use strict";var n=o(377),r=o(401),i=o(428),a=o(414),s=o(398),l=o(452),c=Object.assign;e.exports=!c||o(393)((function(){var e={},t={},o=Symbol(),n="abcdefghijklmnopqrst";return e[o]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[o]||Object.keys(c({},t)).join("")!=n}))?function(e,t){for(var o=s(e),c=arguments.length,u=1,h=i.f,p=a.f;c>u;)for(var d,f=l(arguments[u++]),m=h?r(f).concat(h(f)):r(f),g=m.length,b=0;g>b;)d=m[b++],n&&!p.call(f,d)||(o[d]=f[d]);return o}:c},function(e,t,o){o(717),e.exports=o(363).Object.keys},function(e,t,o){var n=o(398),r=o(401);o(420)("keys",(function(){return function(e){return r(n(e))}}))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},function(e,t,o){e.exports={default:o(721),__esModule:!0}},function(e,t,o){o(456),o(411),o(413),o(722),o(733),o(734),e.exports=o(363).Promise},function(e,t,o){"use strict";var n,r,i,a,s=o(399),l=o(368),c=o(400),u=o(432),h=o(373),p=o(380),d=o(409),f=o(723),m=o(724),g=o(460),b=o(461).set,v=o(728)(),j=o(433),y=o(462),O=o(729),S=o(463),C=l.TypeError,_=l.process,E=_&&_.versions,w=E&&E.v8||"",x=l.Promise,k="process"==u(_),L=function(){},I=r=j.f,N=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[o(369)("species")]=function(e){e(L,L)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==w.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(e){}}(),T=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var o=e._c;v((function(){for(var n=e._v,r=1==e._s,i=0,a=function(t){var o,i,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&P(e),e._h=1),!0===s?o=n:(u&&u.enter(),o=s(n),u&&(u.exit(),a=!0)),o===t.promise?c(C("Promise-chain cycle")):(i=T(o))?i.call(o,l,c):l(o)):c(n)}catch(e){u&&!a&&u.exit(),c(e)}};o.length>i;)a(o[i++]);e._c=[],e._n=!1,t&&!e._h&&A(e)}))}},A=function(e){b.call(l,(function(){var t,o,n,r=e._v,i=M(e);if(i&&(t=y((function(){k?_.emit("unhandledRejection",r,e):(o=l.onunhandledrejection)?o({promise:e,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)})),e._h=k||M(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},P=function(e){b.call(l,(function(){var t;k?_.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},z=function(e){var t,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===e)throw C("Promise can't be resolved itself");(t=T(e))?v((function(){var n={_w:o,_d:!1};try{t.call(e,c(z,n,1),c(D,n,1))}catch(e){D.call(n,e)}})):(o._v=e,o._s=1,R(o,!1))}catch(e){D.call({_w:o,_d:!1},e)}}};N||(x=function(e){f(this,x,"Promise","_h"),d(e),n.call(this);try{e(c(z,this,1),c(D,this,1))}catch(e){D.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=o(730)(x.prototype,{then:function(e,t){var o=I(g(this,x));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=k?_.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&R(this,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(z,e,1),this.reject=c(D,e,1)},j.f=I=function(e){return e===x||e===a?new i(e):r(e)}),h(h.G+h.W+h.F*!N,{Promise:x}),o(412)(x,"Promise"),o(731)("Promise"),a=o(363).Promise,h(h.S+h.F*!N,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!N),"Promise",{resolve:function(e){return S(s&&this===a?x:this,e)}}),h(h.S+h.F*!(N&&o(732)((function(e){x.all(e).catch(L)}))),"Promise",{all:function(e){var t=this,o=I(t),n=o.resolve,r=o.reject,i=y((function(){var o=[],i=0,a=1;m(e,!1,(function(e){var s=i++,l=!1;o.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,o[s]=e,--a||n(o))}),r)})),--a||n(o)}));return i.e&&r(i.v),o.promise},race:function(e){var t=this,o=I(t),n=o.reject,r=y((function(){m(e,!1,(function(e){t.resolve(e).then(o.resolve,n)}))}));return r.e&&n(r.v),o.promise}})},function(e,t){e.exports=function(e,t,o,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(o+": incorrect invocation!");return e}},function(e,t,o){var n=o(400),r=o(725),i=o(726),a=o(374),s=o(453),l=o(459),c={},u={};(t=e.exports=function(e,t,o,h,p){var d,f,m,g,b=p?function(){return e}:l(e),v=n(o,h,t?2:1),j=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(i(b)){for(d=s(e.length);d>j;j++)if((g=t?v(a(f=e[j])[0],f[1]):v(e[j]))===c||g===u)return g}else for(m=b.call(e);!(f=m.next()).done;)if((g=r(m,v,f.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,o){var n=o(374);e.exports=function(e,t,o,r){try{return r?t(n(o)[0],o[1]):t(o)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,o){var n=o(394),r=o(369)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[r]===e)}},function(e,t){e.exports=function(e,t,o){var n=void 0===o;switch(t.length){case 0:return n?e():e.call(o);case 1:return n?e(t[0]):e.call(o,t[0]);case 2:return n?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},function(e,t,o){var n=o(368),r=o(461).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==o(402)(a);e.exports=function(){var e,t,o,c=function(){var n,r;for(l&&(n=a.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?o():t=void 0,n}}t=void 0,n&&n.enter()};if(l)o=function(){a.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);o=function(){u.then(c)}}else o=function(){r.call(n,c)};else{var h=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),o=function(){p.data=h=!h}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,o()),t=r}}},function(e,t,o){var n=o(368).navigator;e.exports=n&&n.userAgent||""},function(e,t,o){var n=o(386);e.exports=function(e,t,o){for(var r in t)o&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},function(e,t,o){"use strict";var n=o(368),r=o(363),i=o(379),a=o(377),s=o(369)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,o){var n=o(369)("iterator"),r=!1;try{var i=[7][n]();i.return=function(){r=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var o=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:o=!0}},i[n]=function(){return a},e(i)}catch(e){}return o}},function(e,t,o){"use strict";var n=o(373),r=o(363),i=o(368),a=o(460),s=o(463);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,r.Promise||i.Promise),o="function"==typeof e;return this.then(o?function(o){return s(t,e()).then((function(){return o}))}:e,o?function(o){return s(t,e()).then((function(){throw o}))}:e)}})},function(e,t,o){"use strict";var n=o(373),r=o(433),i=o(462);n(n.S,"Promise",{try:function(e){var t=r.f(this),o=i(e);return(o.e?t.reject:t.resolve)(o.v),t.promise}})},function(e,t,o){e.exports={default:o(736),__esModule:!0}},function(e,t,o){o(737);var n=o(363).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,o){var n=o(387),r=o(429).f;o(420)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(n(e),t)}}))},function(e,t,o){"use strict";t.__esModule=!0;var n,r=o(447),i=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t,o){return t in e?(0,i.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(e,t,o){"use strict";t.__esModule=!0;var n=i(o(740)),r=i(o(743));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var o=[],n=!0,i=!1,a=void 0;try{for(var s,l=(0,r.default)(e);!(n=(s=l.next()).done)&&(o.push(s.value),!t||o.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,o){e.exports={default:o(741),__esModule:!0}},function(e,t,o){o(413),o(411),e.exports=o(742)},function(e,t,o){var n=o(432),r=o(369)("iterator"),i=o(394);e.exports=o(363).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,o){e.exports={default:o(744),__esModule:!0}},function(e,t,o){o(413),o(411),e.exports=o(745)},function(e,t,o){var n=o(374),r=o(459);e.exports=o(363).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}}])]);
//# sourceMappingURL=/api/v2/sourcemaps/forum/sourcemaps/owkmw/09f388db5242bf6587b7